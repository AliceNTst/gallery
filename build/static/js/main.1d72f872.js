/*! For license information please see main.1d72f872.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,_);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function j(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case T:return"Portal";case k:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ee=null;function ke(e){if(e=yi(e)){if("function"!==typeof Te)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),Te(e.stateNode,e.type,t))}}function Se(e){Ce?Ee?Ee.push(e):Ee=[e]:Ce=e}function xe(){if(Ce){var e=Ce,t=Ee;if(Ee=Ce=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==Ce||null!==Ee)&&(Pe(),xe())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ae=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ae=!1}function Me(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,Ue=!1,ze=null,Ve={onError:function(e){Le=!0,Fe=e}};function je(e,t,n,r,i,s,o,a,l){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Tt,Ct,Et,kt,St=!1,xt=[],It=null,Pt=null,Rt=null,Nt=new Map,Ot=new Map,At=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=_i(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){St=!1,null!==It&&Ut(It)&&(It=null),null!==Pt&&Ut(Pt)&&(Pt=null),null!==Rt&&Ut(Rt)&&(Rt=null),Nt.forEach(zt),Ot.forEach(zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return jt(t,e)}if(0<xt.length){jt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&jt(It,e),null!==Pt&&jt(Pt,e),null!==Rt&&jt(Rt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ft(n),null===n.blockedOn&&At.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=yt,s=qt.transition;qt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,qt.transition=s}}function Kt(e,t,n,r){var i=yt,s=qt.transition;qt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,qt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Lt(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Lt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=yi(i);if(null!==s&&bt(s),null===(s=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=_i(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=sn(_n),wn=sn(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function kn(){return En}var Sn=F({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=sn(Sn),In=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Nn),An=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,be(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,_r=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&lr(_r,r)||(_r=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Cr={},Er={};function kr(e){if(Cr[e])return Cr[e];if(!Tr[e])return e;var t,n=Tr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Cr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);var Sr=kr("animationend"),xr=kr("animationiteration"),Ir=kr("animationstart"),Pr=kr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Nr.length;Ar++){var Dr=Nr[Ar];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(xr,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(je.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Fe;Le=!1,Fe=null,Ue||(Ue=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,c),s=l}}}if(Ue)throw e=ze,Ue=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=_i(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=s,i=be(n),o=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Sr:case xr:case Ir:l=vn;break;case Pr:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Oe(p,d))&&u.push(Hr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!_i(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?_i(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,_i(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xn;else if(Wn(a))if($n)m=or;else{m=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,_r=null);break;case"focusout":_r=vr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var _;if(Dn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Bn?Vn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Bn&&(_=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Kr(r,y)).length&&(y=new wn(y,e,null,n,i),o.push({event:y,listeners:v}),_?y.data=_:null!==(_=jn(n))&&(y.data=_))),(_=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=_))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Oe(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Oe(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function _i(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[fi]||null}var Ti=[],Ci=-1;function Ei(e){return{current:e}}function ki(e){0>Ci||(e.current=Ti[Ci],Ti[Ci]=null,Ci--)}function Si(e,t){Ci++,Ti[Ci]=e.current,e.current=t}var xi={},Ii=Ei(xi),Pi=Ei(!1),Ri=xi;function Ni(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){ki(Pi),ki(Ii)}function Di(e,t,n){if(Ii.current!==xi)throw Error(s(168));Si(Ii,t),Si(Pi,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ri=Ii.current,Si(Ii,e),Si(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Pi),ki(Ii),Si(Ii,e)):ki(Pi),Si(Pi,n)}var Ui=null,zi=!1,Vi=!1;function ji(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=yt;try{var n=Ui;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,zi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Bi),i}finally{yt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ei(null),_s=null,ys=null,ws=null;function bs(){ws=ys=_s=null}function Ts(e){var t=vs.current;ki(vs),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){_s=e,ws=ys=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===ys){if(null===_s)throw Error(s(308));ys=e,_s.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var Ss=null;function xs(e){null===Ss?Ss=[e]:Ss.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ps(e,r)}function Ps(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function As(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ps(e,n)}return null===(i=r.interleaved)?(t.next=t,xs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ps(e,n)}function Ms(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var zs=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var js={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=As(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Ms(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=As(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rc(t,e,i,r),Ms(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=As(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rc(t,e,r,n),Ms(t,e,r))}};function Bs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=xi,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Oi(t)?Ri:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):xi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=js,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&js.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zs,Ns(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Oi(t)?Ri:Ii.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&js.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===zs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case T:return(t=zc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case T:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function g(i,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(i,h),is&&Ji(i,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,g),c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,g),c}function m(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,v=null,_=l.next();null!==g&&!_.done;m++,_=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=f(i,g,_.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(i,g),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y,g=v}if(_.done)return n(i,g),is&&Ji(i,m),u;if(null===g){for(;!_.done;m++,_=l.next())null!==(_=d(i,_.value,c))&&(a=o(_,a,m),null===h?u=_:h.sibling=_,h=_);return is&&Ji(i,m),u}for(g=r(i,g);!_.done;m++,_=l.next())null!==(_=p(g,i,m,_.value,c))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),a=o(_,a,m),null===h?u=_:h.sibling=_,h=_);return e&&g.forEach((function(e){return t(i,e)})),is&&Ji(i,m),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ks(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===C?((s=Lc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Mc(o.type,o.key,o.props,null,r.mode,l)).ref=Ks(r,s,o),l.return=r,r=l)}return a(r);case T:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=zc(o,r.mode,l)).return=r,r=s}return a(r);case O:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(M(o))return m(r,s,o,l);Gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Uc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Xs=Ys(!0),$s=Ys(!1),Js={},Zs=Ei(Js),eo=Ei(Js),to=Ei(Js);function no(e){if(e===Js)throw Error(s(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Zs),Si(Zs,t)}function io(){ki(Zs),ki(eo),ki(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(Si(eo,e),Si(Zs,n))}function oo(e){eo.current===e&&(ki(Zs),ki(eo))}var ao=Ei(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,go=null,mo=null,vo=null,_o=!1,yo=!1,wo=0,bo=0;function To(){throw Error(s(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),yo){o=0;do{if(yo=!1,wo=0,25<=o)throw Error(s(301));o+=1,vo=mo=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(yo)}if(ho.current=oa,t=null!==mo&&null!==mo.next,po=0,vo=mo=go=null,_o=!1,t)throw Error(s(300));return e}function ko(){var e=0!==wo;return wo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?go.memoizedState=vo=e:vo=vo.next=e,vo}function xo(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===vo?go.memoizedState:vo.next;if(null!==t)vo=t,mo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?go.memoizedState=vo=e:vo=vo.next=e}return vo}function Io(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,go.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,go.lanes|=o,Fl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Oo(e,t){var n=go,r=xo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,zo(9,Do.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(s(349));0!==(30&po)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=Ps(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,go,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return xo().memoizedState}function jo(e,t,n,r){var i=So();go.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=xo();r=void 0===r?null:r;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==r&&Co(r,o.deps))return void(i.memoizedState=zo(t,n,s,r))}go.flags|=e,i.memoizedState=zo(1|t,n,s,r)}function qo(e,t){return jo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),go.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{yt=n,fo.transition=r}}function ea(){return xo().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Is(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,xs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Is(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===go||null!==t&&t===go}function ia(e,t){yo=_o=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var oa={readContext:ks,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useInsertionEffect:To,useLayoutEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useMutableSource:To,useSyncExternalStore:To,useId:To,unstable_isNewReconciler:!1},aa={readContext:ks,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=go,i=So();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Rl)throw Error(s(349));0!==(30&po)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Rl.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:ks,useCallback:Xo,useContext:ks,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:Po,useRef:Vo,useState:function(){return Po(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(xo(),mo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:ea,unstable_isNewReconciler:!1},ca={readContext:ks,useCallback:Xo,useContext:ks,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=xo();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Io)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:Oo,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=As(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),da(0,t)},n}function ga(e,t,n){(n=As(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _a(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=As(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?$s(t,null,n,r):Xs(t,e.child,n,r)}function Ta(e,t,n,r,i){n=n.render;var s=t.ref;return Es(t,i),r=Eo(e,t,n,r,s,i),n=ko(),null===e||wa?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ac(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ea(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return xa(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Dl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Dl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Dl,Al),Al|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Dl,Al),Al|=r;return ba(e,t,i,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var s=Oi(n)?Ri:Ii.current;return s=Ni(t,s),Es(t,i),n=Eo(e,t,n,r,s,i),r=ko(),null===e||wa?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ia(e,t,n,r,i){if(Oi(n)){var s=!0;Li(t)}else s=!1;if(Es(t,i),null===t.stateNode)Wa(e,t),qs(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Ni(t,c=Oi(n)?Ri:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Ws(t,o,r,c),Rs=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Pi.current||Rs?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(a=Rs||Bs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Os(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ms(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Ni(t,l=Oi(n)?Ri:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ws(t,o,r,l),Rs=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Pi.current||Rs?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(c=Rs||Bs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Pa(e,t,n,r,s,i)}function Pa(e,t,n,r,i,s){Sa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ha(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Na(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ba(e,t,n,r),t.child}var Oa,Aa,Da,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):za(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ps(e,i),rc(r,e,i,-1))}return mc(),Va(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function za(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ja(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ja(e,n,t);else if(19===e.tag)ja(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Oi(t.type)&&Ai(),Ga(t),null;case 3:return r=t.stateNode,io(),ki(Pi),ki(Ii),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Aa(e,t),Ga(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":X(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var l in _e(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in _e(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zr("scroll",e):null!=u&&y(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return io(),Aa(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return Ts(t.type._context),Ga(t),null;case 19:if(ki(ao),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ga(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=ao.current,Si(ao,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ki(Pi),ki(Ii),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ki(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ao),null;case 4:return io(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in _e(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,$a=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$a&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fl(e,t,n),$a=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),_l(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){kc(e,e.return,m)}try{rl(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:ml(t,e),_l(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),_l(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){kc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),ye(l,a);var u=ye(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):y(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){kc(e,e.return,m)}}break;case 6:if(ml(t,e),_l(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){kc(e,e.return,m)}}break;case 3:if(ml(t,e),_l(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:ml(t,e),_l(e);break;case 13:ml(t,e),_l(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||h,ml(t,e),$a=u):ml(t,e),_l(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Tl(d);continue}}null!==p?(p.return=f,Za=p):Tl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(m){kc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),_l(e),4&r&&gl(e);case 21:}}function _l(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Za=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Xa;var c=$a;if(Xa=o,($a=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Cl(i):null!==l?(l.return=o,Za=l):Cl(i);for(;null!==s;)Za=s,wl(s,t,n),s=s.sibling;Za=i,Xa=a,$a=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):bl(e)}}function bl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ms(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}$a||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Tl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Cl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var El,kl=Math.ceil,Sl=w.ReactCurrentDispatcher,xl=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,Pl=0,Rl=null,Nl=null,Ol=0,Al=0,Dl=Ei(0),Ml=0,Ll=null,Fl=0,Ul=0,zl=0,Vl=null,jl=null,Bl=0,ql=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Xl=0,$l=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Pl)?$e():-1!==Zl?Zl:Zl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ol?Ol&-Ol:null!==gs.transition?(0===ec&&(ec=gt()),ec):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(s(185));vt(e,n,r),0!==(2&Pl)&&e===Rl||(e===Rl&&(0===(2&Pl)&&(Ul|=n),4===Ml&&lc(e,Ol)),ic(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(ql=$e()+500,zi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Rl?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zi=!0,ji(e)}(cc.bind(null,e)):ji(cc.bind(null,e)),oi((function(){0===(6&Pl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Pl))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===Rl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Pl;Pl|=2;var o=gc();for(Rl===e&&Ol===t||(Wl=null,ql=$e()+500,fc(e,t));;)try{yc();break}catch(l){pc(e,l)}bs(),Sl.current=o,Pl=i,null!==Nl?t=0:(Rl=null,Ol=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Tc(e,jl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Tc.bind(null,e,jl,Wl),t);break}Tc(e,jl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Tc.bind(null,e,jl,Wl),r);break}Tc(e,jl,Wl);break;default:throw Error(s(329))}}}return ic(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=jl,jl=n,null!==t&&ac(t)),e}function ac(e){null===jl?jl=e:jl.push.apply(jl,e)}function lc(e,t){for(t&=~zl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Pl))throw Error(s(327));Cc();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,jl,Wl),ic(e,$e()),null}function uc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(ql=$e()+500,zi&&Bi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Pl)&&Cc();var t=Pl;Pl|=1;var n=Il.transition,r=yt;try{if(Il.transition=null,yt=1,e)return e()}finally{yt=r,Il.transition=n,0===(6&(Pl=t))&&Bi()}}function dc(){Al=Dl.current,ki(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:io(),ki(Pi),ki(Ii),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(ao);break;case 10:Ts(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Rl=e,Nl=e=Dc(e.current,null),Ol=Al=t,Ml=0,Ll=null,zl=Ul=Fl=0,jl=Vl=null,null!==Ss){for(t=0;t<Ss.length;t++)if(null!==(r=(n=Ss[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ss=null}return e}function pc(e,t){for(;;){var n=Nl;try{if(bs(),ho.current=oa,_o){for(var r=go.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_o=!1}if(po=0,vo=mo=go=null,yo=!1,wo=0,xl.current=null,null===n||null===n.return){Ml=1,Ll=t,Nl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,_a(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),_a(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ml&&(Ml=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,pa(0,c,t));break e;case 1:l=c;var _=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof _.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gl||!Gl.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,ga(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(w){t=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function gc(){var e=Sl.current;return Sl.current=oa,null===e?oa:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Rl||0===(268435455&Fl)&&0===(268435455&Ul)||lc(Rl,Ol)}function vc(e,t){var n=Pl;Pl|=2;var r=gc();for(Rl===e&&Ol===t||(Wl=null,fc(e,t));;)try{_c();break}catch(i){pc(e,i)}if(bs(),Pl=n,Sl.current=r,null!==Nl)throw Error(s(261));return Rl=null,Ol=0,Ml}function _c(){for(;null!==Nl;)wc(Nl)}function yc(){for(;null!==Nl&&!Ye();)wc(Nl)}function wc(e){var t=El(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?bc(e):Nl=t,xl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Al)))return void(Nl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ml=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Tc(e,t,n){var r=yt,i=Il.transition;try{Il.transition=null,yt=1,function(e,t,n,r){do{Cc()}while(null!==Yl);if(0!==(6&Pl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Rl&&(Nl=Rl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Rc(tt,(function(){return Cc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Il.transition,Il.transition=null;var a=yt;yt=1;var l=Pl;Pl|=4,xl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,_=t.stateNode,y=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:ms(t.type,m),v);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(b){kc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Pl=l,yt=a,Il.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&Cc(),o=e.pendingLanes,0!==(1&o)?e===Jl?$l++:($l=0,Jl=e):$l=0,Bi()}(e,t,n,r)}finally{Il.transition=i,yt=r}return null}function Cc(){if(null!==Yl){var e=wt(Xl),t=Il.transition,n=yt;try{if(Il.transition=null,yt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Pl))throw Error(s(331));var i=Pl;for(Pl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var _=o.sibling;if(null!==_){_.return=o.return,Za=_;break e}Za=o.return}}var y=e.current;for(Za=y;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=y;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(T){kc(l,l.return,T)}if(l===a){Za=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Za=b;break e}Za=l.return}}if(Pl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(T){}r=!0}return r}finally{yt=n,Il.transition=t}}return!1}function Ec(e,t,n){e=Ds(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ds(t,e=ga(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Ol&n)===n&&(4===Ml||3===Ml&&(130023424&Ol)===Ol&&500>$e()-Bl?fc(e,0):zl|=n),ic(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ps(e,t))&&(vt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),xc(e,n)}function Rc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ac(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Lc(n.children,i,o,t);case E:a=8,i|=8;break;case k:return(e=Oc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case P:return(e=Oc(13,n,t,i)).elementType=P,e.lanes=o,e;case R:return(e=Oc(19,n,t,i)).elementType=R,e.lanes=o,e;case A:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case x:a=9;break e;case I:a=11;break e;case N:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Oc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Oc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(s),e}function Bc(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=jc(n,r,!0,e,0,s,0,a,l)).context=Bc(null),n=e.current,(s=As(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=As(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,o))&&(rc(e,i,o,s),Ms(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),fs();break;case 5:so(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(Si(ao,1&ao.current),null!==(e=Ha(e,t,n))?e.sibling:null);Si(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Ni(t,Ii.current);Es(t,n),i=Eo(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ns(t),i.updater=js,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=Pa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=ms(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=Ta(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,ms(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Os(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Na(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=$s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Sa(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ua(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Si(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Pi.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=As(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),r=r(i=ks(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=ms(r=t.type,t.pendingProps),Ca(e,t,r,i=ms(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ms(r,i),Wa(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Es(t,n),qs(t,r,i),Hs(t,r,i,n),Pa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(_t(t,1|n),ic(t,$e()),0===(6&Pl)&&(ql=$e()+500,Bi()))}break;case 13:hc((function(){var t=Ps(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},Tt=function(e){if(13===e.tag){var t=Ps(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nc(e),n=Ps(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Te=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Pe=hc;var tu={usingClientEntryPoint:!1,Events:[yi,wi,bi,Se,xe,uc]},nu={findFiberByHostInstance:_i,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function _(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=v.prototype;var w=y.prototype=new _;w.constructor=y,g(w,v.prototype),w.isPureReactComponent=!0;var b=Array.isArray,T=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:C.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,b(o)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=P(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=P(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:C};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)T.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,A(T);else{var t=r(u);null!==t&&D(b,t.startTime-e)}}function T(e,n){g=!1,m&&(m=!1,_(S),S=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(b,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,E=!1,k=null,S=-1,x=5,I=-1;function P(){return!(t.unstable_now()-I<x)}function R(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?C():(E=!1,k=null)}}else E=!1}if("function"===typeof y)C=function(){y(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=R,C=function(){O.postMessage(null)}}else C=function(){v(R,0)};function A(e){k=e,E||(E=!0,C())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,A(T))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(m?(_(S),S=-1):m=!0,D(b,s-o))):(e.sortIndex=a,n(c,e),g||p||(g=!0,A(T))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".55485aa9.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="gallery-art:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkgallery_art=self.webpackChunkgallery_art||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>Lf,SDK_VERSION:()=>Sg,_DEFAULT_ENTRY_NAME:()=>ug,_addComponent:()=>gg,_addOrOverwriteComponent:()=>mg,_apps:()=>dg,_clearComponents:()=>Tg,_components:()=>pg,_getProvider:()=>_g,_isFirebaseApp:()=>wg,_isFirebaseServerApp:()=>bg,_registerComponent:()=>vg,_removeServiceInstance:()=>yg,_serverApps:()=>fg,deleteApp:()=>Ng,getApp:()=>Pg,getApps:()=>Rg,initializeApp:()=>xg,initializeServerApp:()=>Ig,onLog:()=>Ag,registerVersion:()=>Og,setLogLevel:()=>Dg});var t=n(43),r=n.t(t,2),i=n(391);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var a,l,c,u,h,d,f,p,g,m,v,_={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},y={duration:.5,overwrite:!1,delay:0},w=1e8,b=1e-8,T=2*Math.PI,C=T/4,E=0,k=Math.sqrt,S=Math.cos,x=Math.sin,I=function(e){return"string"===typeof e},P=function(e){return"function"===typeof e},R=function(e){return"number"===typeof e},N=function(e){return"undefined"===typeof e},O=function(e){return"object"===typeof e},A=function(e){return!1!==e},D=function(){return"undefined"!==typeof window},M=function(e){return P(e)||I(e)},L="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},F=Array.isArray,U=/(?:-?\.?\d|\.)+/gi,z=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,V=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,j=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,B=/[+-]=-?[.\d]+/,q=/[^,'"\[\]\s]+/gi,W=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,H={},K={},G=function(e){return(K=Te(e,H))&&En},Q=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Y=function(e,t){return!t&&console.warn(e)},X=function(e,t){return e&&(H[e]=t)&&K&&(K[e]=t)||H},$=function(){return 0},J={suppressEvents:!0,isStart:!0,kill:!1},Z={suppressEvents:!0,kill:!1},ee={suppressEvents:!0},te={},ne=[],re={},ie={},se={},oe=30,ae=[],le="",ce=function(e){var t,n,r=e[0];if(O(r)||P(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=ae.length;n--&&!ae[n].targetTest(r););t=ae[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Ft(e[n],t)))||e.splice(n,1);return e},ue=function(e){return e._gsap||ce(et(e))[0]._gsap},he=function(e,t,n){return(n=e[t])&&P(n)?e[t]():N(n)&&e.getAttribute&&e.getAttribute(t)||n},de=function(e,t){return(e=e.split(",")).forEach(t)||e},fe=function(e){return Math.round(1e5*e)/1e5||0},pe=function(e){return Math.round(1e7*e)/1e7||0},ge=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},me=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},ve=function(){var e,t,n=ne.length,r=ne.slice(0);for(re={},ne.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},_e=function(e,t,n,r){ne.length&&!l&&ve(),e.render(t,n,r||l&&t<0&&(e._initted||e._startAt)),ne.length&&!l&&ve()},ye=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(q).length<2?t:I(e)?e.trim():e},we=function(e){return e},be=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Te=function(e,t){for(var n in t)e[n]=t[n];return e},Ce=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=O(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Ee=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},ke=function(e){var t,n=e.parent||u,r=e.keyframes?(t=F(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):be;if(A(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Se=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,o=e[r];if(i)for(s=t[i];o&&o[i]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},xe=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Ie=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Pe=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Re=function(e,t,n,r){return e._startAt&&(l?e._startAt.revert(Z):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Ne=function e(t){return!t||t._ts&&e(t.parent)},Oe=function(e){return e._repeat?Ae(e._tTime,e=e.duration()+e._rDelay)*e:0},Ae=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},De=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Me=function(e){return e._end=pe(e._start+(e._tDur/Math.abs(e._ts||e._rts||b)||0))},Le=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=pe(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Me(e),n._dirty||Pe(n,e)),e},Fe=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=De(e.rawTime(),t),(!t._dur||Ye(0,t.totalDuration(),n)-t._tTime>b)&&t.render(n,!0)),Pe(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Ue=function(e,t,n,r){return t.parent&&Ie(t),t._start=pe((R(n)?n:n||e!==u?Ke(e,n,t):e._time)+t._delay),t._end=pe(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Se(e,t,"_first","_last",e._sort?"_start":0),Be(t)||(e._recent=t),r||Fe(e,t),e._ts<0&&Le(e,e._tTime),e},ze=function(e,t){return(H.ScrollTrigger||Q("scrollTrigger",t))&&H.ScrollTrigger.create(t,e)},Ve=function(e,t,n,r,i){return Ht(e,t,i),e._initted?!n&&e._pt&&!l&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&g!==Et.frame?(ne.push(e),e._lazy=[i,r],1):void 0:1},je=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Be=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},qe=function(e,t,n,r){var i=e._repeat,s=pe(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:pe(s*(i+1)+e._rDelay*i):s,o>0&&!r&&Le(e,e._tTime=e._tDur*o),e.parent&&Me(e),n||Pe(e.parent,e),e},We=function(e){return e instanceof zt?Pe(e):qe(e,e._dur)},He={_start:0,endTime:$,totalDuration:$},Ke=function e(t,n,r){var i,s,o,a=t.labels,l=t._recent||He,c=t.duration()>=w?l.endTime(!1):t._dur;return I(n)&&(isNaN(n)||n in a)?(s=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(s=s/100*(F(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+s:c+s)):null==n?c:+n},Ge=function(e,t,n){var r,i,s=R(t[1]),o=(s?2:1)+(e<2?0:1),a=t[o];if(s&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=A(i.vars.inherit)&&i.parent;a.immediateRender=A(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new Xt(t[0],a,t[o+1])},Qe=function(e,t){return e||0===e?t(e):t},Ye=function(e,t,n){return n<e?e:n>t?t:n},Xe=function(e,t){return I(e)&&(t=W.exec(e))?t[1]:""},$e=[].slice,Je=function(e,t){return e&&O(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&O(e[0]))&&!e.nodeType&&e!==h},Ze=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return I(e)&&!t||Je(e,1)?(r=n).push.apply(r,et(e)):n.push(e)}))||n},et=function(e,t,n){return c&&!t&&c.selector?c.selector(e):!I(e)||n||!d&&kt()?F(e)?Ze(e,n):Je(e)?$e.call(e,0):e?[e]:[]:$e.call((t||f).querySelectorAll(e),0)},tt=function(e){return e=et(e)[0]||Y("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return et(t,n.querySelectorAll?n:n===e?Y("Invalid scope")||f.createElement("div"):e)}},nt=function(e){return e.sort((function(){return.5-Math.random()}))},rt=function(e){if(P(e))return e;var t=O(e)?e:{each:e},n=Ot(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,l=t.axis,c=r,u=r;return I(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(c=r[0],u=r[1]),function(e,o,h){var d,f,p,g,m,v,_,y,b,T=(h||t).length,C=s[T];if(!C){if(!(b="auto"===t.grid?0:(t.grid||[1,w])[1])){for(_=-w;_<(_=h[b++].getBoundingClientRect().left)&&b<T;);b<T&&b--}for(C=s[T]=[],d=a?Math.min(b,T)*c-.5:r%b,f=b===w?0:a?T*u/b-.5:r/b|0,_=0,y=w,v=0;v<T;v++)p=v%b-d,g=f-(v/b|0),C[v]=m=l?Math.abs("y"===l?g:p):k(p*p+g*g),m>_&&(_=m),m<y&&(y=m);"random"===r&&nt(C),C.max=_-y,C.min=y,C.v=T=(parseFloat(t.amount)||parseFloat(t.each)*(b>T?T-1:l?"y"===l?T/b:b:Math.max(b,T/b))||0)*("edges"===r?-1:1),C.b=T<0?i-T:i,C.u=Xe(t.amount||t.each)||0,n=n&&T<0?Rt(n):n}return T=(C[e]-C.min)/C.max||0,pe(C.b+(n?n(T):T)*C.v)+C.u}},it=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=pe(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(R(n)?0:Xe(n))}},st=function(e,t){var n,r,i=F(e);return!i&&O(e)&&(n=i=e.radius||w,e.values?(e=et(e.values),(r=!R(e[0]))&&(n*=n)):e=it(e.increment)),Qe(t,i?P(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,s,o=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),l=w,c=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(s=e[u].y-a)*s:Math.abs(e[u]-o))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||R(t)?c:c+Xe(t)}:it(e))},ot=function(e,t,n,r){return Qe(F(e)?!t:!0===n?!!(n=0):!r,(function(){return F(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},at=function(e,t,n){return Qe(n,(function(n){return e[~~t(n)]}))},lt=function(e){for(var t,n,r,i,s=0,o="";~(t=e.indexOf("random(",s));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?q:U),o+=e.substr(s,t-s)+ot(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),s=r+1;return o+e.substr(s,e.length-s)},ct=function(e,t,n,r,i){var s=t-e,o=r-n;return Qe(i,(function(t){return n+((t-e)/s*o||0)}))},ut=function(e,t,n){var r,i,s,o=e.labels,a=w;for(r in o)(i=o[r]-t)<0===!!n&&i&&a>(i=Math.abs(i))&&(s=r,a=i);return s},ht=function(e,t,n){var r,i,s,o=e.vars,a=o[t],l=c,u=e._ctx;if(a)return r=o[t+"Params"],i=o.callbackScope||e,n&&ne.length&&ve(),u&&(c=u),s=r?a.apply(i,r):a.call(i),c=l,s},dt=function(e){return Ie(e),e.scrollTrigger&&e.scrollTrigger.kill(!!l),e.progress()<1&&ht(e,"onInterrupt"),e},ft=[],pt=function(e){if(e)if(e=!e.name&&e.default||e,D()||e.headless){var t=e.name,n=P(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:$,render:on,add:qt,kill:ln,modifier:an,rawVars:0},s={targetTest:0,get:0,getSetter:tn,aliases:{},register:0};if(kt(),e!==r){if(ie[t])return;be(r,be(Ee(e,i),s)),Te(r.prototype,Te(i,Ee(e,s))),ie[r.prop=t]=r,e.targetTest&&(ae.push(r),te[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}X(t,r),e.register&&e.register(En,r,hn)}else ft.push(e)},gt=255,mt={aqua:[0,gt,gt],lime:[0,gt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,gt],navy:[0,0,128],white:[gt,gt,gt],olive:[128,128,0],yellow:[gt,gt,0],orange:[gt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[gt,0,0],pink:[gt,192,203],cyan:[0,gt,gt],transparent:[gt,gt,gt,0]},vt=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*gt+.5|0},_t=function(e,t,n){var r,i,s,o,a,l,c,u,h,d,f=e?R(e)?[e>>16,e>>8&gt,e&gt]:0:mt.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),mt[e])f=mt[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),s=e.charAt(3),e="#"+r+r+i+i+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&gt,f&gt,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&gt,e&gt]}else if("hsl"===e.substr(0,3))if(f=d=e.match(U),t){if(~e.indexOf("="))return f=e.match(z),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=vt(o+1/3,r,i),f[1]=vt(o,r,i),f[2]=vt(o-1/3,r,i);else f=e.match(U)||mt.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/gt,i=f[1]/gt,s=f[2]/gt,l=((c=Math.max(r,i,s))+(u=Math.min(r,i,s)))/2,c===u?o=a=0:(h=c-u,a=l>.5?h/(2-c-u):h/(c+u),o=c===r?(i-s)/h+(i<s?6:0):c===i?(s-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},yt=function(e){var t=[],n=[],r=-1;return e.split(bt).forEach((function(e){var i=e.match(V)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},wt=function(e,t,n){var r,i,s,o,a="",l=(e+a).match(bt),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map((function(e){return(e=_t(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(s=yt(e),(r=n.c).join(a)!==s.c.join(a)))for(o=(i=e.replace(bt,"1").split(V)).length-1;u<o;u++)a+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!i)for(o=(i=e.split(bt)).length-1;u<o;u++)a+=i[u]+l[u];return a+i[o]},bt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in mt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Tt=/hsl[a]?\(/,Ct=function(e){var t,n=e.join(" ");if(bt.lastIndex=0,bt.test(n))return t=Tt.test(n),e[1]=wt(e[1],t),e[0]=wt(e[0],t,yt(e[1])),!0},Et=function(){var e,t,n,r,i,s,o=Date.now,a=500,l=33,c=o(),u=c,g=1e3/240,m=g,_=[],y=function n(h){var d,f,p,v,y=o()-u,w=!0===h;if((y>a||y<0)&&(c+=y-l),((d=(p=(u+=y)-c)-m)>0||w)&&(v=++r.frame,i=p-1e3*r.time,r.time=p/=1e3,m+=d+(d>=g?4:g-d),f=1),w||(e=t(n)),f)for(s=0;s<_.length;s++)_[s](p,i,v,h)};return r={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){p&&(!d&&D()&&(h=d=window,f=h.document||{},H.gsap=En,(h.gsapVersions||(h.gsapVersions=[])).push(En.version),G(K||h.GreenSockGlobals||!h.gsap&&h||{}),ft.forEach(pt)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,m-1e3*r.time+1|0)},v=1,y(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),v=0,t=$},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){g=1e3/(e||240),m=1e3*r.time+g},add:function(e,t,n){var i=t?function(t,n,s,o){e(t,n,s,o),r.remove(i)}:e;return r.remove(e),_[n?"unshift":"push"](i),kt(),i},remove:function(e,t){~(t=_.indexOf(e))&&_.splice(t,1)&&s>=t&&s--},_listeners:_},r}(),kt=function(){return!v&&Et.wake()},St={},xt=/^[\d.\-M][\d.\-,\s]/,It=/["']/g,Pt=function(e){for(var t,n,r,i={},s=e.substr(1,e.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)n=s[a],t=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(It,"").trim():+r,o=n.substr(t+1).trim();return i},Rt=function(e){return function(t){return 1-e(1-t)}},Nt=function e(t,n){for(var r,i=t._first;i;)i instanceof zt?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Ot=function(e,t){return e&&(P(e)?e:St[e]||function(e){var t=(e+"").split("("),n=St[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Pt(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(ye)):St._CE&&xt.test(e)?St._CE("",e):n}(e))||t},At=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,s={easeIn:t,easeOut:n,easeInOut:r};return de(e,(function(e){for(var t in St[e]=H[e]=s,St[i=e.toLowerCase()]=n,s)St[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=St[e+"."+t]=s[t]})),s},Dt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Mt=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/T*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*x((e-o)*s)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:Dt(a);return s=T/s,l.config=function(n,r){return e(t,n,r)},l},Lt=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Dt(r);return i.config=function(n){return e(t,n)},i};de("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;At(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),St.Linear.easeNone=St.none=St.Linear.easeIn,At("Elastic",Mt("in"),Mt("out"),Mt()),function(e,t){var n=1/t,r=2*n,i=2.5*n,s=function(s){return s<n?e*s*s:s<r?e*Math.pow(s-1.5/t,2)+.75:s<i?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};At("Bounce",(function(e){return 1-s(1-e)}),s)}(7.5625,2.75),At("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),At("Circ",(function(e){return-(k(1-e*e)-1)})),At("Sine",(function(e){return 1===e?1:1-S(e*C)})),At("Back",Lt("in"),Lt("out"),Lt()),St.SteppedEase=St.steps=H.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*Ye(0,.99999999,e)|0)+i)*n}}},y.ease=St["quad.out"],de("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return le+=e+","+e+"Params,"}));var Ft=function(e,t){this.id=E++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:he,this.set=t?t.getSetter:tn},Ut=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,qe(this,+e.duration,1,1),this.data=e.data,c&&(this._ctx=c,c.data.push(this)),v||Et.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,qe(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(kt(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Le(this,e),!n._dp||n.parent||Fe(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Ue(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===b||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),_e(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Oe(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Oe(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Ae(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?De(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Ye(-Math.abs(this._delay),this._tDur,n),!1!==t),Me(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(kt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==b&&(this._tTime-=b)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Ue(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(A(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?De(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=ee);var t=l;return l=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),l=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,We(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,We(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Ke(this,e),A(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,A(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-b))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=P(e)?e:we,i=function(){var e=t.then;t.then=null,P(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){dt(this)},e}();be(Ut.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var zt=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=A(t.sortChildren),u&&Ue(t.parent||u,s(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&ze(s(r),t.scrollTrigger),r}o(t,e);var n=t.prototype;return n.to=function(e,t,n){return Ge(0,arguments,this),this},n.from=function(e,t,n){return Ge(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Ge(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,ke(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Xt(e,t,Ke(this,n),1),this},n.call=function(e,t,n){return Ue(this,Xt.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,s,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new Xt(e,n,Ke(this,i)),this},n.staggerFrom=function(e,t,n,r,i,s,o){return n.runBackwards=1,ke(n).immediateRender=A(n.immediateRender),this.staggerTo(e,t,n,r,i,s,o)},n.staggerFromTo=function(e,t,n,r,i,s,o,a){return r.startAt=n,ke(r).immediateRender=A(r.immediateRender),this.staggerTo(e,t,r,i,s,o,a)},n.render=function(e,t,n){var r,i,s,o,a,c,h,d,f,p,g,m,v=this._time,_=this._dirty?this.totalDuration():this._tDur,y=this._dur,w=e<=0?0:pe(e),T=this._zTime<0!==e<0&&(this._initted||!y);if(this!==u&&w>_&&e>=0&&(w=_),w!==this._tTime||n||T){if(v!==this._time&&y&&(w+=this._time-v,e+=this._time-v),r=w,f=this._start,c=!(d=this._ts),T&&(y||(v=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(g=this._yoyo,a=y+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=pe(w%a),w===_?(o=this._repeat,r=y):((o=~~(w/a))&&o===w/a&&(r=y,o--),r>y&&(r=y)),p=Ae(this._tTime,a),!v&&this._tTime&&p!==o&&this._tTime-p*a-this._dur<=0&&(p=o),g&&1&o&&(r=y-r,m=1),o!==p&&!this._lock){var C=g&&1&p,E=C===(g&&1&o);if(o<p&&(C=!C),v=C?0:w%y?y:w,this._lock=1,this.render(v||(m?0:pe(o*a)),t,!y)._lock=0,this._tTime=w,!t&&this.parent&&ht(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),v&&v!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,_=this._tDur,E&&(this._lock=2,v=C?y:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Nt(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,pe(v),pe(r)),h&&(w-=r-(r=h._start))),this._tTime=w,this._time=r,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,v=0),!v&&r&&!t&&!o&&(ht(this,"onStart"),this._tTime!==w))return this;if(r>=v&&e>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){h=0,s&&(w+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var k=e<0?e:r;i;){if(s=i._prev,(i._act||k<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(k-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(k-i._start)*i._ts,t,n||l&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!c){h=0,s&&(w+=this._zTime=k?-1e-8:b);break}}i=s}}if(h&&!t&&(this.pause(),h.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=f,Me(this),this.render(e,t,n);this._onUpdate&&!t&&ht(this,"onUpdate",!0),(w===_&&this._tTime>=this.totalDuration()||!w&&v)&&(f!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!y)&&(w===_&&this._ts>0||!w&&this._ts<0)&&Ie(this,1),t||e<0&&!v||!w&&!v&&_||(ht(this,w===_&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(w<_&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(R(t)||(t=Ke(this,t,e)),!(e instanceof Ut)){if(F(e))return e.forEach((function(e){return n.add(e,t)})),this;if(I(e))return this.addLabel(e,t);if(!P(e))return this;e=Xt.delayedCall(0,e)}return this!==e?Ue(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-w);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof Xt?t&&i.push(s):(n&&i.push(s),e&&i.push.apply(i,s.getChildren(!0,t,n)))),s=s._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return I(e)?this.removeLabel(e):P(e)?this.killTweensOf(e):(xe(this,e),e===this._recent&&(this._recent=this._last),Pe(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=pe(Et.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=Ke(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=Xt.delayedCall(0,t||$,n);return r.data="isPause",this._hasPause=1,Ue(this,r,Ke(this,e))},n.removePause=function(e){var t=this._first;for(e=Ke(this,e);t;)t._start===e&&"isPause"===t.data&&Ie(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Vt!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=et(e),s=this._first,o=R(t);s;)s instanceof Xt?me(s._targets,i)&&(o?(!Vt||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(i,t)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=Ke(r,e),s=t,o=s.startAt,a=s.onStart,l=s.onStartParams,c=s.immediateRender,u=Xt.to(r,be({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||b,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==e&&qe(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,be({startAt:{time:Ke(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),ut(this,Ke(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),ut(this,Ke(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+b)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,s=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return Pe(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Pe(this)},n.totalDuration=function(e){var t,n,r,i=0,s=this,o=s._last,a=w;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,Ue(s,o,n-o._delay,1)._lock=0):a=n,n<0&&o._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),a=0),o._end>i&&o._ts&&(i=o._end),o=t;qe(s,s===u&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if(u._ts&&(_e(u,De(e,u)),g=Et.frame),Et.frame>=oe){oe+=_.autoSleep||120;var t=u._first;if((!t||!t._ts)&&_.autoSleep&&Et._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Et.sleep()}}},t}(Ut);be(zt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Vt,jt,Bt=function(e,t,n,r,i,s,o){var a,l,c,u,h,d,f,p,g=new hn(this._pt,e,t,0,1,sn,null,i),m=0,v=0;for(g.b=n,g.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=lt(r)),s&&(s(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(j)||[];a=j.exec(r);)u=a[0],h=r.substring(m,a.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,g._pt={_next:g._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?ge(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},m=j.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=o,(B.test(r)||f)&&(g.e=0),this._pt=g,g},qt=function(e,t,n,r,i,s,o,a,l,c){P(r)&&(r=r(i||0,e,s));var u,h=e[t],d="get"!==n?n:P(h)?l?e[t.indexOf("set")||!P(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,f=P(h)?l?Zt:Jt:$t;if(I(r)&&(~r.indexOf("random(")&&(r=lt(r)),"="===r.charAt(1)&&((u=ge(d,r)+(Xe(d)||0))||0===u)&&(r=u)),!c||d!==r||jt)return isNaN(d*r)||""===r?(!h&&!(t in e)&&Q(t,r),Bt.call(this,e,t,d,r,f,a||_.stringFilter,l)):(u=new hn(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof h?rn:nn,0,f),l&&(u.fp=l),o&&u.modifier(o,this,e),this._pt=u)},Wt=function(e,t,n,r,i,s){var o,a,l,c;if(ie[e]&&!1!==(o=new ie[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(P(e)&&(e=Gt(e,i,t,n,r)),!O(e)||e.style&&e.nodeType||F(e)||L(e))return I(e)?Gt(e,i,t,n,r):e;var s,o={};for(s in e)o[s]=Gt(e[s],i,t,n,r);return o}(t[e],r,i,s,n),n,r,s)&&(n._pt=a=new hn(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==m))for(l=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=a;return o},Ht=function e(t,n,r){var i,s,o,c,h,d,f,p,g,m,v,_,T,C=t.vars,E=C.ease,k=C.startAt,S=C.immediateRender,x=C.lazy,I=C.onUpdate,P=C.runBackwards,R=C.yoyoEase,N=C.keyframes,O=C.autoRevert,D=t._dur,M=t._startAt,L=t._targets,F=t.parent,U=F&&"nested"===F.data?F.vars.targets:L,z="auto"===t._overwrite&&!a,V=t.timeline;if(V&&(!N||!E)&&(E="none"),t._ease=Ot(E,y.ease),t._yEase=R?Rt(Ot(!0===R?E:R,y.ease)):0,R&&t._yoyo&&!t._repeat&&(R=t._yEase,t._yEase=t._ease,t._ease=R),t._from=!V&&!!C.runBackwards,!V||N&&!C.stagger){if(_=(p=L[0]?ue(L[0]).harness:0)&&C[p.prop],i=Ee(C,te),M&&(M._zTime<0&&M.progress(1),n<0&&P&&S&&!O?M.render(-1,!0):M.revert(P&&D?Z:J),M._lazy=0),k){if(Ie(t._startAt=Xt.set(L,be({data:"isStart",overwrite:!1,parent:F,immediateRender:!0,lazy:!M&&A(x),startAt:null,delay:0,onUpdate:I&&function(){return ht(t,"onUpdate")},stagger:0},k))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(l||!S&&!O)&&t._startAt.revert(Z),S&&D&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(P&&D&&!M)if(n&&(S=!1),o=be({overwrite:!1,data:"isFromStart",lazy:S&&!M&&A(x),immediateRender:S,stagger:0,parent:F},i),_&&(o[p.prop]=_),Ie(t._startAt=Xt.set(L,o)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(l?t._startAt.revert(Z):t._startAt.render(-1,!0)),t._zTime=n,S){if(!n)return}else e(t._startAt,b,b);for(t._pt=t._ptCache=0,x=D&&A(x)||x&&!D,s=0;s<L.length;s++){if(f=(h=L[s])._gsap||ce(L)[s]._gsap,t._ptLookup[s]=m={},re[f.id]&&ne.length&&ve(),v=U===L?s:U.indexOf(h),p&&!1!==(g=new p).init(h,_||i,t,v,U)&&(t._pt=c=new hn(t._pt,h,g.name,0,1,g.render,g,0,g.priority),g._props.forEach((function(e){m[e]=c})),g.priority&&(d=1)),!p||_)for(o in i)ie[o]&&(g=Wt(o,i,t,v,h,U))?g.priority&&(d=1):m[o]=c=qt.call(t,h,o,"get",i[o],v,U,0,C.stringFilter);t._op&&t._op[s]&&t.kill(h,t._op[s]),z&&t._pt&&(Vt=t,u.killTweensOf(h,m,t.globalTime(n)),T=!t.parent,Vt=0),t._pt&&x&&(re[f.id]=1)}d&&un(t),t._onInit&&t._onInit(t)}t._onUpdate=I,t._initted=(!t._op||t._pt)&&!T,N&&n<=0&&V.render(w,!0,!0)},Kt=function(e,t,n,r){var i,s,o=t.ease||r||"power1.inOut";if(F(t))s=n[e]||(n[e]=[]),t.forEach((function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(i in t)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(e),v:t[i],e:o})},Gt=function(e,t,n,r,i){return P(e)?e.call(t,n,r,i):I(e)&&~e.indexOf("random(")?lt(e):e},Qt=le+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Yt={};de(Qt+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return Yt[e]=1}));var Xt=function(e){function t(t,n,r,i){var o;"number"===typeof n&&(r.duration=n,n=r,r=null);var l,c,h,d,f,p,g,m,v=(o=e.call(this,i?n:ke(n))||this).vars,y=v.duration,w=v.delay,b=v.immediateRender,T=v.stagger,C=v.overwrite,E=v.keyframes,k=v.defaults,S=v.scrollTrigger,x=v.yoyoEase,I=n.parent||u,P=(F(t)||L(t)?R(t[0]):"length"in n)?[t]:et(t);if(o._targets=P.length?ce(P):Y("GSAP target "+t+" not found. https://gsap.com",!_.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=C,E||T||M(y)||M(w)){if(n=o.vars,(l=o.timeline=new zt({data:"nested",defaults:k||{},targets:I&&"nested"===I.data?I.vars.targets:P})).kill(),l.parent=l._dp=s(o),l._start=0,T||M(y)||M(w)){if(d=P.length,g=T&&rt(T),O(T))for(f in T)~Qt.indexOf(f)&&(m||(m={}),m[f]=T[f]);for(c=0;c<d;c++)(h=Ee(n,Yt)).stagger=0,x&&(h.yoyoEase=x),m&&Te(h,m),p=P[c],h.duration=+Gt(y,s(o),c,p,P),h.delay=(+Gt(w,s(o),c,p,P)||0)-o._delay,!T&&1===d&&h.delay&&(o._delay=w=h.delay,o._start+=w,h.delay=0),l.to(p,h,g?g(c,p,P):0),l._ease=St.none;l.duration()?y=w=0:o.timeline=0}else if(E){ke(be(l.vars.defaults,{ease:"none"})),l._ease=Ot(E.ease||n.ease||"none");var N,D,U,z=0;if(F(E))E.forEach((function(e){return l.to(P,e,">")})),l.duration();else{for(f in h={},E)"ease"===f||"easeEach"===f||Kt(f,E[f],h,E.easeEach);for(f in h)for(N=h[f].sort((function(e,t){return e.t-t.t})),z=0,c=0;c<N.length;c++)(U={ease:(D=N[c]).e,duration:(D.t-(c?N[c-1].t:0))/100*y})[f]=D.v,l.to(P,U,z),z+=U.duration;l.duration()<y&&l.to({},{duration:y-l.duration()})}}y||o.duration(y=l.duration())}else o.timeline=0;return!0!==C||a||(Vt=s(o),u.killTweensOf(P),Vt=0),Ue(I,s(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(b||!y&&!E&&o._start===pe(I._time)&&A(b)&&Ne(s(o))&&"nested"!==I.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-w)||0)),S&&ze(s(o),S),o}o(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,s,o,a,c,u,h,d,f=this._time,p=this._tDur,g=this._dur,m=e<0,v=e>p-b&&!m?p:e<b?0:e;if(g){if(v!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=v,h=this.timeline,this._repeat){if(o=g+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*o+e,t,n);if(r=pe(v%o),v===p?(s=this._repeat,r=g):((s=~~(v/o))&&s===pe(v/o)&&(r=g,s--),r>g&&(r=g)),(c=this._yoyo&&1&s)&&(d=this._yEase,r=g-r),a=Ae(this._tTime,o),r===f&&!n&&this._initted&&s===a)return this._tTime=v,this;s!==a&&(h&&this._yEase&&Nt(h,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==o&&this._initted&&(this._lock=n=1,this.render(pe(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(Ve(this,m?e:r,n,t,v))return this._tTime=0,this;if(f!==this._time&&(!n||!this.vars.repeatRefresh||s===a))return this;if(g!==this._dur)return this.render(e,t,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(r/g),this._from&&(this.ratio=u=1-u),r&&!f&&!t&&!s&&(ht(this,"onStart"),this._tTime!==v))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;h&&h.render(e<0?e:h._dur*h._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Re(this,e,0,n),ht(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!t&&this.parent&&ht(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(m&&!this._onUpdate&&Re(this,e,0,!0),(e||!g)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Ie(this,1),t||m&&!f||!(v||f||c)||(ht(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,s,o,a=e.ratio,c=t<0||!t&&(!e._start&&je(e)&&(e._initted||!Be(e))||(e._ts<0||e._dp._ts<0)&&!Be(e))?0:1,u=e._rDelay,h=0;if(u&&e._repeat&&(h=Ye(0,e._tDur,t),s=Ae(h,u),e._yoyo&&1&s&&(c=1-c),s!==Ae(e._tTime,u)&&(a=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==a||l||r||e._zTime===b||!t&&e._zTime){if(!e._initted&&Ve(e,t,r,n,h))return;for(o=e._zTime,e._zTime=t||(n?b:0),n||(n=t&&!o),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=h,i=e._pt;i;)i.r(c,i.d),i=i._next;t<0&&Re(e,t,0,!0),e._onUpdate&&!n&&ht(e,"onUpdate"),h&&e._repeat&&!n&&e.parent&&ht(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&Ie(e,1),n||l||(ht(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){v||Et.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ht(this,s),function(e,t,n,r,i,s,o,a){var l,c,u,h,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((l=u[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return jt=1,e.vars[t]="+=0",Ht(e,o),jt=0,a?Y(t+" not eligible for reset"):1;d.push(l)}for(h=d.length;h--;)(l=(c=d[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+s*l.c:r,l.c=n-l.s,c.e&&(c.e=fe(n)+Xe(c.e)),c.b&&(c.b=l.s+Xe(c.b))}(this,e,t,n,r,this._ease(s/this._dur),s,i)?this.resetTo(e,t,n,r,1):(Le(this,0),this.parent||Se(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?dt(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Vt&&!0!==Vt.vars.overwrite)._first||dt(this),this.parent&&n!==this.timeline.totalDuration()&&qe(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,o,a,l,c,u=this._targets,h=e?et(e):u,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),dt(this);for(r=this._op=this._op||[],"all"!==t&&(I(t)&&(a={},de(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var n,r,i,s,o=e[0]?ue(e[0]).harness:0,a=o&&o.aliases;if(!a)return t;for(r in n=Te({},t),a)if(r in n)for(i=(s=a[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(a in i=d[c],"all"===t?(r[c]=t,o=i,s={}):(s=r[c]=r[c]||{},o=t),o)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||xe(this,l,"_pt"),delete i[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&f&&dt(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Ge(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Ge(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return u.killTweensOf(e,t,n)},t}(Ut);be(Xt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),de("staggerTo,staggerFrom,staggerFromTo",(function(e){Xt[e]=function(){var t=new zt,n=$e.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var $t=function(e,t,n){return e[t]=n},Jt=function(e,t,n){return e[t](n)},Zt=function(e,t,n,r){return e[t](r.fp,n)},en=function(e,t,n){return e.setAttribute(t,n)},tn=function(e,t){return P(e[t])?Jt:N(e[t])&&e.setAttribute?en:$t},nn=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},rn=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},sn=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},on=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},an=function(e,t,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(e,t,n),s=i},ln=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?xe(this,r,"_pt"):r.dep||(t=1),r=n;return!t},cn=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},un=function(e){for(var t,n,r,i,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=t}e._pt=r},hn=function(){function e(e,t,n,r,i,s,o,a,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=s||nn,this.d=o||this,this.set=a||$t,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=cn,this.m=e,this.mt=n,this.tween=t},e}();de(le+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return te[e]=1})),H.TweenMax=H.TweenLite=Xt,H.TimelineLite=H.TimelineMax=zt,u=new zt({sortChildren:!1,defaults:y,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_.stringFilter=Ct;var dn=[],fn={},pn=[],gn=0,mn=0,vn=function(e){return(fn[e]||pn).map((function(e){return e()}))},_n=function(){var e=Date.now(),t=[];e-gn>2&&(vn("matchMediaInit"),dn.forEach((function(e){var n,r,i,s,o=e.queries,a=e.conditions;for(r in o)(n=h.matchMedia(o[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,s=1);s&&(e.revert(),i&&t.push(e))})),vn("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),gn=e,vn("matchMedia"))},yn=function(){function e(e,t){this.selector=t&&tt(t),this.data=[],this._r=[],this.isReverted=!1,this.id=mn++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){P(e)&&(n=t,t=e,e=P);var r=this,i=function(){var e,i=c,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=tt(n)),c=r,e=t.apply(r,arguments),P(e)&&r._r.push(e),c=i,r.selector=s,r.isReverted=!1,e};return r.last=i,e===P?i(r,(function(e){return r.add(null,e)})):e?r[e]=i:i},t.ignore=function(e){var t=c;c=null,e(this),c=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof Xt&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));for(r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),i=n.data.length;i--;)(t=n.data[i])instanceof zt?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof Xt)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var r=dn.length;r--;)dn[r].id===this.id&&dn.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),wn=function(){function e(e){this.contexts=[],this.scope=e,c&&c.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){O(e)||(e={matches:e});var r,i,s,o=new yn(0,n||this.scope),a=o.conditions={};for(i in c&&!o.selector&&(o.selector=c.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?s=1:(r=h.matchMedia(e[i]))&&(dn.indexOf(o)<0&&dn.push(o),(a[i]=r.matches)&&(s=1),r.addListener?r.addListener(_n):r.addEventListener("change",_n));return s&&t(o,(function(e){return o.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),bn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return pt(e)}))},timeline:function(e){return new zt(e)},getTweensOf:function(e,t){return u.getTweensOf(e,t)},getProperty:function(e,t,n,r){I(e)&&(e=et(e)[0]);var i=ue(e||{}).get,s=n?we:ye;return"native"===n&&(n=""),e?t?s((ie[t]&&ie[t].get||i)(e,t,n,r)):function(t,n,r){return s((ie[t]&&ie[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=et(e)).length>1){var r=e.map((function(e){return En.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var s=ie[t],o=ue(e),a=o.harness&&(o.harness.aliases||{})[t]||t,l=s?function(t){var r=new s;m._pt=0,r.init(e,n?t+n:t,m,0,[e]),r.render(1,r),m._pt&&on(1,m)}:o.set(e,a);return s?l:function(t){return l(e,a,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=En.to(e,Te(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),s=function(e,n,r){return i.resetTo(t,e,n,r)};return s.tween=i,s},isTweening:function(e){return u.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ot(e.ease,y.ease)),Ce(y,e||{})},config:function(e){return Ce(_,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!ie[e]&&!H[e]&&Y(t+" effect requires "+e+" plugin.")})),se[t]=function(e,t,r){return n(et(e),be(t||{},i),r)},s&&(zt.prototype[t]=function(e,n,r){return this.add(se[t](e,O(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){St[e]=Ot(t)},parseEase:function(e,t){return arguments.length?Ot(e,t):St},getById:function(e){return u.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new zt(e);for(i.smoothChildTiming=A(e.smoothChildTiming),u.remove(i),i._dp=0,i._time=i._tTime=u._time,n=u._first;n;)r=n._next,!t&&!n._dur&&n instanceof Xt&&n.vars.onComplete===n._targets[0]||Ue(i,n,n._start-n._delay),n=r;return Ue(u,i,0),i},context:function(e,t){return e?new yn(e,t):c},matchMedia:function(e){return new wn(e)},matchMediaRefresh:function(){return dn.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||_n()},addEventListener:function(e,t){var n=fn[e]||(fn[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=fn[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return F(t)?at(t,e(0,t.length),n):Qe(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return F(t)?at(t,e(0,t.length-1),n):Qe(r,(function(e){return t+((e=(s+(e-t)%s)%s||0)>i?s-e:e)}))},distribute:rt,random:ot,snap:st,normalize:function(e,t,n){return ct(e,t,0,1,n)},getUnit:Xe,clamp:function(e,t,n){return Qe(n,(function(n){return Ye(e,t,n)}))},splitColor:_t,toArray:et,selector:tt,mapRange:ct,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Xe(n))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var o,a,l,c,u,h=I(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(F(t)&&!F(n)){for(l=[],c=t.length,u=c-2,a=1;a<c;a++)l.push(e(t[a-1],t[a]));c--,s=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=Te(F(t)?[]:{},t));if(!l){for(o in n)qt.call(d,t,o,"get",n[o]);s=function(e){return on(e,d)||(h?t.p:t)}}}return Qe(r,s)},shuffle:nt},install:G,effects:se,ticker:Et,updateRoot:zt.updateRoot,plugins:ie,globalTimeline:u,core:{PropTween:hn,globals:X,Tween:Xt,Timeline:zt,Animation:Ut,getCache:ue,_removeLinkedListItem:xe,reverting:function(){return l},context:function(e){return e&&c&&(c.data.push(e),e._ctx=c),c},suppressOverwrites:function(e){return a=e}}};de("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return bn[e]=Xt[e]})),Et.add(zt.updateRoot),m=bn.to({},{duration:0});var Tn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Cn=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(I(n)&&(r={},de(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,s=e._targets;for(n in t)for(r=s.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=Tn(i,n)),i&&i.modifier&&i.modifier(t[n],e,s[r],n))}(e,n)}}}},En=bn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,o,a;for(s in this.tween=n,t)a=e.getAttribute(s)||"",(o=this.add(e,"setAttribute",(a||0)+"",t[s],r,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)l?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Cn("roundProps",it),Cn("modifiers"),Cn("snap",st))||bn;Xt.version=zt.version=En.version="3.12.5",p=1,D()&&kt();St.Power0,St.Power1,St.Power2,St.Power3,St.Power4,St.Linear,St.Quad,St.Cubic,St.Quart,St.Quint,St.Strong,St.Elastic,St.Back,St.SteppedEase,St.Bounce,St.Sine,St.Expo,St.Circ;var kn,Sn,xn,In,Pn,Rn,Nn,On,An={},Dn=180/Math.PI,Mn=Math.PI/180,Ln=Math.atan2,Fn=/([A-Z])/g,Un=/(left|right|width|margin|padding|x)/i,zn=/[\s,\(]\S/,Vn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},jn=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Bn=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},qn=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Wn=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Hn=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Kn=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Gn=function(e,t,n){return e.style[t]=n},Qn=function(e,t,n){return e.style.setProperty(t,n)},Yn=function(e,t,n){return e._gsap[t]=n},Xn=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},$n=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},Jn=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},Zn="transform",er=Zn+"Origin",tr=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in An&&s){if(this.tfm=this.tfm||{},"transform"===t)return Vn.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=Vn[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=yr(i,e)})):this.tfm[t]=o.x?o[t]:yr(i,t),t===er&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(Zn)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(er,n,"")),t=Zn}(s||n)&&this.props.push(t,n,s[t])},nr=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},rr=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(Fn,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=Nn())&&e.isStart||i[Zn]||(nr(i),s.zOrigin&&i[er]&&(i[er]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},ir=function(e,t){var n={target:e,props:[],revert:rr,save:tr};return e._gsap||En.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},sr=function(e,t){var n=Sn.createElementNS?Sn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Sn.createElement(e);return n&&n.style?n:Sn.createElement(e)},or=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(Fn,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,lr(n)||n,1)||""},ar="O,Moz,ms,Ms,Webkit".split(","),lr=function(e,t,n){var r=(t||Pn).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(ar[i]+e in r););return i<0?null:(3===i?"ms":i>=0?ar[i]:"")+e},cr=function(){"undefined"!==typeof window&&window.document&&(kn=window,Sn=kn.document,xn=Sn.documentElement,Pn=sr("div")||{style:{}},sr("div"),Zn=lr(Zn),er=Zn+"Origin",Pn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",On=!!lr("perspective"),Nn=En.core.reverting,In=1)},ur=function e(t){var n,r=sr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(xn.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(Hr){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),xn.removeChild(r),this.style.cssText=o,n},hr=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},dr=function(e){var t;try{t=e.getBBox()}catch(c_){t=ur.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===ur||(t=ur.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+hr(e,["x","cx","x1"])||0,y:+hr(e,["y","cy","y1"])||0,width:0,height:0}},fr=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!dr(e))},pr=function(e,t){if(t){var n,r=e.style;t in An&&t!==er&&(t=Zn),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(Fn,"-$1").toLowerCase())):r.removeAttribute(t)}},gr=function(e,t,n,r,i,s){var o=new hn(e._pt,t,n,0,1,s?Kn:Hn);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},mr={deg:1,rad:1,turn:1},vr={grid:1,flex:1},_r=function e(t,n,r,i){var s,o,a,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=Pn.style,d=Un.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),g=100,m="px"===i,v="%"===i;if(i===u||!c||mr[i]||mr[u])return c;if("px"!==u&&!m&&(c=e(t,n,r,"px")),l=t.getCTM&&fr(t),(v||"%"===u)&&(An[n]||~n.indexOf("adius")))return s=l?t.getBBox()[d?"width":"height"]:t[p],fe(v?c/s*g:c/100*s);if(h[d?"width":"height"]=g+(m?u:i),o=~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Sn&&o.appendChild||(o=Sn.body),(a=o._gsap)&&v&&a.width&&d&&a.time===Et.time&&!a.uncache)return fe(c/a.width*g);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!vr[or(o,"display")]&&(h.position=or(t,"position")),o===t&&(h.position="static"),o.appendChild(Pn),s=Pn[p],o.removeChild(Pn),h.position="absolute";else{var _=t.style[n];t.style[n]=g+i,s=t[p],_?t.style[n]=_:pr(t,n)}return d&&v&&((a=ue(o)).time=Et.time,a.width=o[p]),fe(m?s*c/g:s&&c?g/s*c:0)},yr=function(e,t,n,r){var i;return In||cr(),t in Vn&&"transform"!==t&&~(t=Vn[t]).indexOf(",")&&(t=t.split(",")[0]),An[t]&&"transform"!==t?(i=Nr(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:Or(or(e,er))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Er[t]&&Er[t](e,t,n)||or(e,t)||he(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?_r(e,t,i,n)+n:i},wr=function(e,t,n,r){if(!n||"none"===n){var i=lr(t,e,1),s=i&&or(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=or(e,"borderTopColor"))}var o,a,l,c,u,h,d,f,p,g,m,v=new hn(this._pt,e.style,t,0,1,sn),y=0,w=0;if(v.b=n,v.e=r,n+="","auto"===(r+="")&&(h=e.style[t],e.style[t]=r,r=or(e,t)||r,h?e.style[t]=h:pr(e,t)),Ct(o=[n,r]),r=o[1],l=(n=o[0]).match(V)||[],(r.match(V)||[]).length){for(;a=V.exec(r);)d=a[0],p=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),d!==(h=l[w++]||"")&&(c=parseFloat(h)||0,m=h.substr((c+"").length),"="===d.charAt(1)&&(d=ge(c,d)+m),f=parseFloat(d),g=d.substr((f+"").length),y=V.lastIndex-g.length,g||(g=g||_.units[t]||m,y===r.length&&(r+=g,v.e+=g)),m!==g&&(c=_r(e,t,h,g)||0),v._pt={_next:v._pt,p:p||1===w?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?Kn:Hn;return B.test(r)&&(v.e=0),this._pt=v,v},br={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Tr=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=br[n]||n,t[1]=br[r]||r,t.join(" ")},Cr=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,o=s.style,a=t.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],An[n]&&(r=1,n="transformOrigin"===n?er:Zn),pr(s,n);r&&(pr(s,Zn),l&&(l.svg&&s.removeAttribute("transform"),Nr(s,1),l.uncache=1,nr(o)))}},Er={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new hn(e._pt,t,n,0,0,Cr);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},kr=[1,0,0,1,0,0],Sr={},xr=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Ir=function(e){var t=or(e,Zn);return xr(t)?kr:t.substr(7).match(z).map(fe)},Pr=function(e,t){var n,r,i,s,o=e._gsap||ue(e),a=e.style,l=Ir(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?kr:l:(l!==kr||e.offsetParent||e===xn||o.svg||(i=a.display,a.display="block",(n=e.parentNode)&&e.offsetParent||(s=1,r=e.nextElementSibling,xn.appendChild(e)),l=Ir(e),i?a.display=i:pr(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):xn.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Rr=function(e,t,n,r,i,s){var o,a,l,c=e._gsap,u=i||Pr(e,!0),h=c.xOrigin||0,d=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,g=u[0],m=u[1],v=u[2],_=u[3],y=u[4],w=u[5],b=t.split(" "),T=parseFloat(b[0])||0,C=parseFloat(b[1])||0;n?u!==kr&&(a=g*_-m*v)&&(l=T*(-m/a)+C*(g/a)-(g*w-m*y)/a,T=T*(_/a)+C*(-v/a)+(v*w-_*y)/a,C=l):(T=(o=dr(e)).x+(~b[0].indexOf("%")?T/100*o.width:T),C=o.y+(~(b[1]||b[0]).indexOf("%")?C/100*o.height:C)),r||!1!==r&&c.smooth?(y=T-h,w=C-d,c.xOffset=f+(y*g+w*v)-y,c.yOffset=p+(y*m+w*_)-w):c.xOffset=c.yOffset=0,c.xOrigin=T,c.yOrigin=C,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[er]="0px 0px",s&&(gr(s,c,"xOrigin",h,T),gr(s,c,"yOrigin",d,C),gr(s,c,"xOffset",f,c.xOffset),gr(s,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",T+" "+C)},Nr=function(e,t){var n=e._gsap||new Ft(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,o,a,l,c,u,h,d,f,p,g,m,v,y,w,b,T,C,E,k,S,x,I,P,R,N,O,A,D,M,L=e.style,F=n.scaleX<0,U="px",z="deg",V=getComputedStyle(e),j=or(e,er)||"0";return r=i=s=l=c=u=h=d=f=0,o=a=1,n.svg=!(!e.getCTM||!fr(e)),V.translate&&("none"===V.translate&&"none"===V.scale&&"none"===V.rotate||(L[Zn]=("none"!==V.translate?"translate3d("+(V.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==V.rotate?"rotate("+V.rotate+") ":"")+("none"!==V.scale?"scale("+V.scale.split(" ").join(",")+") ":"")+("none"!==V[Zn]?V[Zn]:"")),L.scale=L.rotate=L.translate="none"),m=Pr(e,n.svg),n.svg&&(n.uncache?(I=e.getBBox(),j=n.xOrigin-I.x+"px "+(n.yOrigin-I.y)+"px",x=""):x=!t&&e.getAttribute("data-svg-origin"),Rr(e,x||j,!!x||n.originIsAbsolute,!1!==n.smooth,m)),p=n.xOrigin||0,g=n.yOrigin||0,m!==kr&&(b=m[0],T=m[1],C=m[2],E=m[3],r=k=m[4],i=S=m[5],6===m.length?(o=Math.sqrt(b*b+T*T),a=Math.sqrt(E*E+C*C),l=b||T?Ln(T,b)*Dn:0,(h=C||E?Ln(C,E)*Dn+l:0)&&(a*=Math.abs(Math.cos(h*Mn))),n.svg&&(r-=p-(p*b+g*C),i-=g-(p*T+g*E))):(M=m[6],A=m[7],R=m[8],N=m[9],O=m[10],D=m[11],r=m[12],i=m[13],s=m[14],c=(v=Ln(M,O))*Dn,v&&(x=k*(y=Math.cos(-v))+R*(w=Math.sin(-v)),I=S*y+N*w,P=M*y+O*w,R=k*-w+R*y,N=S*-w+N*y,O=M*-w+O*y,D=A*-w+D*y,k=x,S=I,M=P),u=(v=Ln(-C,O))*Dn,v&&(y=Math.cos(-v),D=E*(w=Math.sin(-v))+D*y,b=x=b*y-R*w,T=I=T*y-N*w,C=P=C*y-O*w),l=(v=Ln(T,b))*Dn,v&&(x=b*(y=Math.cos(v))+T*(w=Math.sin(v)),I=k*y+S*w,T=T*y-b*w,S=S*y-k*w,b=x,k=I),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),o=fe(Math.sqrt(b*b+T*T+C*C)),a=fe(Math.sqrt(S*S+M*M)),v=Ln(k,S),h=Math.abs(v)>2e-4?v*Dn:0,f=D?1/(D<0?-D:D):0),n.svg&&(x=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!xr(or(e,Zn)),x&&e.setAttribute("transform",x))),Math.abs(h)>90&&Math.abs(h)<270&&(F?(o*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+U,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+U,n.z=s+U,n.scaleX=fe(o),n.scaleY=fe(a),n.rotation=fe(l)+z,n.rotationX=fe(c)+z,n.rotationY=fe(u)+z,n.skewX=h+z,n.skewY=d+z,n.transformPerspective=f+U,(n.zOrigin=parseFloat(j.split(" ")[2])||!t&&n.zOrigin||0)&&(L[er]=Or(j)),n.xOffset=n.yOffset=0,n.force3D=_.force3D,n.renderTransform=n.svg?zr:On?Ur:Dr,n.uncache=0,n},Or=function(e){return(e=e.split(" "))[0]+" "+e[1]},Ar=function(e,t,n){var r=Xe(t);return fe(parseFloat(t)+parseFloat(_r(e,"x",n+"px",r)))+r},Dr=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Ur(e,t)},Mr="0deg",Lr="0px",Fr=") ",Ur=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,g=n.transformPerspective,m=n.force3D,v=n.target,_=n.zOrigin,y="",w="auto"===m&&e&&1!==e||!0===m;if(_&&(u!==Mr||c!==Mr)){var b,T=parseFloat(c)*Mn,C=Math.sin(T),E=Math.cos(T);T=parseFloat(u)*Mn,b=Math.cos(T),s=Ar(v,s,C*b*-_),o=Ar(v,o,-Math.sin(T)*-_),a=Ar(v,a,E*b*-_+_)}g!==Lr&&(y+="perspective("+g+Fr),(r||i)&&(y+="translate("+r+"%, "+i+"%) "),(w||s!==Lr||o!==Lr||a!==Lr)&&(y+=a!==Lr||w?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+Fr),l!==Mr&&(y+="rotate("+l+Fr),c!==Mr&&(y+="rotateY("+c+Fr),u!==Mr&&(y+="rotateX("+u+Fr),h===Mr&&d===Mr||(y+="skew("+h+", "+d+Fr),1===f&&1===p||(y+="scale("+f+", "+p+Fr),v.style[Zn]=y||"translate(0, 0)"},zr=function(e,t){var n,r,i,s,o,a=t||this,l=a.xPercent,c=a.yPercent,u=a.x,h=a.y,d=a.rotation,f=a.skewX,p=a.skewY,g=a.scaleX,m=a.scaleY,v=a.target,_=a.xOrigin,y=a.yOrigin,w=a.xOffset,b=a.yOffset,T=a.forceCSS,C=parseFloat(u),E=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=Mn,f*=Mn,n=Math.cos(d)*g,r=Math.sin(d)*g,i=Math.sin(d-f)*-m,s=Math.cos(d-f)*m,f&&(p*=Mn,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=fe(n),r=fe(r),i=fe(i),s=fe(s)):(n=g,s=m,r=i=0),(C&&!~(u+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(C=_r(v,"x",u,"px"),E=_r(v,"y",h,"px")),(_||y||w||b)&&(C=fe(C+_-(_*n+y*i)+w),E=fe(E+y-(_*r+y*s)+b)),(l||c)&&(o=v.getBBox(),C=fe(C+l/100*o.width),E=fe(E+c/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+C+","+E+")",v.setAttribute("transform",o),T&&(v.style[Zn]=o)},Vr=function(e,t,n,r,i){var s,o,a=360,l=I(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?Dn:1)-r,u=r+c+"deg";return l&&("short"===(s=i.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===s&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===s&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),e._pt=o=new hn(e._pt,t,n,r,c,Bn),o.e=u,o.u="deg",e._props.push(n),o},jr=function(e,t){for(var n in t)e[n]=t[n];return e},Br=function(e,t,n){var r,i,s,o,a,l,c,u=jr({},n._gsap),h=n.style;for(i in u.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),h[Zn]=t,r=Nr(n,1),pr(n,Zn),n.setAttribute("transform",s)):(s=getComputedStyle(n)[Zn],h[Zn]=t,r=Nr(n,1),h[Zn]=s),An)(s=u[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=Xe(s)!==(c=Xe(o))?_r(n,i,s,c):parseFloat(s),l=parseFloat(o),e._pt=new hn(e._pt,r,i,a,l-a,jn),e._pt.u=c||0,e._props.push(i));jr(r,u)};de("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",s="Left",o=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map((function(n){return t<2?e+n:"border"+n+e}));Er[t>1?"border"+e:e]=function(e,t,n,r,i){var s,a;if(arguments.length<4)return s=o.map((function(t){return yr(e,t,n)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach((function(e,t){return a[e]=s[t]=s[t]||s[(t-1)/2|0]})),e.init(t,a,i)}}));var qr={name:"css",register:cr,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,o,a,l,c,u,h,d,f,p,g,m,v,y,w,b,T=this._props,C=e.style,E=n.vars.startAt;for(h in In||cr(),this.styles=this.styles||ir(e),b=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(o=t[h],!ie[h]||!Wt(h,t,n,r,e,i)))if(c=typeof o,u=Er[h],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=lt(o)),u)u(this,e,h,o,n)&&(w=1);else if("--"===h.substr(0,2))s=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",bt.lastIndex=0,bt.test(s)||(d=Xe(s),f=Xe(o)),f?d!==f&&(s=_r(e,h,s,f)+f):d&&(o+=d),this.add(C,"setProperty",s,o,r,i,0,0,h),T.push(h),b.push(h,0,C[h]);else if("undefined"!==c){if(E&&h in E?(s="function"===typeof E[h]?E[h].call(n,r,e,i):E[h],I(s)&&~s.indexOf("random(")&&(s=lt(s)),Xe(s+"")||"auto"===s||(s+=_.units[h]||Xe(yr(e,h))||""),"="===(s+"").charAt(1)&&(s=yr(e,h))):s=yr(e,h),l=parseFloat(s),(p="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),h in Vn&&("autoAlpha"===h&&(1===l&&"hidden"===yr(e,"visibility")&&a&&(l=0),b.push("visibility",0,C.visibility),gr(this,C,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=Vn[h]).indexOf(",")&&(h=h.split(",")[0])),g=h in An)if(this.styles.save(h),m||((v=e._gsap).renderTransform&&!t.parseTransform||Nr(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(m=this._pt=new hn(this._pt,C,Zn,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new hn(this._pt,v,"scaleY",v.scaleY,(p?ge(v.scaleY,p+a):a)-v.scaleY||0,jn),this._pt.u=0,T.push("scaleY",h),h+="X";else{if("transformOrigin"===h){b.push(er,0,C[er]),o=Tr(o),v.svg?Rr(e,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&gr(this,v,"zOrigin",v.zOrigin,f),gr(this,C,h,Or(s),Or(o)));continue}if("svgOrigin"===h){Rr(e,o,1,y,0,this);continue}if(h in Sr){Vr(this,v,h,l,p?ge(l,p+o):o);continue}if("smoothOrigin"===h){gr(this,v,"smooth",v.smooth,o);continue}if("force3D"===h){v[h]=o;continue}if("transform"===h){Br(this,o,e);continue}}else h in C||(h=lr(h)||h);if(g||(a||0===a)&&(l||0===l)&&!zn.test(o)&&h in C)a||(a=0),(d=(s+"").substr((l+"").length))!==(f=Xe(o)||(h in _.units?_.units[h]:d))&&(l=_r(e,h,s,f)),this._pt=new hn(this._pt,g?v:C,h,l,(p?ge(l,p+a):a)-l,g||"px"!==f&&"zIndex"!==h||!1===t.autoRound?jn:Wn),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=qn);else if(h in C)wr.call(this,e,h,s,p?p+o:o);else if(h in e)this.add(e,h,s||e[h],p?p+o:o,r,i);else if("parseTransform"!==h){Q(h,o);continue}g||(h in C?b.push(h,0,C[h]):b.push(h,1,s||e[h])),T.push(h)}w&&un(this)},render:function(e,t){if(t.tween._time||!Nn())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:yr,aliases:Vn,getSetter:function(e,t,n){var r=Vn[t];return r&&r.indexOf(",")<0&&(t=r),t in An&&t!==er&&(e._gsap.x||yr(e,"x"))?n&&Rn===n?"scale"===t?Xn:Yn:(Rn=n||{})&&("scale"===t?$n:Jn):e.style&&!N(e.style[t])?Gn:~t.indexOf("-")?Qn:tn(e,t)},core:{_removeProperty:pr,_getMatrix:Pr}};En.utils.checkPrefix=lr,En.core.getStyleSaver=ir,function(e,t,n,r){var i=de(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){An[e]=1}));de(t,(function(e){_.units[e]="deg",Sr[e]=1})),Vn[i[13]]=e+","+t,de("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");Vn[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),de("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){_.units[e]="px"})),En.registerPlugin(qr);var Wr=En.registerPlugin(qr)||En;Wr.core.Tween;let Hr,Kr,Gr,Qr,Yr,Xr,$r,Jr,Zr,ei,ti,ni,ri,ii,si=()=>Hr||"undefined"!=typeof window&&(Hr=window.gsap)&&Hr.registerPlugin&&Hr,oi=1,ai=[],li=[],ci=[],ui=Date.now,hi=(e,t)=>t,di=(e,t)=>~ci.indexOf(e)&&ci[ci.indexOf(e)+1][t],fi=e=>!!~ti.indexOf(e),pi=(e,t,n,r,i)=>e.addEventListener(t,n,{passive:!1!==r,capture:!!i}),gi=(e,t,n,r)=>e.removeEventListener(t,n,!!r),mi=()=>ni&&ni.isPressed||li.cache++,vi=(e,t)=>{let n=r=>{if(r||0===r){oi&&(Qr.history.scrollRestoration="manual");let t=ni&&ni.isPressed;r=n.v=Math.round(r)||(ni&&ni.iOS?1:0),e(r),n.cacheID=li.cache,t&&hi("ss",r)}else(t||li.cache!==n.cacheID||hi("ref"))&&(n.cacheID=li.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},_i={s:"scrollLeft",p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:vi((function(e){return arguments.length?Qr.scrollTo(e,yi.sc()):Qr.pageXOffset||Yr.scrollLeft||Xr.scrollLeft||$r.scrollLeft||0}))},yi={s:"scrollTop",p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_i,sc:vi((function(e){return arguments.length?Qr.scrollTo(_i.sc(),e):Qr.pageYOffset||Yr.scrollTop||Xr.scrollTop||$r.scrollTop||0}))},wi=(e,t)=>(t&&t._ctx&&t._ctx.selector||Hr.utils.toArray)(e)[0]||("string"==typeof e&&!1!==Hr.config().nullTargetWarn?console.warn("Element not found:",e):null),bi=(e,t)=>{let{s:n,sc:r}=t;fi(e)&&(e=Yr.scrollingElement||Xr);let i=li.indexOf(e),s=r===yi.sc?1:2;!~i&&(i=li.push(e)-1),li[i+s]||pi(e,"scroll",mi);let o=li[i+s],a=o||(li[i+s]=vi(di(e,n),!0)||(fi(e)?r:vi((function(t){return arguments.length?e[n]=t:e[n]}))));return a.target=e,o||(a.smooth="smooth"===Hr.getProperty(e,"scrollBehavior")),a},Ti=(e,t,n)=>{let r=e,i=e,s=ui(),o=s,a=t||50,l=Math.max(500,3*a),c=(e,t)=>{let l=ui();t||l-s>a?(i=r,r=e,o=s,s=l):n?r+=e:r=i+(e-i)/(l-o)*(s-o)};return{update:c,reset:()=>{i=r=n?0:r,o=s=0},getVelocity:e=>{let t=o,a=i,u=ui();return(e||0===e)&&e!==r&&c(e),s===o||u-o>l?0:(r+(n?a:-a))/((n?u:s)-t)*1e3}}},Ci=(e,t)=>(t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e),Ei=e=>{let t=Math.max(...e),n=Math.min(...e);return Math.abs(t)>=Math.abs(n)?t:n},ki=()=>{ei=Hr.core.globals().ScrollTrigger,ei&&ei.core&&(()=>{let e=ei.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push(...li),r.push(...ci),li=n,ci=r,hi=(e,n)=>t[e](n)})()},Si=e=>(Hr=e||si(),!Kr&&Hr&&"undefined"!=typeof document&&document.body&&(Qr=window,Yr=document,Xr=Yr.documentElement,$r=Yr.body,ti=[Qr,Yr,Xr,$r],Gr=Hr.utils.clamp,ii=Hr.core.context||function(){},Zr="onpointerenter"in $r?"pointer":"mouse",Jr=xi.isTouch=Qr.matchMedia&&Qr.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Qr||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,ri=xi.eventTypes=("ontouchstart"in Xr?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Xr?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((()=>oi=0),500),ki(),Kr=1),Kr);_i.op=yi,li.cache=0;class xi{constructor(e){this.init(e)}init(e){Kr||Si(Hr)||console.warn("Please gsap.registerPlugin(Observer)"),ei||ki();let{tolerance:t,dragMinimum:n,type:r,target:i,lineHeight:s,debounce:o,preventDefault:a,onStop:l,onStopDelay:c,ignore:u,wheelSpeed:h,event:d,onDragStart:f,onDragEnd:p,onDrag:g,onPress:m,onRelease:v,onRight:_,onLeft:y,onUp:w,onDown:b,onChangeX:T,onChangeY:C,onChange:E,onToggleX:k,onToggleY:S,onHover:x,onHoverEnd:I,onMove:P,ignoreCheck:R,isNormalizer:N,onGestureStart:O,onGestureEnd:A,onWheel:D,onEnable:M,onDisable:L,onClick:F,scrollSpeed:U,capture:z,allowClicks:V,lockAxis:j,onLockAxis:B}=e;this.target=i=wi(i)||Xr,this.vars=e,u&&(u=Hr.utils.toArray(u)),t=t||1e-9,n=n||0,h=h||1,U=U||1,r=r||"wheel,touch,pointer",o=!1!==o,s||(s=parseFloat(Qr.getComputedStyle($r).lineHeight)||22);let q,W,H,K,G,Q,Y,X=this,$=0,J=0,Z=e.passive||!a,ee=bi(i,_i),te=bi(i,yi),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===ri[0],se=fi(i),oe=i.ownerDocument||Yr,ae=[0,0,0],le=[0,0,0],ce=0,ue=()=>ce=ui(),he=(e,t)=>(X.event=e)&&u&&~u.indexOf(e.target)||t&&ie&&"touch"!==e.pointerType||R&&R(e,t),de=()=>{let e=X.deltaX=Ei(ae),n=X.deltaY=Ei(le),r=Math.abs(e)>=t,i=Math.abs(n)>=t;E&&(r||i)&&E(X,e,n,ae,le),r&&(_&&X.deltaX>0&&_(X),y&&X.deltaX<0&&y(X),T&&T(X),k&&X.deltaX<0!=$<0&&k(X),$=X.deltaX,ae[0]=ae[1]=ae[2]=0),i&&(b&&X.deltaY>0&&b(X),w&&X.deltaY<0&&w(X),C&&C(X),S&&X.deltaY<0!=J<0&&S(X),J=X.deltaY,le[0]=le[1]=le[2]=0),(K||H)&&(P&&P(X),H&&(g(X),H=!1),K=!1),Q&&!(Q=!1)&&B&&B(X),G&&(D(X),G=!1),q=0},fe=(e,t,n)=>{ae[n]+=e,le[n]+=t,X._vx.update(e),X._vy.update(t),o?q||(q=requestAnimationFrame(de)):de()},pe=(e,t)=>{j&&!Y&&(X.axis=Y=Math.abs(e)>Math.abs(t)?"x":"y",Q=!0),"y"!==Y&&(ae[2]+=e,X._vx.update(e,!0)),"x"!==Y&&(le[2]+=t,X._vy.update(t,!0)),o?q||(q=requestAnimationFrame(de)):de()},ge=e=>{if(he(e,1))return;let t=(e=Ci(e,a)).clientX,r=e.clientY,i=t-X.x,s=r-X.y,o=X.isDragging;X.x=t,X.y=r,(o||Math.abs(X.startX-t)>=n||Math.abs(X.startY-r)>=n)&&(g&&(H=!0),o||(X.isDragging=!0),pe(i,s),o||f&&f(X))},me=X.onPress=e=>{he(e,1)||e&&e.button||(X.axis=Y=null,W.pause(),X.isPressed=!0,e=Ci(e),$=J=0,X.startX=X.x=e.clientX,X.startY=X.y=e.clientY,X._vx.reset(),X._vy.reset(),pi(N?i:oe,ri[1],ge,Z,!0),X.deltaX=X.deltaY=0,m&&m(X))},ve=X.onRelease=e=>{if(he(e,1))return;gi(N?i:oe,ri[1],ge,!0);let t=!isNaN(X.y-X.startY),n=X.isDragging,r=n&&(Math.abs(X.x-X.startX)>3||Math.abs(X.y-X.startY)>3),s=Ci(e);!r&&t&&(X._vx.reset(),X._vy.reset(),a&&V&&Hr.delayedCall(.08,(()=>{if(ui()-ce>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(oe.createEvent){let t=oe.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,Qr,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}))),X.isDragging=X.isGesturing=X.isPressed=!1,l&&n&&!N&&W.restart(!0),p&&n&&p(X),v&&v(X,r)},_e=e=>e.touches&&e.touches.length>1&&(X.isGesturing=!0)&&O(e,X.isDragging),ye=()=>(X.isGesturing=!1)||A(X),we=e=>{if(he(e))return;let t=ee(),n=te();fe((t-ne)*U,(n-re)*U,1),ne=t,re=n,l&&W.restart(!0)},be=e=>{if(he(e))return;e=Ci(e,a),D&&(G=!0);let t=(1===e.deltaMode?s:2===e.deltaMode?Qr.innerHeight:1)*h;fe(e.deltaX*t,e.deltaY*t,0),l&&!N&&W.restart(!0)},Te=e=>{if(he(e))return;let t=e.clientX,n=e.clientY,r=t-X.x,i=n-X.y;X.x=t,X.y=n,K=!0,l&&W.restart(!0),(r||i)&&pe(r,i)},Ce=e=>{X.event=e,x(X)},Ee=e=>{X.event=e,I(X)},ke=e=>he(e)||Ci(e,a)&&F(X);W=X._dc=Hr.delayedCall(c||.25,(()=>{X._vx.reset(),X._vy.reset(),W.pause(),l&&l(X)})).pause(),X.deltaX=X.deltaY=0,X._vx=Ti(0,50,!0),X._vy=Ti(0,50,!0),X.scrollX=ee,X.scrollY=te,X.isDragging=X.isGesturing=X.isPressed=!1,ii(this),X.enable=e=>(X.isEnabled||(pi(se?oe:i,"scroll",mi),r.indexOf("scroll")>=0&&pi(se?oe:i,"scroll",we,Z,z),r.indexOf("wheel")>=0&&pi(i,"wheel",be,Z,z),(r.indexOf("touch")>=0&&Jr||r.indexOf("pointer")>=0)&&(pi(i,ri[0],me,Z,z),pi(oe,ri[2],ve),pi(oe,ri[3],ve),V&&pi(i,"click",ue,!0,!0),F&&pi(i,"click",ke),O&&pi(oe,"gesturestart",_e),A&&pi(oe,"gestureend",ye),x&&pi(i,Zr+"enter",Ce),I&&pi(i,Zr+"leave",Ee),P&&pi(i,Zr+"move",Te)),X.isEnabled=!0,e&&e.type&&me(e),M&&M(X)),X),X.disable=()=>{X.isEnabled&&(ai.filter((e=>e!==X&&fi(e.target))).length||gi(se?oe:i,"scroll",mi),X.isPressed&&(X._vx.reset(),X._vy.reset(),gi(N?i:oe,ri[1],ge,!0)),gi(se?oe:i,"scroll",we,z),gi(i,"wheel",be,z),gi(i,ri[0],me,z),gi(oe,ri[2],ve),gi(oe,ri[3],ve),gi(i,"click",ue,!0),gi(i,"click",ke),gi(oe,"gesturestart",_e),gi(oe,"gestureend",ye),gi(i,Zr+"enter",Ce),gi(i,Zr+"leave",Ee),gi(i,Zr+"move",Te),X.isEnabled=X.isPressed=X.isDragging=!1,L&&L(X))},X.kill=X.revert=()=>{X.disable();let e=ai.indexOf(X);e>=0&&ai.splice(e,1),ni===X&&(ni=0)},ai.push(X),N&&fi(i)&&(ni=X),X.enable(d)}get velocityX(){return this._vx.getVelocity()}get velocityY(){return this._vy.getVelocity()}}xi.version="3.12.5",xi.create=e=>new xi(e),xi.register=Si,xi.getAll=()=>ai.slice(),xi.getById=e=>ai.filter((t=>t.vars.id===e))[0],si()&&Hr.registerPlugin(xi);let Ii,Pi,Ri,Ni,Oi,Ai,Di,Mi,Li,Fi,Ui,zi,Vi,ji,Bi,qi,Wi,Hi,Ki,Gi,Qi,Yi,Xi,$i,Ji,Zi,es,ts,ns,rs,is,ss,os,as,ls,cs,us,hs,ds=1,fs=Date.now,ps=fs(),gs=0,ms=0,vs=(e,t,n)=>{let r=Ns(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},_s=(e,t)=>!t||Ns(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")",ys=()=>ms&&requestAnimationFrame(ys),ws=()=>ji=1,bs=()=>ji=0,Ts=e=>e,Cs=e=>Math.round(1e5*e)/1e5||0,Es=()=>"undefined"!=typeof window,ks=()=>Ii||Es()&&(Ii=window.gsap)&&Ii.registerPlugin&&Ii,Ss=e=>!!~Di.indexOf(e),xs=e=>("Height"===e?is:Ri["inner"+e])||Oi["client"+e]||Ai["client"+e],Is=e=>di(e,"getBoundingClientRect")||(Ss(e)?()=>(Ro.width=Ri.innerWidth,Ro.height=is,Ro):()=>Bs(e)),Ps=(e,t)=>{let{s:n,d2:r,d:i,a:s}=t;return Math.max(0,(n="scroll"+r)&&(s=di(e,n))?s()-Is(e)()[i]:Ss(e)?(Oi[n]||Ai[n])-xs(r):e[n]-e["offset"+r])},Rs=(e,t)=>{for(let n=0;n<Ki.length;n+=3)(!t||~t.indexOf(Ki[n+1]))&&e(Ki[n],Ki[n+1],Ki[n+2])},Ns=e=>"string"==typeof e,Os=e=>"function"==typeof e,As=e=>"number"==typeof e,Ds=e=>"object"==typeof e,Ms=(e,t,n)=>e&&e.progress(t?0:1)&&n&&e.pause(),Ls=(e,t)=>{if(e.enabled){let n=e._ctx?e._ctx.add((()=>t(e))):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},Fs=Math.abs,Us="padding",zs="px",Vs=e=>Ri.getComputedStyle(e),js=(e,t)=>{for(let n in t)n in e||(e[n]=t[n]);return e},Bs=(e,t)=>{let n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==Vs(e)[Bi]&&Ii.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},qs=(e,t)=>{let{d2:n}=t;return e["offset"+n]||e["client"+n]||0},Ws=e=>{let t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},Hs=e=>{let t=Ii.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(((e,t)=>e-t));return n?function(e,r){let i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001;if(!r)return t(e);if(r>0){for(e-=s,i=0;i<n.length;i++)if(n[i]>=e)return n[i];return n[i-1]}for(i=n.length,e+=s;i--;)if(n[i]<=e)return n[i];return n[0]}:function(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001,s=t(n);return!r||Math.abs(s-n)<i||s-n<0==r<0?s:t(r<0?n-e:n+e)}},Ks=(e,t,n,r)=>n.split(",").forEach((n=>e(t,n,r))),Gs=(e,t,n,r,i)=>e.addEventListener(t,n,{passive:!r,capture:!!i}),Qs=(e,t,n,r)=>e.removeEventListener(t,n,!!r),Ys=(e,t,n)=>{(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},Xs={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},$s={toggleActions:"play",anticipatePin:0},Js={top:0,left:0,center:.5,bottom:1,right:1},Zs=(e,t)=>{if(Ns(e)){let n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in Js?Js[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},eo=(e,t,n,r,i,s,o,a)=>{let{startColor:l,endColor:c,fontSize:u,indent:h,fontWeight:d}=i,f=Ni.createElement("div"),p=Ss(n)||"fixed"===di(n,"pinType"),g=-1!==e.indexOf("scroller"),m=p?Ai:n,v=-1!==e.indexOf("start"),_=v?l:c,y="border-color:"+_+";font-size:"+u+";color:"+_+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return y+="position:"+((g||a)&&p?"fixed;":"absolute;"),(g||a||!p)&&(y+=(r===yi?"right":"bottom")+":"+(s+parseFloat(h))+"px;"),o&&(y+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),f.style.cssText=y,f.innerText=t||0===t?e+"-"+t:e,m.children[0]?m.insertBefore(f,m.children[0]):m.appendChild(f),f._offset=f["offset"+r.op.d2],to(f,0,r,v),f},to=(e,t,n,r)=>{let i={display:"block"},s=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+s+"Width"]=1,i["border"+o+"Width"]=0,i[n.p]=t+"px",Ii.set(e,i)},no=[],ro={},io=()=>fs()-gs>34&&(ls||(ls=requestAnimationFrame(Co))),so=()=>{(!Xi||!Xi.isPressed||Xi.startX>Ai.clientWidth)&&(li.cache++,Xi?ls||(ls=requestAnimationFrame(Co)):Co(),gs||ho("scrollStart"),gs=fs())},oo=()=>{Zi=Ri.innerWidth,Ji=Ri.innerHeight},ao=()=>{li.cache++,!Vi&&!Yi&&!Ni.fullscreenElement&&!Ni.webkitFullscreenElement&&(!$i||Zi!==Ri.innerWidth||Math.abs(Ri.innerHeight-Ji)>.25*Ri.innerHeight)&&Mi.restart(!0)},lo={},co=[],uo=()=>Qs(Fo,"scrollEnd",uo)||wo(!0),ho=e=>lo[e]&&lo[e].map((e=>e()))||co,fo=[],po=e=>{for(let t=0;t<fo.length;t+=5)(!e||fo[t+4]&&fo[t+4].query===e)&&(fo[t].style.cssText=fo[t+1],fo[t].getBBox&&fo[t].setAttribute("transform",fo[t+2]||""),fo[t+3].uncache=1)},go=(e,t)=>{let n;for(qi=0;qi<no.length;qi++)n=no[qi],!n||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));ss=!0,t&&po(t),t||ho("revert")},mo=(e,t)=>{li.cache++,(t||!cs)&&li.forEach((e=>Os(e)&&e.cacheID++&&(e.rec=0))),Ns(e)&&(Ri.history.scrollRestoration=ns=e)},vo=0,_o=()=>{Ai.appendChild(rs),is=!Xi&&rs.offsetHeight||Ri.innerHeight,Ai.removeChild(rs)},yo=e=>Li(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((t=>t.style.display=e?"none":"block")),wo=(e,t)=>{if(gs&&!e&&!ss)return void Gs(Fo,"scrollEnd",uo);_o(),cs=Fo.isRefreshing=!0,li.forEach((e=>Os(e)&&++e.cacheID&&(e.rec=e())));let n=ho("refreshInit");Gi&&Fo.sort(),t||go(),li.forEach((e=>{Os(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),no.slice(0).forEach((e=>e.refresh())),ss=!1,no.forEach((e=>{if(e._subPinOffset&&e.pin){let t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}})),os=1,yo(!0),no.forEach((e=>{let t=Ps(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)})),yo(!1),os=0,n.forEach((e=>e&&e.render&&e.render(-1))),li.forEach((e=>{Os(e)&&(e.smooth&&requestAnimationFrame((()=>e.target.style.scrollBehavior="smooth")),e.rec&&e(e.rec))})),mo(ns,1),Mi.pause(),vo++,cs=2,Co(2),no.forEach((e=>Os(e.vars.onRefresh)&&e.vars.onRefresh(e))),cs=Fo.isRefreshing=!1,ho("refresh")},bo=0,To=1,Co=e=>{if(2===e||!cs&&!ss){Fo.isUpdating=!0,hs&&hs.update(0);let e=no.length,t=fs(),n=t-ps>=50,r=e&&no[0].scroll();if(To=bo>r?-1:1,cs||(bo=r),n&&(gs&&!ji&&t-gs>200&&(gs=0,ho("scrollEnd")),Ui=ps,ps=t),To<0){for(qi=e;qi-- >0;)no[qi]&&no[qi].update(0,n);To=1}else for(qi=0;qi<e;qi++)no[qi]&&no[qi].update(0,n);Fo.isUpdating=!1}ls=0},Eo=["left","top","bottom","right","marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ko=Eo.concat(["width","height","boxSizing","maxWidth","maxHeight","position","margin",Us,"paddingTop","paddingRight","paddingBottom","paddingLeft"]),So=(e,t,n,r)=>{if(!e._gsap.swappedIn){let i,s=Eo.length,o=t.style,a=e.style;for(;s--;)i=Eo[s],o[i]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),a.bottom=a.right="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o.width=qs(e,_i)+zs,o.height=qs(e,yi)+zs,o.padding=a.margin=a.top=a.left="0",Io(r),a.width=a.maxWidth=n.width,a.height=a.maxHeight=n.height,a.padding=n.padding,e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},xo=/([A-Z])/g,Io=e=>{if(e){let t,n,r=e.t.style,i=e.length,s=0;for((e.t._gsap||Ii.core.getCache(e.t)).uncache=1;s<i;s+=2)n=e[s+1],t=e[s],n?r[t]=n:r[t]&&r.removeProperty(t.replace(xo,"-$1").toLowerCase())}},Po=e=>{let t=ko.length,n=e.style,r=[],i=0;for(;i<t;i++)r.push(ko[i],n[ko[i]]);return r.t=e,r},Ro={left:0,top:0},No=(e,t,n,r,i,s,o,a,l,c,u,h,d,f)=>{Os(e)&&(e=e(a)),Ns(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?Zs("0"+e.substr(3),n):0));let p,g,m,v=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),As(e))d&&(e=Ii.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),o&&to(o,n,r,!0);else{Os(t)&&(t=t(a));let s,u,h,d,f=(e||"0").split(" ");m=wi(t,a)||Ai,s=Bs(m)||{},s&&(s.left||s.top)||"none"!==Vs(m).display||(d=m.style.display,m.style.display="block",s=Bs(m),d?m.style.display=d:m.style.removeProperty("display")),u=Zs(f[0],s[r.d]),h=Zs(f[1]||"0",n),e=s[r.p]-l[r.p]-c+u+i-h,o&&to(o,h,r,n-h<20||o._isStart&&h>20),n-=n-h}if(f&&(a[f]=e||-.001,e<0&&(e=0)),s){let t=e+n,i=s._isStart;p="scroll"+r.d2,to(s,t,r,i&&t>20||!i&&(u?Math.max(Ai[p],Oi[p]):s.parentNode[p])<=t+1),u&&(l=Bs(o),u&&(s.style[r.op.p]=l[r.op.p]-r.op.m-s._offset+zs))}return d&&m&&(p=Bs(m),d.seek(h),g=Bs(m),d._caScrollDist=p[r.p]-g[r.p],e=e/d._caScrollDist*h),d&&d.seek(v),d?e:Math.round(e)},Oo=/(webkit|moz|length|cssText|inset)/i,Ao=(e,t,n,r)=>{if(e.parentNode!==t){let i,s,o=e.style;if(t===Ai){for(i in e._stOrig=o.cssText,s=Vs(e),s)+i||Oo.test(i)||!s[i]||"string"!=typeof o[i]||"0"===i||(o[i]=s[i]);o.top=n,o.left=r}else o.cssText=e._stOrig;Ii.core.getCache(e).uncache=1,t.appendChild(e)}},Do=(e,t,n)=>{let r=t,i=r;return t=>{let s=Math.round(e());return s!==r&&s!==i&&Math.abs(s-r)>3&&Math.abs(s-i)>3&&(t=s,n&&n()),i=r,r=t,t}},Mo=(e,t,n)=>{let r={};r[t.p]="+="+n,Ii.set(e,r)},Lo=(e,t)=>{let n=bi(e,t),r="_scroll"+t.p2,i=(t,s,o,a,l)=>{let c=i.tween,u=s.onComplete,h={};o=o||n();let d=Do(n,o,(()=>{c.kill(),i.tween=0}));return l=a&&l||0,a=a||t-o,c&&c.kill(),s[r]=t,s.inherit=!1,s.modifiers=h,h[r]=()=>d(o+a*c.ratio+l*c.ratio*c.ratio),s.onUpdate=()=>{li.cache++,i.tween&&Co()},s.onComplete=()=>{i.tween=0,u&&u.call(c)},c=i.tween=Ii.to(e,s),c};return e[r]=n,n.wheelHandler=()=>i.tween&&i.tween.kill()&&(i.tween=0),Gs(e,"wheel",n.wheelHandler),Fo.isTouch&&Gs(e,"touchmove",n.wheelHandler),i};class Fo{constructor(e,t){Pi||Fo.register(Ii)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),ts(this),this.init(e,t)}init(e,t){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!ms)return void(this.update=this.refresh=this.kill=Ts);e=js(Ns(e)||As(e)||e.nodeType?{trigger:e}:e,$s);let n,r,i,s,o,a,l,c,u,h,d,f,p,g,m,v,_,y,w,b,T,C,E,k,S,x,I,P,R,N,O,A,D,M,L,F,U,z,V,{onUpdate:j,toggleClass:B,id:q,onToggle:W,onRefresh:H,scrub:K,trigger:G,pin:Q,pinSpacing:Y,invalidateOnRefresh:X,anticipatePin:$,onScrubComplete:J,onSnapComplete:Z,once:ee,snap:te,pinReparent:ne,pinSpacer:re,containerAnimation:ie,fastScrollEnd:se,preventOverlaps:oe}=e,ae=e.horizontal||e.containerAnimation&&!1!==e.horizontal?_i:yi,le=!K&&0!==K,ce=wi(e.scroller||Ri),ue=Ii.core.getCache(ce),he=Ss(ce),de="fixed"===("pinType"in e?e.pinType:di(ce,"pinType")||he&&"fixed"),fe=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],pe=le&&e.toggleActions.split(" "),ge="markers"in e?e.markers:$s.markers,me=he?0:parseFloat(Vs(ce)["border"+ae.p2+"Width"])||0,ve=this,_e=e.onRefreshInit&&(()=>e.onRefreshInit(ve)),ye=((e,t,n)=>{let{d:r,d2:i,a:s}=n;return(s=di(e,"getBoundingClientRect"))?()=>s()[r]:()=>(t?xs(i):e["client"+i])||0})(ce,he,ae),we=((e,t)=>!t||~ci.indexOf(e)?Is(e):()=>Ro)(ce,he),be=0,Te=0,Ce=0,Ee=bi(ce,ae);var ke;if(ve._startClamp=ve._endClamp=!1,ve._dir=ae,$*=45,ve.scroller=ce,ve.scroll=ie?ie.time.bind(ie):Ee,s=Ee(),ve.vars=e,t=t||e.animation,"refreshPriority"in e&&(Gi=1,-9999===e.refreshPriority&&(hs=ve)),ue.tweenScroll=ue.tweenScroll||{top:Lo(ce,yi),left:Lo(ce,_i)},ve.tweenTo=n=ue.tweenScroll[ae.p],ve.scrubDuration=e=>{D=As(e)&&e,D?A?A.duration(e):A=Ii.to(t,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:D,paused:!0,onComplete:()=>J&&J(ve)}):(A&&A.progress(1).kill(),A=0)},t&&(t.vars.lazy=!1,t._initted&&!ve.isReverted||!1!==t.vars.immediateRender&&!1!==e.immediateRender&&t.duration()&&t.render(0,!0,!0),ve.animation=t.pause(),t.scrollTrigger=ve,ve.scrubDuration(K),N=0,q||(q=t.vars.id)),te&&(Ds(te)&&!te.push||(te={snapTo:te}),"scrollBehavior"in Ai.style&&Ii.set(he?[Ai,Oi]:ce,{scrollBehavior:"auto"}),li.forEach((e=>Os(e)&&e.target===(he?Ni.scrollingElement||Oi:ce)&&(e.smooth=!1))),i=Os(te.snapTo)?te.snapTo:"labels"===te.snapTo?(e=>t=>Ii.utils.snap(Ws(e),t))(t):"labelsDirectional"===te.snapTo?(ke=t,(e,t)=>Hs(Ws(ke))(e,t.direction)):!1!==te.directional?(e,t)=>Hs(te.snapTo)(e,fs()-Te<500?0:t.direction):Ii.utils.snap(te.snapTo),M=te.duration||{min:.1,max:2},M=Ds(M)?Fi(M.min,M.max):Fi(M,M),L=Ii.delayedCall(te.delay||D/2||.1,(()=>{let e=Ee(),r=fs()-Te<500,s=n.tween;if(!(r||Math.abs(ve.getVelocity())<10)||s||ji||be===e)ve.isActive&&be!==e&&L.restart(!0);else{let o,c,u=(e-a)/g,h=t&&!le?t.totalProgress():u,d=r?0:(h-O)/(fs()-Ui)*1e3||0,f=Ii.utils.clamp(-u,1-u,Fs(d/2)*d/.185),p=u+(!1===te.inertia?0:f),{onStart:m,onInterrupt:v,onComplete:_}=te;if(o=i(p,ve),As(o)||(o=p),c=Math.round(a+o*g),e<=l&&e>=a&&c!==e){if(s&&!s._initted&&s.data<=Fs(c-e))return;!1===te.inertia&&(f=o-u),n(c,{duration:M(Fs(.185*Math.max(Fs(p-h),Fs(o-h))/d/.05||0)),ease:te.ease||"power3",data:Fs(c-e),onInterrupt:()=>L.restart(!0)&&v&&v(ve),onComplete(){ve.update(),be=Ee(),t&&(A?A.resetTo("totalProgress",o,t._tTime/t._tDur):t.progress(o)),N=O=t&&!le?t.totalProgress():ve.progress,Z&&Z(ve),_&&_(ve)}},e,f*g,c-e-f*g),m&&m(ve,n.tween)}}})).pause()),q&&(ro[q]=ve),G=ve.trigger=wi(G||!0!==Q&&Q),V=G&&G._gsap&&G._gsap.stRevert,V&&(V=V(ve)),Q=!0===Q?G:wi(Q),Ns(B)&&(B={targets:G,className:B}),Q&&(!1===Y||"margin"===Y||(Y=!(!Y&&Q.parentNode&&Q.parentNode.style&&"flex"===Vs(Q.parentNode).display)&&Us),ve.pin=Q,r=Ii.core.getCache(Q),r.spacer?m=r.pinState:(re&&(re=wi(re),re&&!re.nodeType&&(re=re.current||re.nativeElement),r.spacerIsNative=!!re,re&&(r.spacerState=Po(re))),r.spacer=y=re||Ni.createElement("div"),y.classList.add("pin-spacer"),q&&y.classList.add("pin-spacer-"+q),r.pinState=m=Po(Q)),!1!==e.force3D&&Ii.set(Q,{force3D:!0}),ve.spacer=y=r.spacer,R=Vs(Q),k=R[Y+ae.os2],b=Ii.getProperty(Q),T=Ii.quickSetter(Q,ae.a,zs),So(Q,y,R),_=Po(Q)),ge){f=Ds(ge)?js(ge,Xs):Xs,h=eo("scroller-start",q,ce,ae,f,0),d=eo("scroller-end",q,ce,ae,f,0,h),w=h["offset"+ae.op.d2];let e=wi(di(ce,"content")||ce);c=this.markerStart=eo("start",q,e,ae,f,w,0,ie),u=this.markerEnd=eo("end",q,e,ae,f,w,0,ie),ie&&(z=Ii.quickSetter([c,u],ae.a,zs)),de||ci.length&&!0===di(ce,"fixedMarkers")||((e=>{let t=Vs(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"})(he?Ai:ce),Ii.set([h,d],{force3D:!0}),x=Ii.quickSetter(h,ae.a,zs),P=Ii.quickSetter(d,ae.a,zs))}if(ie){let e=ie.vars.onUpdate,t=ie.vars.onUpdateParams;ie.eventCallback("onUpdate",(()=>{ve.update(0,0,1),e&&e.apply(ie,t||[])}))}if(ve.previous=()=>no[no.indexOf(ve)-1],ve.next=()=>no[no.indexOf(ve)+1],ve.revert=(e,n)=>{if(!n)return ve.kill(!0);let r=!1!==e||!ve.enabled,i=Vi;r!==ve.isReverted&&(r&&(F=Math.max(Ee(),ve.scroll.rec||0),Ce=ve.progress,U=t&&t.progress()),c&&[c,u,h,d].forEach((e=>e.style.display=r?"none":"block")),r&&(Vi=ve,ve.update(r)),!Q||ne&&ve.isActive||(r?((e,t,n)=>{Io(n);let r=e._gsap;if(r.spacerIsNative)Io(r.spacerState);else if(e._gsap.swappedIn){let n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))}e._gsap.swappedIn=!1})(Q,y,m):So(Q,y,Vs(Q),S)),r||ve.update(r),Vi=i,ve.isReverted=r)},ve.refresh=(r,i,f,w)=>{if((Vi||!ve.enabled)&&!i)return;if(Q&&r&&gs)return void Gs(Fo,"scrollEnd",uo);!cs&&_e&&_e(ve),Vi=ve,n.tween&&!f&&(n.tween.kill(),n.tween=0),A&&A.pause(),X&&t&&t.revert({kill:!1}).invalidate(),ve.isReverted||ve.revert(!0,!0),ve._subPinOffset=!1;let T,k,x,P,R,N,O,D,M,z,V,j,B,q=ye(),W=we(),K=ie?ie.duration():Ps(ce,ae),$=g<=.01,J=0,Z=w||0,ee=Ds(f)?f.end:e.end,te=e.endTrigger||G,re=Ds(f)?f.start:e.start||(0!==e.start&&G?Q?"0 0":"0 100%":0),se=ve.pinnedContainer=e.pinnedContainer&&wi(e.pinnedContainer,ve),oe=G&&Math.max(0,no.indexOf(ve))||0,ue=oe;for(ge&&Ds(f)&&(j=Ii.getProperty(h,ae.p),B=Ii.getProperty(d,ae.p));ue--;)N=no[ue],N.end||N.refresh(0,1)||(Vi=ve),O=N.pin,!O||O!==G&&O!==Q&&O!==se||N.isReverted||(z||(z=[]),z.unshift(N),N.revert(!0,!0)),N!==no[ue]&&(oe--,ue--);for(Os(re)&&(re=re(ve)),re=vs(re,"start",ve),a=No(re,G,q,ae,Ee(),c,h,ve,W,me,de,K,ie,ve._startClamp&&"_startClamp")||(Q?-.001:0),Os(ee)&&(ee=ee(ve)),Ns(ee)&&!ee.indexOf("+=")&&(~ee.indexOf(" ")?ee=(Ns(re)?re.split(" ")[0]:"")+ee:(J=Zs(ee.substr(2),q),ee=Ns(re)?re:(ie?Ii.utils.mapRange(0,ie.duration(),ie.scrollTrigger.start,ie.scrollTrigger.end,a):a)+J,te=G)),ee=vs(ee,"end",ve),l=Math.max(a,No(ee||(te?"100% 0":K),te,q,ae,Ee()+J,u,d,ve,W,me,de,K,ie,ve._endClamp&&"_endClamp"))||-.001,J=0,ue=oe;ue--;)N=no[ue],O=N.pin,O&&N.start-N._pinPush<=a&&!ie&&N.end>0&&(T=N.end-(ve._startClamp?Math.max(0,N.start):N.start),(O===G&&N.start-N._pinPush<a||O===se)&&isNaN(re)&&(J+=T*(1-N.progress)),O===Q&&(Z+=T));if(a+=J,l+=J,ve._startClamp&&(ve._startClamp+=J),ve._endClamp&&!cs&&(ve._endClamp=l||-.001,l=Math.min(l,Ps(ce,ae))),g=l-a||(a-=.01)&&.001,$&&(Ce=Ii.utils.clamp(0,1,Ii.utils.normalize(a,l,F))),ve._pinPush=Z,c&&J&&(T={},T[ae.a]="+="+J,se&&(T[ae.p]="-="+Ee()),Ii.set([c,u],T)),!Q||os&&ve.end>=Ps(ce,ae)){if(G&&Ee()&&!ie)for(k=G.parentNode;k&&k!==Ai;)k._pinOffset&&(a-=k._pinOffset,l-=k._pinOffset),k=k.parentNode}else T=Vs(Q),P=ae===yi,x=Ee(),C=parseFloat(b(ae.a))+Z,!K&&l>1&&(V=(he?Ni.scrollingElement||Oi:ce).style,V={style:V,value:V["overflow"+ae.a.toUpperCase()]},he&&"scroll"!==Vs(Ai)["overflow"+ae.a.toUpperCase()]&&(V.style["overflow"+ae.a.toUpperCase()]="scroll")),So(Q,y,T),_=Po(Q),k=Bs(Q,!0),D=de&&bi(ce,P?_i:yi)(),Y?(S=[Y+ae.os2,g+Z+zs],S.t=y,ue=Y===Us?qs(Q,ae)+g+Z:0,ue&&(S.push(ae.d,ue+zs),"auto"!==y.style.flexBasis&&(y.style.flexBasis=ue+zs)),Io(S),se&&no.forEach((e=>{e.pin===se&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),de&&Ee(F)):(ue=qs(Q,ae),ue&&"auto"!==y.style.flexBasis&&(y.style.flexBasis=ue+zs)),de&&(R={top:k.top+(P?x-a:D)+zs,left:k.left+(P?D:x-a)+zs,boxSizing:"border-box",position:"fixed"},R.width=R.maxWidth=Math.ceil(k.width)+zs,R.height=R.maxHeight=Math.ceil(k.height)+zs,R.margin=R.marginTop=R.marginRight=R.marginBottom=R.marginLeft="0",R.padding=T.padding,R.paddingTop=T.paddingTop,R.paddingRight=T.paddingRight,R.paddingBottom=T.paddingBottom,R.paddingLeft=T.paddingLeft,v=((e,t,n)=>{let r,i=[],s=e.length,o=n?8:0;for(;o<s;o+=2)r=e[o],i.push(r,r in t?t[r]:e[o+1]);return i.t=e.t,i})(m,R,ne),cs&&Ee(0)),t?(M=t._initted,Qi(1),t.render(t.duration(),!0,!0),E=b(ae.a)-C+g+Z,I=Math.abs(g-E)>1,de&&I&&v.splice(v.length-2,2),t.render(0,!0,!0),M||t.invalidate(!0),t.parent||t.totalTime(t.totalTime()),Qi(0)):E=g,V&&(V.value?V.style["overflow"+ae.a.toUpperCase()]=V.value:V.style.removeProperty("overflow-"+ae.a));z&&z.forEach((e=>e.revert(!1,!0))),ve.start=a,ve.end=l,s=o=cs?F:Ee(),ie||cs||(s<F&&Ee(F),ve.scroll.rec=0),ve.revert(!1,!0),Te=fs(),L&&(be=-1,L.restart(!0)),Vi=0,t&&le&&(t._initted||U)&&t.progress()!==U&&t.progress(U||0,!0).render(t.time(),!0,!0),($||Ce!==ve.progress||ie||X)&&(t&&!le&&t.totalProgress(ie&&a<-.001&&!Ce?Ii.utils.normalize(a,l,0):Ce,!0),ve.progress=$||(s-a)/g===Ce?0:Ce),Q&&Y&&(y._pinOffset=Math.round(ve.progress*E)),A&&A.invalidate(),isNaN(j)||(j-=Ii.getProperty(h,ae.p),B-=Ii.getProperty(d,ae.p),Mo(h,ae,j),Mo(c,ae,j-(w||0)),Mo(d,ae,B),Mo(u,ae,B-(w||0))),$&&!cs&&ve.update(),!H||cs||p||(p=!0,H(ve),p=!1)},ve.getVelocity=()=>(Ee()-o)/(fs()-Ui)*1e3||0,ve.endAnimation=()=>{Ms(ve.callbackAnimation),t&&(A?A.progress(1):t.paused()?le||Ms(t,ve.direction<0,1):Ms(t,t.reversed()))},ve.labelToScroll=e=>t&&t.labels&&(a||ve.refresh()||a)+t.labels[e]/t.duration()*g||0,ve.getTrailing=e=>{let t=no.indexOf(ve),n=ve.direction>0?no.slice(0,t).reverse():no.slice(t+1);return(Ns(e)?n.filter((t=>t.vars.preventOverlaps===e)):n).filter((e=>ve.direction>0?e.end<=a:e.start>=l))},ve.update=(e,r,i)=>{if(ie&&!i&&!e)return;let c,u,d,f,p,m,w,b,S=!0===cs?F:ve.scroll(),R=e?0:(S-a)/g,D=R<0?0:R>1?1:R||0,M=ve.progress;if(r&&(o=s,s=ie?Ee():S,te&&(O=N,N=t&&!le?t.totalProgress():D)),$&&Q&&!Vi&&!ds&&gs&&(!D&&a<S+(S-o)/(fs()-Ui)*$?D=1e-4:1===D&&l>S+(S-o)/(fs()-Ui)*$&&(D=.9999)),D!==M&&ve.enabled){if(c=ve.isActive=!!D&&D<1,u=!!M&&M<1,m=c!==u,p=m||!!D!=!!M,ve.direction=D>M?1:-1,ve.progress=D,p&&!Vi&&(d=D&&!M?0:1===D?1:1===M?2:3,le&&(f=!m&&"none"!==pe[d+1]&&pe[d+1]||pe[d],b=t&&("complete"===f||"reset"===f||f in t))),oe&&(m||b)&&(b||K||!t)&&(Os(oe)?oe(ve):ve.getTrailing(oe).forEach((e=>e.endAnimation()))),le||(!A||Vi||ds?t&&t.totalProgress(D,!(!Vi||!Te&&!e)):(A._dp._time-A._start!==A._time&&A.render(A._dp._time-A._start),A.resetTo?A.resetTo("totalProgress",D,t._tTime/t._tDur):(A.vars.totalProgress=D,A.invalidate().restart()))),Q)if(e&&Y&&(y.style[Y+ae.os2]=k),de){if(p){if(w=!e&&D>M&&l+1>S&&S+1>=Ps(ce,ae),ne)if(e||!c&&!w)Ao(Q,y);else{let e=Bs(Q,!0),t=S-a;Ao(Q,Ai,e.top+(ae===yi?t:0)+zs,e.left+(ae===yi?0:t)+zs)}Io(c||w?v:_),I&&D<1&&c||T(C+(1!==D||w?0:E))}}else T(Cs(C+E*D));te&&!n.tween&&!Vi&&!ds&&L.restart(!0),B&&(m||ee&&D&&(D<1||!as))&&Li(B.targets).forEach((e=>e.classList[c||ee?"add":"remove"](B.className))),j&&!le&&!e&&j(ve),p&&!Vi?(le&&(b&&("complete"===f?t.pause().totalProgress(1):"reset"===f?t.restart(!0).pause():"restart"===f?t.restart(!0):t[f]()),j&&j(ve)),!m&&as||(W&&m&&Ls(ve,W),fe[d]&&Ls(ve,fe[d]),ee&&(1===D?ve.kill(!1,1):fe[d]=0),m||(d=1===D?1:3,fe[d]&&Ls(ve,fe[d]))),se&&!c&&Math.abs(ve.getVelocity())>(As(se)?se:2500)&&(Ms(ve.callbackAnimation),A?A.progress(1):Ms(t,"reverse"===f?1:!D,1))):le&&j&&!Vi&&j(ve)}if(P){let e=ie?S/ie.duration()*(ie._caScrollDist||0):S;x(e+(h._isFlipped?1:0)),P(e)}z&&z(-S/ie.duration()*(ie._caScrollDist||0))},ve.enable=(e,t)=>{ve.enabled||(ve.enabled=!0,Gs(ce,"resize",ao),he||Gs(ce,"scroll",so),_e&&Gs(Fo,"refreshInit",_e),!1!==e&&(ve.progress=Ce=0,s=o=be=Ee()),!1!==t&&ve.refresh())},ve.getTween=e=>e&&n?n.tween:A,ve.setPositions=(e,t,n,r)=>{if(ie){let n=ie.scrollTrigger,r=ie.duration(),i=n.end-n.start;e=n.start+i*e/r,t=n.start+i*t/r}ve.refresh(!1,!1,{start:_s(e,n&&!!ve._startClamp),end:_s(t,n&&!!ve._endClamp)},r),ve.update()},ve.adjustPinSpacing=e=>{if(S&&e){let t=S.indexOf(ae.d)+1;S[t]=parseFloat(S[t])+e+zs,S[1]=parseFloat(S[1])+e+zs,Io(S)}},ve.disable=(e,t)=>{if(ve.enabled&&(!1!==e&&ve.revert(!0,!0),ve.enabled=ve.isActive=!1,t||A&&A.pause(),F=0,r&&(r.uncache=1),_e&&Qs(Fo,"refreshInit",_e),L&&(L.pause(),n.tween&&n.tween.kill()&&(n.tween=0)),!he)){let e=no.length;for(;e--;)if(no[e].scroller===ce&&no[e]!==ve)return;Qs(ce,"resize",ao),he||Qs(ce,"scroll",so)}},ve.kill=(n,i)=>{ve.disable(n,i),A&&!i&&A.kill(),q&&delete ro[q];let s=no.indexOf(ve);s>=0&&no.splice(s,1),s===qi&&To>0&&qi--,s=0,no.forEach((e=>e.scroller===ve.scroller&&(s=1))),s||cs||(ve.scroll.rec=0),t&&(t.scrollTrigger=null,n&&t.revert({kill:!1}),i||t.kill()),c&&[c,u,h,d].forEach((e=>e.parentNode&&e.parentNode.removeChild(e))),hs===ve&&(hs=0),Q&&(r&&(r.uncache=1),s=0,no.forEach((e=>e.pin===Q&&s++)),s||(r.spacer=0)),e.onKill&&e.onKill(ve)},no.push(ve),ve.enable(!1,!1),V&&V(ve),t&&t.add&&!g){let e=ve.update;ve.update=()=>{ve.update=e,a||l||ve.refresh()},Ii.delayedCall(.01,ve.update),g=.01,a=l=0}else ve.refresh();Q&&(()=>{if(us!==vo){let e=us=vo;requestAnimationFrame((()=>e===vo&&wo(!0)))}})()}static register(e){return Pi||(Ii=e||ks(),Es()&&window.document&&Fo.enable(),Pi=ms),Pi}static defaults(e){if(e)for(let t in e)$s[t]=e[t];return $s}static disable(e,t){ms=0,no.forEach((n=>n[t?"kill":"disable"](e))),Qs(Ri,"wheel",so),Qs(Ni,"scroll",so),clearInterval(zi),Qs(Ni,"touchcancel",Ts),Qs(Ai,"touchstart",Ts),Ks(Qs,Ni,"pointerdown,touchstart,mousedown",ws),Ks(Qs,Ni,"pointerup,touchend,mouseup",bs),Mi.kill(),Rs(Qs);for(let n=0;n<li.length;n+=3)Ys(Qs,li[n],li[n+1]),Ys(Qs,li[n],li[n+2])}static enable(){if(Ri=window,Ni=document,Oi=Ni.documentElement,Ai=Ni.body,Ii&&(Li=Ii.utils.toArray,Fi=Ii.utils.clamp,ts=Ii.core.context||Ts,Qi=Ii.core.suppressOverwrites||Ts,ns=Ri.history.scrollRestoration||"auto",bo=Ri.pageYOffset,Ii.core.globals("ScrollTrigger",Fo),Ai)){ms=1,rs=document.createElement("div"),rs.style.height="100vh",rs.style.position="absolute",_o(),ys(),xi.register(Ii),Fo.isTouch=xi.isTouch,es=xi.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),$i=1===xi.isTouch,Gs(Ri,"wheel",so),Di=[Ri,Ni,Oi,Ai],Ii.matchMedia?(Fo.matchMedia=e=>{let t,n=Ii.matchMedia();for(t in e)n.add(t,e[t]);return n},Ii.addEventListener("matchMediaInit",(()=>go())),Ii.addEventListener("matchMediaRevert",(()=>po())),Ii.addEventListener("matchMedia",(()=>{wo(0,1),ho("matchMedia")})),Ii.matchMedia("(orientation: portrait)",(()=>(oo(),oo)))):console.warn("Requires GSAP 3.11.0 or later"),oo(),Gs(Ni,"scroll",so);let e,t,n=Ai.style,r=n.borderTopStyle,i=Ii.core.Animation.prototype;for(i.revert||Object.defineProperty(i,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",e=Bs(Ai),yi.m=Math.round(e.top+yi.sc())||0,_i.m=Math.round(e.left+_i.sc())||0,r?n.borderTopStyle=r:n.removeProperty("border-top-style"),zi=setInterval(io,250),Ii.delayedCall(.5,(()=>ds=0)),Gs(Ni,"touchcancel",Ts),Gs(Ai,"touchstart",Ts),Ks(Gs,Ni,"pointerdown,touchstart,mousedown",ws),Ks(Gs,Ni,"pointerup,touchend,mouseup",bs),Bi=Ii.utils.checkPrefix("transform"),ko.push(Bi),Pi=fs(),Mi=Ii.delayedCall(.2,wo).pause(),Ki=[Ni,"visibilitychange",()=>{let e=Ri.innerWidth,t=Ri.innerHeight;Ni.hidden?(Wi=e,Hi=t):Wi===e&&Hi===t||ao()},Ni,"DOMContentLoaded",wo,Ri,"load",wo,Ri,"resize",ao],Rs(Gs),no.forEach((e=>e.enable(0,1))),t=0;t<li.length;t+=3)Ys(Qs,li[t],li[t+1]),Ys(Qs,li[t],li[t+2])}}static config(e){"limitCallbacks"in e&&(as=!!e.limitCallbacks);let t=e.syncInterval;t&&clearInterval(zi)||(zi=t)&&setInterval(io,t),"ignoreMobileResize"in e&&($i=1===Fo.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(Rs(Qs)||Rs(Gs,e.autoRefreshEvents||"none"),Yi=-1===(e.autoRefreshEvents+"").indexOf("resize"))}static scrollerProxy(e,t){let n=wi(e),r=li.indexOf(n),i=Ss(n);~r&&li.splice(r,i?6:2),t&&(i?ci.unshift(Ri,t,Ai,t,Oi,t):ci.unshift(n,t))}static clearMatchMedia(e){no.forEach((t=>t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)))}static isInViewport(e,t,n){let r=(Ns(e)?wi(e):e).getBoundingClientRect(),i=r[n?"width":"height"]*t||0;return n?r.right-i>0&&r.left+i<Ri.innerWidth:r.bottom-i>0&&r.top+i<Ri.innerHeight}static positionInViewport(e,t,n){Ns(e)&&(e=wi(e));let r=e.getBoundingClientRect(),i=r[n?"width":"height"],s=null==t?i/2:t in Js?Js[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+s)/Ri.innerWidth:(r.top+s)/Ri.innerHeight}static killAll(e){if(no.slice(0).forEach((e=>"ScrollSmoother"!==e.vars.id&&e.kill())),!0!==e){let e=lo.killAll||[];lo={},e.forEach((e=>e()))}}}Fo.version="3.12.5",Fo.saveStyles=e=>e?Li(e).forEach((e=>{if(e&&e.style){let t=fo.indexOf(e);t>=0&&fo.splice(t,5),fo.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ii.core.getCache(e),ts())}})):fo,Fo.revert=(e,t)=>go(!e,t),Fo.create=(e,t)=>new Fo(e,t),Fo.refresh=e=>e?ao():(Pi||Fo.register())&&wo(!0),Fo.update=e=>++li.cache&&Co(!0===e?2:0),Fo.clearScrollMemory=mo,Fo.maxScroll=(e,t)=>Ps(e,t?_i:yi),Fo.getScrollFunc=(e,t)=>bi(wi(e),t?_i:yi),Fo.getById=e=>ro[e],Fo.getAll=()=>no.filter((e=>"ScrollSmoother"!==e.vars.id)),Fo.isScrolling=()=>!!gs,Fo.snapDirectional=Hs,Fo.addEventListener=(e,t)=>{let n=lo[e]||(lo[e]=[]);~n.indexOf(t)||n.push(t)},Fo.removeEventListener=(e,t)=>{let n=lo[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},Fo.batch=(e,t)=>{let n,r=[],i={},s=t.interval||.016,o=t.batchMax||1e9,a=(e,t)=>{let n=[],r=[],i=Ii.delayedCall(s,(()=>{t(n,r),n=[],r=[]})).pause();return e=>{n.length||i.restart(!0),n.push(e.trigger),r.push(e),o<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&Os(t[n])&&"onRefreshInit"!==n?a(0,t[n]):t[n];return Os(o)&&(o=o(),Gs(Fo,"refresh",(()=>o=t.batchMax()))),Li(e).forEach((e=>{let t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(Fo.create(t))})),r};let Uo,zo=(e,t,n,r)=>(t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1),Vo=(e,t)=>{!0===t?e.style.removeProperty("touch-action"):e.style.touchAction=!0===t?"auto":t?"pan-"+t+(xi.isTouch?" pinch-zoom":""):"none",e===Oi&&Vo(Ai,t)},jo={auto:1,scroll:1},Bo=e=>{let t,{event:n,target:r,axis:i}=e,s=(n.changedTouches?n.changedTouches[0]:n).target,o=s._gsap||Ii.core.getCache(s),a=fs();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==Ai&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!jo[(t=Vs(s)).overflowY]&&!jo[t.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==r&&!Ss(s)&&(jo[(t=Vs(s)).overflowY]||jo[t.overflowX]),o._isScrollT=a}(o._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},qo=(e,t,n,r)=>xi.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&Bo,onPress:r,onDrag:r,onScroll:r,onEnable:()=>n&&Gs(Ni,xi.eventTypes[0],Ho,!1,!0),onDisable:()=>Qs(Ni,xi.eventTypes[0],Ho,!0)}),Wo=/(input|label|select|textarea)/i,Ho=e=>{let t=Wo.test(e.target.tagName);(t||Uo)&&(e._gsapAllow=!0,Uo=t)};Fo.sort=e=>no.sort(e||((e,t)=>-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0)))),Fo.observe=e=>new xi(e),Fo.normalizeScroll=e=>{if(void 0===e)return Xi;if(!0===e&&Xi)return Xi.enable();if(!1===e)return Xi&&Xi.kill(),void(Xi=e);let t=e instanceof xi?e:(e=>{Ds(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";let t,n,r,i,s,o,a,l,{normalizeScrollX:c,momentum:u,allowNestedScroll:h,onRelease:d}=e,f=wi(e.target)||Oi,p=Ii.core.globals().ScrollSmoother,g=p&&p.get(),m=es&&(e.content&&wi(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),v=bi(f,yi),_=bi(f,_i),y=1,w=(xi.isTouch&&Ri.visualViewport?Ri.visualViewport.scale*Ri.visualViewport.width:Ri.outerWidth)/Ri.innerWidth,b=0,T=Os(u)?()=>u(t):()=>u||2.8,C=qo(f,e.type,!0,h),E=()=>i=!1,k=Ts,S=Ts,x=()=>{n=Ps(f,yi),S=Fi(es?1:0,n),c&&(k=Fi(0,Ps(f,_i))),r=vo},I=()=>{m._gsap.y=Cs(parseFloat(m._gsap.y)+v.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",v.offset=v.cacheID=0},P=()=>{x(),s.isActive()&&s.vars.scrollY>n&&(v()>n?s.progress(1)&&v(n):s.resetTo("scrollY",n))};return m&&Ii.set(m,{y:"+=0"}),e.ignoreCheck=e=>es&&"touchmove"===e.type&&(()=>{if(i){requestAnimationFrame(E);let e=Cs(t.deltaY/2),n=S(v.v-e);if(m&&n!==v.v+v.offset){v.offset=n-v.v;let e=Cs((parseFloat(m&&m._gsap.y)||0)-v.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)",m._gsap.y=e+"px",v.cacheID=li.cache,Co()}return!0}v.offset&&I(),i=!0})()||y>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1,e.onPress=()=>{i=!1;let e=y;y=Cs((Ri.visualViewport&&Ri.visualViewport.scale||1)/w),s.pause(),e!==y&&Vo(f,y>1.01||!c&&"x"),o=_(),a=v(),x(),r=vo},e.onRelease=e.onGestureStart=(e,t)=>{if(v.offset&&I(),t){li.cache++;let t,r,i=T();c&&(t=_(),r=t+.05*i*-e.velocityX/.227,i*=zo(_,t,r,Ps(f,_i)),s.vars.scrollX=k(r)),t=v(),r=t+.05*i*-e.velocityY/.227,i*=zo(v,t,r,Ps(f,yi)),s.vars.scrollY=S(r),s.invalidate().duration(i).play(.01),(es&&s.vars.scrollY>=n||t>=n-1)&&Ii.to({},{onUpdate:P,duration:i})}else l.restart(!0);d&&d(e)},e.onWheel=()=>{s._ts&&s.pause(),fs()-b>1e3&&(r=0,b=fs())},e.onChange=(e,t,n,i,s)=>{if(vo!==r&&x(),t&&c&&_(k(i[2]===t?o+(e.startX-e.x):_()+t-i[1])),n){v.offset&&I();let t=s[2]===n,r=t?a+e.startY-e.y:v()+n-s[1],i=S(r);t&&r!==i&&(a+=i-r),v(i)}(n||t)&&Co()},e.onEnable=()=>{Vo(f,!c&&"x"),Fo.addEventListener("refresh",P),Gs(Ri,"resize",P),v.smooth&&(v.target.style.scrollBehavior="auto",v.smooth=_.smooth=!1),C.enable()},e.onDisable=()=>{Vo(f,!0),Qs(Ri,"resize",P),Fo.removeEventListener("refresh",P),C.kill()},e.lockAxis=!1!==e.lockAxis,t=new xi(e),t.iOS=es,es&&!v()&&v(1),es&&Ii.ticker.add(Ts),l=t._dc,s=Ii.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:c?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Do(v,v(),(()=>s.pause()))},onUpdate:Co,onComplete:l.vars.onComplete}),t})(e);return Xi&&Xi.target===t.target&&Xi.kill(),Ss(t.target)&&(Xi=t),t},Fo.core={_getVelocityProp:Ti,_inputObserver:qo,_scrollers:li,_proxies:ci,bridge:{ss:()=>{gs||ho("scrollStart"),gs=fs()},ref:()=>Vi}},ks()&&Ii.registerPlugin(Fo);function Ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Go(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Qo,Yo,Xo,$o,Jo,Zo,ea,ta,na,ra,ia,sa={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},oa={duration:.5,overwrite:!1,delay:0},aa=1e8,la=1e-8,ca=2*Math.PI,ua=ca/4,ha=0,da=Math.sqrt,fa=Math.cos,pa=Math.sin,ga=function(e){return"string"===typeof e},ma=function(e){return"function"===typeof e},va=function(e){return"number"===typeof e},_a=function(e){return"undefined"===typeof e},ya=function(e){return"object"===typeof e},wa=function(e){return!1!==e},ba=function(){return"undefined"!==typeof window},Ta=function(e){return ma(e)||ga(e)},Ca="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Ea=Array.isArray,ka=/(?:-?\.?\d|\.)+/gi,Sa=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xa=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ia=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Pa=/[+-]=-?[.\d]+/,Ra=/[^,'"\[\]\s]+/gi,Na=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Oa={},Aa={},Da=function(e){return(Aa=cl(e,Oa))&&cu},Ma=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},La=function(e,t){return!t&&console.warn(e)},Fa=function(e,t){return e&&(Oa[e]=t)&&Aa&&(Aa[e]=t)||Oa},Ua=function(){return 0},za={suppressEvents:!0,isStart:!0,kill:!1},Va={suppressEvents:!0,kill:!1},ja={suppressEvents:!0},Ba={},qa=[],Wa={},Ha={},Ka={},Ga=30,Qa=[],Ya="",Xa=function(e){var t,n,r=e[0];if(ya(r)||ma(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Qa.length;n--&&!Qa[n].targetTest(r););t=Qa[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Cc(e[n],t)))||e.splice(n,1);return e},$a=function(e){return e._gsap||Xa(Vl(e))[0]._gsap},Ja=function(e,t,n){return(n=e[t])&&ma(n)?e[t]():_a(n)&&e.getAttribute&&e.getAttribute(t)||n},Za=function(e,t){return(e=e.split(",")).forEach(t)||e},el=function(e){return Math.round(1e5*e)/1e5||0},tl=function(e){return Math.round(1e7*e)/1e7||0},nl=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},rl=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},il=function(){var e,t,n=qa.length,r=qa.slice(0);for(Wa={},qa.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},sl=function(e,t,n,r){qa.length&&!Yo&&il(),e.render(t,n,r||Yo&&t<0&&(e._initted||e._startAt)),qa.length&&!Yo&&il()},ol=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Ra).length<2?t:ga(e)?e.trim():e},al=function(e){return e},ll=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},cl=function(e,t){for(var n in t)e[n]=t[n];return e},ul=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=ya(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},hl=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},dl=function(e){var t,n=e.parent||$o,r=e.keyframes?(t=Ea(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):ll;if(wa(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},fl=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,o=e[r];if(i)for(s=t[i];o&&o[i]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},pl=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},gl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ml=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},vl=function(e,t,n,r){return e._startAt&&(Yo?e._startAt.revert(Va):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},_l=function e(t){return!t||t._ts&&e(t.parent)},yl=function(e){return e._repeat?wl(e._tTime,e=e.duration()+e._rDelay)*e:0},wl=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},bl=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Tl=function(e){return e._end=tl(e._start+(e._tDur/Math.abs(e._ts||e._rts||la)||0))},Cl=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=tl(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Tl(e),n._dirty||ml(n,e)),e},El=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=bl(e.rawTime(),t),(!t._dur||Ll(0,t.totalDuration(),n)-t._tTime>la)&&t.render(n,!0)),ml(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},kl=function(e,t,n,r){return t.parent&&gl(t),t._start=tl((va(n)?n:n||e!==$o?Al(e,n,t):e._time)+t._delay),t._end=tl(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),fl(e,t,"_first","_last",e._sort?"_start":0),Pl(t)||(e._recent=t),r||El(e,t),e._ts<0&&Cl(e,e._tTime),e},Sl=function(e,t){return(Oa.ScrollTrigger||Ma("scrollTrigger",t))&&Oa.ScrollTrigger.create(t,e)},xl=function(e,t,n,r,i){return Nc(e,t,i),e._initted?!n&&e._pt&&!Yo&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&na!==uc.frame?(qa.push(e),e._lazy=[i,r],1):void 0:1},Il=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Pl=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Rl=function(e,t,n,r){var i=e._repeat,s=tl(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:tl(s*(i+1)+e._rDelay*i):s,o>0&&!r&&Cl(e,e._tTime=e._tDur*o),e.parent&&Tl(e),n||ml(e.parent,e),e},Nl=function(e){return e instanceof kc?ml(e):Rl(e,e._dur)},Ol={_start:0,endTime:Ua,totalDuration:Ua},Al=function e(t,n,r){var i,s,o,a=t.labels,l=t._recent||Ol,c=t.duration()>=aa?l.endTime(!1):t._dur;return ga(n)&&(isNaN(n)||n in a)?(s=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s?(i>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(s=s/100*(Ea(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+s:c+s)):null==n?c:+n},Dl=function(e,t,n){var r,i,s=va(t[1]),o=(s?2:1)+(e<2?0:1),a=t[o];if(s&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=wa(i.vars.inherit)&&i.parent;a.immediateRender=wa(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new Lc(t[0],a,t[o+1])},Ml=function(e,t){return e||0===e?t(e):t},Ll=function(e,t,n){return n<e?e:n>t?t:n},Fl=function(e,t){return ga(e)&&(t=Na.exec(e))?t[1]:""},Ul=[].slice,zl=function(e,t){return e&&ya(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ya(e[0]))&&!e.nodeType&&e!==Jo},Vl=function(e,t,n){return Xo&&!t&&Xo.selector?Xo.selector(e):!ga(e)||n||!Zo&&hc()?Ea(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return ga(e)&&!t||zl(e,1)?(r=n).push.apply(r,Vl(e)):n.push(e)}))||n}(e,n):zl(e)?Ul.call(e,0):e?[e]:[]:Ul.call((t||ea).querySelectorAll(e),0)},jl=function(e){return e=Vl(e)[0]||La("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Vl(t,n.querySelectorAll?n:n===e?La("Invalid scope")||ea.createElement("div"):e)}},Bl=function(e){return e.sort((function(){return.5-Math.random()}))},ql=function(e){if(ma(e))return e;var t=ya(e)?e:{each:e},n=_c(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},o=r>0&&r<1,a=isNaN(r)||o,l=t.axis,c=r,u=r;return ga(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&a&&(c=r[0],u=r[1]),function(e,o,h){var d,f,p,g,m,v,_,y,w,b=(h||t).length,T=s[b];if(!T){if(!(w="auto"===t.grid?0:(t.grid||[1,aa])[1])){for(_=-1e8;_<(_=h[w++].getBoundingClientRect().left)&&w<b;);w<b&&w--}for(T=s[b]=[],d=a?Math.min(w,b)*c-.5:r%w,f=w===aa?0:a?b*u/w-.5:r/w|0,_=0,y=aa,v=0;v<b;v++)p=v%w-d,g=f-(v/w|0),T[v]=m=l?Math.abs("y"===l?g:p):da(p*p+g*g),m>_&&(_=m),m<y&&(y=m);"random"===r&&Bl(T),T.max=_-y,T.min=y,T.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(w>b?b-1:l?"y"===l?b/w:w:Math.max(w,b/w))||0)*("edges"===r?-1:1),T.b=b<0?i-b:i,T.u=Fl(t.amount||t.each)||0,n=n&&b<0?mc(n):n}return b=(T[e]-T.min)/T.max||0,tl(T.b+(n?n(b):b)*T.v)+T.u}},Wl=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=tl(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(va(n)?0:Fl(n))}},Hl=function(e,t){var n,r,i=Ea(e);return!i&&ya(e)&&(n=i=e.radius||aa,e.values?(e=Vl(e.values),(r=!va(e[0]))&&(n*=n)):e=Wl(e.increment)),Ml(t,i?ma(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,s,o=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),l=aa,c=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(s=e[u].y-a)*s:Math.abs(e[u]-o))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||va(t)?c:c+Fl(t)}:Wl(e))},Kl=function(e,t,n,r){return Ml(Ea(e)?!t:!0===n?!!(n=0):!r,(function(){return Ea(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},Gl=function(e,t,n){return Ml(n,(function(n){return e[~~t(n)]}))},Ql=function(e){for(var t,n,r,i,s=0,o="";~(t=e.indexOf("random(",s));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?Ra:ka),o+=e.substr(s,t-s)+Kl(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),s=r+1;return o+e.substr(s,e.length-s)},Yl=function(e,t,n,r,i){var s=t-e,o=r-n;return Ml(i,(function(t){return n+((t-e)/s*o||0)}))},Xl=function(e,t,n){var r,i,s,o=e.labels,a=aa;for(r in o)(i=o[r]-t)<0===!!n&&i&&a>(i=Math.abs(i))&&(s=r,a=i);return s},$l=function(e,t,n){var r,i,s,o=e.vars,a=o[t],l=Xo,c=e._ctx;if(a)return r=o[t+"Params"],i=o.callbackScope||e,n&&qa.length&&il(),c&&(Xo=c),s=r?a.apply(i,r):a.call(i),Xo=l,s},Jl=function(e){return gl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Yo),e.progress()<1&&$l(e,"onInterrupt"),e},Zl=[],ec=function(e){if(e)if(e=!e.name&&e.default||e,ba()||e.headless){var t=e.name,n=ma(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:Ua,render:Hc,add:Pc,kill:Gc,modifier:Kc,rawVars:0},s={targetTest:0,get:0,getSetter:jc,aliases:{},register:0};if(hc(),e!==r){if(Ha[t])return;ll(r,ll(hl(e,i),s)),cl(r.prototype,cl(i,hl(e,s))),Ha[r.prop=t]=r,e.targetTest&&(Qa.push(r),Ba[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Fa(t,r),e.register&&e.register(cu,r,Xc)}else Zl.push(e)},tc=255,nc={aqua:[0,tc,tc],lime:[0,tc,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,tc],navy:[0,0,128],white:[tc,tc,tc],olive:[128,128,0],yellow:[tc,tc,0],orange:[tc,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[tc,0,0],pink:[tc,192,203],cyan:[0,tc,tc],transparent:[tc,tc,tc,0]},rc=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*tc+.5|0},ic=function(e,t,n){var r,i,s,o,a,l,c,u,h,d,f=e?va(e)?[e>>16,e>>8&tc,e&tc]:0:nc.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),nc[e])f=nc[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),s=e.charAt(3),e="#"+r+r+i+i+s+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&tc,f&tc,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&tc,e&tc]}else if("hsl"===e.substr(0,3))if(f=d=e.match(ka),t){if(~e.indexOf("="))return f=e.match(Sa),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=rc(o+1/3,r,i),f[1]=rc(o,r,i),f[2]=rc(o-1/3,r,i);else f=e.match(ka)||nc.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/tc,i=f[1]/tc,s=f[2]/tc,l=((c=Math.max(r,i,s))+(u=Math.min(r,i,s)))/2,c===u?o=a=0:(h=c-u,a=l>.5?h/(2-c-u):h/(c+u),o=c===r?(i-s)/h+(i<s?6:0):c===i?(s-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},sc=function(e){var t=[],n=[],r=-1;return e.split(ac).forEach((function(e){var i=e.match(xa)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},oc=function(e,t,n){var r,i,s,o,a="",l=(e+a).match(ac),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map((function(e){return(e=ic(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(s=sc(e),(r=n.c).join(a)!==s.c.join(a)))for(o=(i=e.replace(ac,"1").split(xa)).length-1;u<o;u++)a+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!i)for(o=(i=e.split(ac)).length-1;u<o;u++)a+=i[u]+l[u];return a+i[o]},ac=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in nc)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),lc=/hsl[a]?\(/,cc=function(e){var t,n=e.join(" ");if(ac.lastIndex=0,ac.test(n))return t=lc.test(n),e[1]=oc(e[1],t),e[0]=oc(e[0],t,sc(e[1])),!0},uc=function(){var e,t,n,r,i,s,o=Date.now,a=500,l=33,c=o(),u=c,h=1e3/240,d=h,f=[],p=function n(p){var g,m,v,_,y=o()-u,w=!0===p;if((y>a||y<0)&&(c+=y-l),((g=(v=(u+=y)-c)-d)>0||w)&&(_=++r.frame,i=v-1e3*r.time,r.time=v/=1e3,d+=g+(g>=h?4:h-g),m=1),w||(e=t(n)),m)for(s=0;s<f.length;s++)f[s](v,i,_,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){ta&&(!Zo&&ba()&&(Jo=Zo=window,ea=Jo.document||{},Oa.gsap=cu,(Jo.gsapVersions||(Jo.gsapVersions=[])).push(cu.version),Da(Aa||Jo.GreenSockGlobals||!Jo.gsap&&Jo||{}),Zl.forEach(ec)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,d-1e3*r.time+1|0)},ia=1,p(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),ia=0,t=Ua},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){h=1e3/(e||240),d=1e3*r.time+h},add:function(e,t,n){var i=t?function(t,n,s,o){e(t,n,s,o),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),hc(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&s>=t&&s--},_listeners:f},r}(),hc=function(){return!ia&&uc.wake()},dc={},fc=/^[\d.\-M][\d.\-,\s]/,pc=/["']/g,gc=function(e){for(var t,n,r,i={},s=e.substr(1,e.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)n=s[a],t=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(pc,"").trim():+r,o=n.substr(t+1).trim();return i},mc=function(e){return function(t){return 1-e(1-t)}},vc=function e(t,n){for(var r,i=t._first;i;)i instanceof kc?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},_c=function(e,t){return e&&(ma(e)?e:dc[e]||function(e){var t=(e+"").split("("),n=dc[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[gc(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map(ol)):dc._CE&&fc.test(e)?dc._CE("",e):n}(e))||t},yc=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,s={easeIn:t,easeOut:n,easeInOut:r};return Za(e,(function(e){for(var t in dc[e]=Oa[e]=s,dc[i=e.toLowerCase()]=n,s)dc[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=dc[e+"."+t]=s[t]})),s},wc=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},bc=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/ca*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*pa((e-o)*s)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:wc(a);return s=ca/s,l.config=function(n,r){return e(t,n,r)},l},Tc=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:wc(r);return i.config=function(n){return e(t,n)},i};Za("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;yc(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),dc.Linear.easeNone=dc.none=dc.Linear.easeIn,yc("Elastic",bc("in"),bc("out"),bc()),function(e,t){var n=1/t,r=2*n,i=2.5*n,s=function(s){return s<n?e*s*s:s<r?e*Math.pow(s-1.5/t,2)+.75:s<i?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};yc("Bounce",(function(e){return 1-s(1-e)}),s)}(7.5625,2.75),yc("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),yc("Circ",(function(e){return-(da(1-e*e)-1)})),yc("Sine",(function(e){return 1===e?1:1-fa(e*ua)})),yc("Back",Tc("in"),Tc("out"),Tc()),dc.SteppedEase=dc.steps=Oa.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*Ll(0,.99999999,e)|0)+i)*n}}},oa.ease=dc["quad.out"],Za("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return Ya+=e+","+e+"Params,"}));var Cc=function(e,t){this.id=ha++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Ja,this.set=t?t.getSetter:jc},Ec=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Rl(this,+e.duration,1,1),this.data=e.data,Xo&&(this._ctx=Xo,Xo.data.push(this)),ia||uc.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Rl(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(hc(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Cl(this,e),!n._dp||n.parent||El(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&kl(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===la||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),sl(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+yl(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+yl(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?wl(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?bl(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Ll(-Math.abs(this._delay),this._tDur,n),!1!==t),Tl(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(hc(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==la&&(this._tTime-=la)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&kl(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(wa(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?bl(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=ja);var t=Yo;return Yo=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),Yo=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Nl(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,Nl(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Al(this,e),wa(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,wa(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-la))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=ma(e)?e:al,i=function(){var e=t.then;t.then=null,ma(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){Jl(this)},e}();ll(Ec.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var kc=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=wa(t.sortChildren),$o&&kl(t.parent||$o,Ko(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&Sl(Ko(r),t.scrollTrigger),r}Go(t,e);var n=t.prototype;return n.to=function(e,t,n){return Dl(0,arguments,this),this},n.from=function(e,t,n){return Dl(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Dl(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,dl(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Lc(e,t,Al(this,n),1),this},n.call=function(e,t,n){return kl(this,Lc.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,s,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=o,n.parent=this,new Lc(e,n,Al(this,i)),this},n.staggerFrom=function(e,t,n,r,i,s,o){return n.runBackwards=1,dl(n).immediateRender=wa(n.immediateRender),this.staggerTo(e,t,n,r,i,s,o)},n.staggerFromTo=function(e,t,n,r,i,s,o,a){return r.startAt=n,dl(r).immediateRender=wa(r.immediateRender),this.staggerTo(e,t,r,i,s,o,a)},n.render=function(e,t,n){var r,i,s,o,a,l,c,u,h,d,f,p,g=this._time,m=this._dirty?this.totalDuration():this._tDur,v=this._dur,_=e<=0?0:tl(e),y=this._zTime<0!==e<0&&(this._initted||!v);if(this!==$o&&_>m&&e>=0&&(_=m),_!==this._tTime||n||y){if(g!==this._time&&v&&(_+=this._time-g,e+=this._time-g),r=_,h=this._start,l=!(u=this._ts),y&&(v||(g=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=tl(_%a),_===m?(o=this._repeat,r=v):((o=~~(_/a))&&o===_/a&&(r=v,o--),r>v&&(r=v)),d=wl(this._tTime,a),!g&&this._tTime&&d!==o&&this._tTime-d*a-this._dur<=0&&(d=o),f&&1&o&&(r=v-r,p=1),o!==d&&!this._lock){var w=f&&1&d,b=w===(f&&1&o);if(o<d&&(w=!w),g=w?0:_%v?v:_,this._lock=1,this.render(g||(p?0:tl(o*a)),t,!v)._lock=0,this._tTime=_,!t&&this.parent&&$l(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),g&&g!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,m=this._tDur,b&&(this._lock=2,g=w?v:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;vc(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,tl(g),tl(r)),c&&(_-=r-(r=c._start))),this._tTime=_,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,g=0),!g&&r&&!t&&!o&&($l(this,"onStart"),this._tTime!==_))return this;if(r>=g&&e>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,s&&(_+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var T=e<0?e:r;i;){if(s=i._prev,(i._act||T<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(T-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(T-i._start)*i._ts,t,n||Yo&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!l){c=0,s&&(_+=this._zTime=T?-1e-8:la);break}}i=s}}if(c&&!t&&(this.pause(),c.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=h,Tl(this),this.render(e,t,n);this._onUpdate&&!t&&$l(this,"onUpdate",!0),(_===m&&this._tTime>=this.totalDuration()||!_&&g)&&(h!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(_===m&&this._ts>0||!_&&this._ts<0)&&gl(this,1),t||e<0&&!g||!_&&!g&&m||($l(this,_===m&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_<m&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(va(t)||(t=Al(this,t,e)),!(e instanceof Ec)){if(Ea(e))return e.forEach((function(e){return n.add(e,t)})),this;if(ga(e))return this.addLabel(e,t);if(!ma(e))return this;e=Lc.delayedCall(0,e)}return this!==e?kl(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-1e8);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof Lc?t&&i.push(s):(n&&i.push(s),e&&i.push.apply(i,s.getChildren(!0,t,n)))),s=s._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return ga(e)?this.removeLabel(e):ma(e)?this.killTweensOf(e):(pl(this,e),e===this._recent&&(this._recent=this._last),ml(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=tl(uc.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=Al(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=Lc.delayedCall(0,t||Ua,n);return r.data="isPause",this._hasPause=1,kl(this,r,Al(this,e))},n.removePause=function(e){var t=this._first;for(e=Al(this,e);t;)t._start===e&&"isPause"===t.data&&gl(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Sc!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=Vl(e),s=this._first,o=va(t);s;)s instanceof Lc?rl(s._targets,i)&&(o?(!Sc||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(i,t)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=Al(r,e),s=t,o=s.startAt,a=s.onStart,l=s.onStartParams,c=s.immediateRender,u=Lc.to(r,ll({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||la,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==e&&Rl(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,ll({startAt:{time:Al(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),Xl(this,Al(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),Xl(this,Al(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+la)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,s=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return ml(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),ml(this)},n.totalDuration=function(e){var t,n,r,i=0,s=this,o=s._last,a=aa;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,kl(s,o,n-o._delay,1)._lock=0):a=n,n<0&&o._ts&&(i-=n,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=n/s._ts,s._time-=n,s._tTime-=n),s.shiftChildren(-n,!1,-Infinity),a=0),o._end>i&&o._ts&&(i=o._end),o=t;Rl(s,s===$o&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(e){if($o._ts&&(sl($o,bl(e,$o)),na=uc.frame),uc.frame>=Ga){Ga+=sa.autoSleep||120;var t=$o._first;if((!t||!t._ts)&&sa.autoSleep&&uc._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||uc.sleep()}}},t}(Ec);ll(kc.prototype,{_lock:0,_hasPause:0,_forcing:0});var Sc,xc,Ic=function(e,t,n,r,i,s,o){var a,l,c,u,h,d,f,p,g=new Xc(this._pt,e,t,0,1,Wc,null,i),m=0,v=0;for(g.b=n,g.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=Ql(r)),s&&(s(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(Ia)||[];a=Ia.exec(r);)u=a[0],h=r.substring(m,a.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,g._pt={_next:g._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?nl(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},m=Ia.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=o,(Pa.test(r)||f)&&(g.e=0),this._pt=g,g},Pc=function(e,t,n,r,i,s,o,a,l,c){ma(r)&&(r=r(i||0,e,s));var u,h=e[t],d="get"!==n?n:ma(h)?l?e[t.indexOf("set")||!ma(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,f=ma(h)?l?zc:Uc:Fc;if(ga(r)&&(~r.indexOf("random(")&&(r=Ql(r)),"="===r.charAt(1)&&((u=nl(d,r)+(Fl(d)||0))||0===u)&&(r=u)),!c||d!==r||xc)return isNaN(d*r)||""===r?(!h&&!(t in e)&&Ma(t,r),Ic.call(this,e,t,d,r,f,a||sa.stringFilter,l)):(u=new Xc(this._pt,e,t,+d||0,r-(d||0),"boolean"===typeof h?qc:Bc,0,f),l&&(u.fp=l),o&&u.modifier(o,this,e),this._pt=u)},Rc=function(e,t,n,r,i,s){var o,a,l,c;if(Ha[e]&&!1!==(o=new Ha[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(ma(e)&&(e=Ac(e,i,t,n,r)),!ya(e)||e.style&&e.nodeType||Ea(e)||Ca(e))return ga(e)?Ac(e,i,t,n,r):e;var s,o={};for(s in e)o[s]=Ac(e[s],i,t,n,r);return o}(t[e],r,i,s,n),n,r,s)&&(n._pt=a=new Xc(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==ra))for(l=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=a;return o},Nc=function e(t,n,r){var i,s,o,a,l,c,u,h,d,f,p,g,m,v=t.vars,_=v.ease,y=v.startAt,w=v.immediateRender,b=v.lazy,T=v.onUpdate,C=v.runBackwards,E=v.yoyoEase,k=v.keyframes,S=v.autoRevert,x=t._dur,I=t._startAt,P=t._targets,R=t.parent,N=R&&"nested"===R.data?R.vars.targets:P,O="auto"===t._overwrite&&!Qo,A=t.timeline;if(A&&(!k||!_)&&(_="none"),t._ease=_c(_,oa.ease),t._yEase=E?mc(_c(!0===E?_:E,oa.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),t._from=!A&&!!v.runBackwards,!A||k&&!v.stagger){if(g=(h=P[0]?$a(P[0]).harness:0)&&v[h.prop],i=hl(v,Ba),I&&(I._zTime<0&&I.progress(1),n<0&&C&&w&&!S?I.render(-1,!0):I.revert(C&&x?Va:za),I._lazy=0),y){if(gl(t._startAt=Lc.set(P,ll({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!I&&wa(b),startAt:null,delay:0,onUpdate:T&&function(){return $l(t,"onUpdate")},stagger:0},y))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Yo||!w&&!S)&&t._startAt.revert(Va),w&&x&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(C&&x&&!I)if(n&&(w=!1),o=ll({overwrite:!1,data:"isFromStart",lazy:w&&!I&&wa(b),immediateRender:w,stagger:0,parent:R},i),g&&(o[h.prop]=g),gl(t._startAt=Lc.set(P,o)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Yo?t._startAt.revert(Va):t._startAt.render(-1,!0)),t._zTime=n,w){if(!n)return}else e(t._startAt,la,la);for(t._pt=t._ptCache=0,b=x&&wa(b)||b&&!x,s=0;s<P.length;s++){if(u=(l=P[s])._gsap||Xa(P)[s]._gsap,t._ptLookup[s]=f={},Wa[u.id]&&qa.length&&il(),p=N===P?s:N.indexOf(l),h&&!1!==(d=new h).init(l,g||i,t,p,N)&&(t._pt=a=new Xc(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){f[e]=a})),d.priority&&(c=1)),!h||g)for(o in i)Ha[o]&&(d=Rc(o,i,t,p,l,N))?d.priority&&(c=1):f[o]=a=Pc.call(t,l,o,"get",i[o],p,N,0,v.stringFilter);t._op&&t._op[s]&&t.kill(l,t._op[s]),O&&t._pt&&(Sc=t,$o.killTweensOf(l,f,t.globalTime(n)),m=!t.parent,Sc=0),t._pt&&b&&(Wa[u.id]=1)}c&&Yc(t),t._onInit&&t._onInit(t)}t._onUpdate=T,t._initted=(!t._op||t._pt)&&!m,k&&n<=0&&A.render(aa,!0,!0)},Oc=function(e,t,n,r){var i,s,o=t.ease||r||"power1.inOut";if(Ea(t))s=n[e]||(n[e]=[]),t.forEach((function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(i in t)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(e),v:t[i],e:o})},Ac=function(e,t,n,r,i){return ma(e)?e.call(t,n,r,i):ga(e)&&~e.indexOf("random(")?Ql(e):e},Dc=Ya+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Mc={};Za(Dc+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return Mc[e]=1}));var Lc=function(e){function t(t,n,r,i){var s;"number"===typeof n&&(r.duration=n,n=r,r=null);var o,a,l,c,u,h,d,f,p=(s=e.call(this,i?n:dl(n))||this).vars,g=p.duration,m=p.delay,v=p.immediateRender,_=p.stagger,y=p.overwrite,w=p.keyframes,b=p.defaults,T=p.scrollTrigger,C=p.yoyoEase,E=n.parent||$o,k=(Ea(t)||Ca(t)?va(t[0]):"length"in n)?[t]:Vl(t);if(s._targets=k.length?Xa(k):La("GSAP target "+t+" not found. https://gsap.com",!sa.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=y,w||_||Ta(g)||Ta(m)){if(n=s.vars,(o=s.timeline=new kc({data:"nested",defaults:b||{},targets:E&&"nested"===E.data?E.vars.targets:k})).kill(),o.parent=o._dp=Ko(s),o._start=0,_||Ta(g)||Ta(m)){if(c=k.length,d=_&&ql(_),ya(_))for(u in _)~Dc.indexOf(u)&&(f||(f={}),f[u]=_[u]);for(a=0;a<c;a++)(l=hl(n,Mc)).stagger=0,C&&(l.yoyoEase=C),f&&cl(l,f),h=k[a],l.duration=+Ac(g,Ko(s),a,h,k),l.delay=(+Ac(m,Ko(s),a,h,k)||0)-s._delay,!_&&1===c&&l.delay&&(s._delay=m=l.delay,s._start+=m,l.delay=0),o.to(h,l,d?d(a,h,k):0),o._ease=dc.none;o.duration()?g=m=0:s.timeline=0}else if(w){dl(ll(o.vars.defaults,{ease:"none"})),o._ease=_c(w.ease||n.ease||"none");var S,x,I,P=0;if(Ea(w))w.forEach((function(e){return o.to(k,e,">")})),o.duration();else{for(u in l={},w)"ease"===u||"easeEach"===u||Oc(u,w[u],l,w.easeEach);for(u in l)for(S=l[u].sort((function(e,t){return e.t-t.t})),P=0,a=0;a<S.length;a++)(I={ease:(x=S[a]).e,duration:(x.t-(a?S[a-1].t:0))/100*g})[u]=x.v,o.to(k,I,P),P+=I.duration;o.duration()<g&&o.to({},{duration:g-o.duration()})}}g||s.duration(g=o.duration())}else s.timeline=0;return!0!==y||Qo||(Sc=Ko(s),$o.killTweensOf(k),Sc=0),kl(E,Ko(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(v||!g&&!w&&s._start===tl(E._time)&&wa(v)&&_l(Ko(s))&&"nested"!==E.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-m)||0)),T&&Sl(Ko(s),T),s}Go(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,s,o,a,l,c,u,h,d=this._time,f=this._tDur,p=this._dur,g=e<0,m=e>f-la&&!g?f:e<la?0:e;if(p){if(m!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g){if(r=m,u=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*o+e,t,n);if(r=tl(m%o),m===f?(s=this._repeat,r=p):((s=~~(m/o))&&s===tl(m/o)&&(r=p,s--),r>p&&(r=p)),(l=this._yoyo&&1&s)&&(h=this._yEase,r=p-r),a=wl(this._tTime,o),r===d&&!n&&this._initted&&s===a)return this._tTime=m,this;s!==a&&(u&&this._yEase&&vc(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&this._time!==o&&this._initted&&(this._lock=n=1,this.render(tl(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(xl(this,g?e:r,n,t,m))return this._tTime=0,this;if(d!==this._time&&(!n||!this.vars.repeatRefresh||s===a))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/p),this._from&&(this.ratio=c=1-c),r&&!d&&!t&&!s&&($l(this,"onStart"),this._tTime!==m))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(g&&vl(this,e,0,n),$l(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!t&&this.parent&&$l(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(g&&!this._onUpdate&&vl(this,e,0,!0),(e||!p)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&gl(this,1),t||g&&!d||!(m||d||l)||($l(this,m===f?"onComplete":"onReverseComplete",!0),this._prom&&!(m<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,s,o,a=e.ratio,l=t<0||!t&&(!e._start&&Il(e)&&(e._initted||!Pl(e))||(e._ts<0||e._dp._ts<0)&&!Pl(e))?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=Ll(0,e._tDur,t),s=wl(u,c),e._yoyo&&1&s&&(l=1-l),s!==wl(e._tTime,c)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||Yo||r||e._zTime===la||!t&&e._zTime){if(!e._initted&&xl(e,t,r,n,u))return;for(o=e._zTime,e._zTime=t||(n?la:0),n||(n=t&&!o),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&vl(e,t,0,!0),e._onUpdate&&!n&&$l(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&$l(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&gl(e,1),n||Yo||($l(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){ia||uc.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Nc(this,s),function(e,t,n,r,i,s,o,a){var l,c,u,h,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((l=u[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return xc=1,e.vars[t]="+=0",Nc(e,o),xc=0,a?La(t+" not eligible for reset"):1;d.push(l)}for(h=d.length;h--;)(l=(c=d[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+s*l.c:r,l.c=n-l.s,c.e&&(c.e=el(n)+Fl(c.e)),c.b&&(c.b=l.s+Fl(c.b))}(this,e,t,n,r,this._ease(s/this._dur),s,i)?this.resetTo(e,t,n,r,1):(Cl(this,0),this.parent||fl(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?Jl(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Sc&&!0!==Sc.vars.overwrite)._first||Jl(this),this.parent&&n!==this.timeline.totalDuration()&&Rl(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,o,a,l,c,u=this._targets,h=e?Vl(e):u,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),Jl(this);for(r=this._op=this._op||[],"all"!==t&&(ga(t)&&(a={},Za(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var n,r,i,s,o=e[0]?$a(e[0]).harness:0,a=o&&o.aliases;if(!a)return t;for(r in n=cl({},t),a)if(r in n)for(i=(s=a[r].split(",")).length;i--;)n[s[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(a in i=d[c],"all"===t?(r[c]=t,o=i,s={}):(s=r[c]=r[c]||{},o=t),o)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||pl(this,l,"_pt"),delete i[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&f&&Jl(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Dl(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Dl(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return $o.killTweensOf(e,t,n)},t}(Ec);ll(Lc.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Za("staggerTo,staggerFrom,staggerFromTo",(function(e){Lc[e]=function(){var t=new kc,n=Ul.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var Fc=function(e,t,n){return e[t]=n},Uc=function(e,t,n){return e[t](n)},zc=function(e,t,n,r){return e[t](r.fp,n)},Vc=function(e,t,n){return e.setAttribute(t,n)},jc=function(e,t){return ma(e[t])?Uc:_a(e[t])&&e.setAttribute?Vc:Fc},Bc=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},qc=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Wc=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Hc=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Kc=function(e,t,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(e,t,n),s=i},Gc=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?pl(this,r,"_pt"):r.dep||(t=1),r=n;return!t},Qc=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},Yc=function(e){for(var t,n,r,i,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=t}e._pt=r},Xc=function(){function e(e,t,n,r,i,s,o,a,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=s||Bc,this.d=o||this,this.set=a||Fc,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=Qc,this.m=e,this.mt=n,this.tween=t},e}();Za(Ya+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return Ba[e]=1})),Oa.TweenMax=Oa.TweenLite=Lc,Oa.TimelineLite=Oa.TimelineMax=kc,$o=new kc({sortChildren:!1,defaults:oa,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),sa.stringFilter=cc;var $c=[],Jc={},Zc=[],eu=0,tu=0,nu=function(e){return(Jc[e]||Zc).map((function(e){return e()}))},ru=function(){var e=Date.now(),t=[];e-eu>2&&(nu("matchMediaInit"),$c.forEach((function(e){var n,r,i,s,o=e.queries,a=e.conditions;for(r in o)(n=Jo.matchMedia(o[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,s=1);s&&(e.revert(),i&&t.push(e))})),nu("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),eu=e,nu("matchMedia"))},iu=function(){function e(e,t){this.selector=t&&jl(t),this.data=[],this._r=[],this.isReverted=!1,this.id=tu++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){ma(e)&&(n=t,t=e,e=ma);var r=this,i=function(){var e,i=Xo,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=jl(n)),Xo=r,e=t.apply(r,arguments),ma(e)&&r._r.push(e),Xo=i,r.selector=s,r.isReverted=!1,e};return r.last=i,e===ma?i(r,(function(e){return r.add(null,e)})):e?r[e]=i:i},t.ignore=function(e){var t=Xo;Xo=null,e(this),Xo=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof Lc&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));for(r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),i=n.data.length;i--;)(t=n.data[i])instanceof kc?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof Lc)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var r=$c.length;r--;)$c[r].id===this.id&&$c.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),su=function(){function e(e){this.contexts=[],this.scope=e,Xo&&Xo.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){ya(e)||(e={matches:e});var r,i,s,o=new iu(0,n||this.scope),a=o.conditions={};for(i in Xo&&!o.selector&&(o.selector=Xo.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?s=1:(r=Jo.matchMedia(e[i]))&&($c.indexOf(o)<0&&$c.push(o),(a[i]=r.matches)&&(s=1),r.addListener?r.addListener(ru):r.addEventListener("change",ru));return s&&t(o,(function(e){return o.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),ou={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return ec(e)}))},timeline:function(e){return new kc(e)},getTweensOf:function(e,t){return $o.getTweensOf(e,t)},getProperty:function(e,t,n,r){ga(e)&&(e=Vl(e)[0]);var i=$a(e||{}).get,s=n?al:ol;return"native"===n&&(n=""),e?t?s((Ha[t]&&Ha[t].get||i)(e,t,n,r)):function(t,n,r){return s((Ha[t]&&Ha[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=Vl(e)).length>1){var r=e.map((function(e){return cu.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var s=Ha[t],o=$a(e),a=o.harness&&(o.harness.aliases||{})[t]||t,l=s?function(t){var r=new s;ra._pt=0,r.init(e,n?t+n:t,ra,0,[e]),r.render(1,r),ra._pt&&Hc(1,ra)}:o.set(e,a);return s?l:function(t){return l(e,a,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=cu.to(e,cl(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),s=function(e,n,r){return i.resetTo(t,e,n,r)};return s.tween=i,s},isTweening:function(e){return $o.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=_c(e.ease,oa.ease)),ul(oa,e||{})},config:function(e){return ul(sa,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!Ha[e]&&!Oa[e]&&La(t+" effect requires "+e+" plugin.")})),Ka[t]=function(e,t,r){return n(Vl(e),ll(t||{},i),r)},s&&(kc.prototype[t]=function(e,n,r){return this.add(Ka[t](e,ya(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){dc[e]=_c(t)},parseEase:function(e,t){return arguments.length?_c(e,t):dc},getById:function(e){return $o.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new kc(e);for(i.smoothChildTiming=wa(e.smoothChildTiming),$o.remove(i),i._dp=0,i._time=i._tTime=$o._time,n=$o._first;n;)r=n._next,!t&&!n._dur&&n instanceof Lc&&n.vars.onComplete===n._targets[0]||kl(i,n,n._start-n._delay),n=r;return kl($o,i,0),i},context:function(e,t){return e?new iu(e,t):Xo},matchMedia:function(e){return new su(e)},matchMediaRefresh:function(){return $c.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||ru()},addEventListener:function(e,t){var n=Jc[e]||(Jc[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Jc[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return Ea(t)?Gl(t,e(0,t.length),n):Ml(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return Ea(t)?Gl(t,e(0,t.length-1),n):Ml(r,(function(e){return t+((e=(s+(e-t)%s)%s||0)>i?s-e:e)}))},distribute:ql,random:Kl,snap:Hl,normalize:function(e,t,n){return Yl(e,t,0,1,n)},getUnit:Fl,clamp:function(e,t,n){return Ml(n,(function(n){return Ll(e,t,n)}))},splitColor:ic,toArray:Vl,selector:jl,mapRange:Yl,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Fl(n))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var o,a,l,c,u,h=ga(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(Ea(t)&&!Ea(n)){for(l=[],c=t.length,u=c-2,a=1;a<c;a++)l.push(e(t[a-1],t[a]));c--,s=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=cl(Ea(t)?[]:{},t));if(!l){for(o in n)Pc.call(d,t,o,"get",n[o]);s=function(e){return Hc(e,d)||(h?t.p:t)}}}return Ml(r,s)},shuffle:Bl},install:Da,effects:Ka,ticker:uc,updateRoot:kc.updateRoot,plugins:Ha,globalTimeline:$o,core:{PropTween:Xc,globals:Fa,Tween:Lc,Timeline:kc,Animation:Ec,getCache:$a,_removeLinkedListItem:pl,reverting:function(){return Yo},context:function(e){return e&&Xo&&(Xo.data.push(e),e._ctx=Xo),Xo},suppressOverwrites:function(e){return Qo=e}}};Za("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return ou[e]=Lc[e]})),uc.add(kc.updateRoot),ra=ou.to({},{duration:0});var au=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},lu=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(ga(n)&&(r={},Za(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,s=e._targets;for(n in t)for(r=s.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=au(i,n)),i&&i.modifier&&i.modifier(t[n],e,s[r],n))}(e,n)}}}},cu=ou.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,o,a;for(s in this.tween=n,t)a=e.getAttribute(s)||"",(o=this.add(e,"setAttribute",(a||0)+"",t[s],r,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)Yo?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},lu("roundProps",Wl),lu("modifiers"),lu("snap",Hl))||ou;Lc.version=kc.version=cu.version="3.12.5",ta=1,ba()&&hc();dc.Power0,dc.Power1,dc.Power2,dc.Power3,dc.Power4,dc.Linear,dc.Quad,dc.Cubic,dc.Quart,dc.Quint,dc.Strong,dc.Elastic,dc.Back,dc.SteppedEase,dc.Bounce,dc.Sine,dc.Expo,dc.Circ;var uu,hu,du,fu,pu,gu,mu,vu,_u={},yu=180/Math.PI,wu=Math.PI/180,bu=Math.atan2,Tu=/([A-Z])/g,Cu=/(left|right|width|margin|padding|x)/i,Eu=/[\s,\(]\S/,ku={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Su=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},xu=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Iu=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Pu=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Ru=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Nu=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Ou=function(e,t,n){return e.style[t]=n},Au=function(e,t,n){return e.style.setProperty(t,n)},Du=function(e,t,n){return e._gsap[t]=n},Mu=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Lu=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},Fu=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},Uu="transform",zu=Uu+"Origin",Vu=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in _u&&s){if(this.tfm=this.tfm||{},"transform"===t)return ku.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=ku[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=ih(i,e)})):this.tfm[t]=o.x?o[t]:ih(i,t),t===zu&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(Uu)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(zu,n,"")),t=Uu}(s||n)&&this.props.push(t,n,s[t])},ju=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Bu=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(Tu,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=mu())&&e.isStart||i[Uu]||(ju(i),s.zOrigin&&i[zu]&&(i[zu]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},qu=function(e,t){var n={target:e,props:[],revert:Bu,save:Vu};return e._gsap||cu.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},Wu=function(e,t){var n=hu.createElementNS?hu.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):hu.createElement(e);return n&&n.style?n:hu.createElement(e)},Hu=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(Tu,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Gu(n)||n,1)||""},Ku="O,Moz,ms,Ms,Webkit".split(","),Gu=function(e,t,n){var r=(t||pu).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Ku[i]+e in r););return i<0?null:(3===i?"ms":i>=0?Ku[i]:"")+e},Qu=function(){"undefined"!==typeof window&&window.document&&(uu=window,hu=uu.document,du=hu.documentElement,pu=Wu("div")||{style:{}},Wu("div"),Uu=Gu(Uu),zu=Uu+"Origin",pu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",vu=!!Gu("perspective"),mu=cu.core.reverting,fu=1)},Yu=function e(t){var n,r=Wu("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(du.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(Hr){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),du.removeChild(r),this.style.cssText=o,n},Xu=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},$u=function(e){var t;try{t=e.getBBox()}catch(c_){t=Yu.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Yu||(t=Yu.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+Xu(e,["x","cx","x1"])||0,y:+Xu(e,["y","cy","y1"])||0,width:0,height:0}},Ju=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!$u(e))},Zu=function(e,t){if(t){var n,r=e.style;t in _u&&t!==zu&&(t=Uu),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(Tu,"-$1").toLowerCase())):r.removeAttribute(t)}},eh=function(e,t,n,r,i,s){var o=new Xc(e._pt,t,n,0,1,s?Nu:Ru);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},th={deg:1,rad:1,turn:1},nh={grid:1,flex:1},rh=function e(t,n,r,i){var s,o,a,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=pu.style,d=Cu.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),g=100,m="px"===i,v="%"===i;if(i===u||!c||th[i]||th[u])return c;if("px"!==u&&!m&&(c=e(t,n,r,"px")),l=t.getCTM&&Ju(t),(v||"%"===u)&&(_u[n]||~n.indexOf("adius")))return s=l?t.getBBox()[d?"width":"height"]:t[p],el(v?c/s*g:c/100*s);if(h[d?"width":"height"]=g+(m?u:i),o=~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==hu&&o.appendChild||(o=hu.body),(a=o._gsap)&&v&&a.width&&d&&a.time===uc.time&&!a.uncache)return el(c/a.width*g);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!nh[Hu(o,"display")]&&(h.position=Hu(t,"position")),o===t&&(h.position="static"),o.appendChild(pu),s=pu[p],o.removeChild(pu),h.position="absolute";else{var _=t.style[n];t.style[n]=g+i,s=t[p],_?t.style[n]=_:Zu(t,n)}return d&&v&&((a=$a(o)).time=uc.time,a.width=o[p]),el(m?s*c/g:s&&c?g/s*c:0)},ih=function(e,t,n,r){var i;return fu||Qu(),t in ku&&"transform"!==t&&~(t=ku[t]).indexOf(",")&&(t=t.split(",")[0]),_u[t]&&"transform"!==t?(i=mh(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:vh(Hu(e,zu))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=ch[t]&&ch[t](e,t,n)||Hu(e,t)||Ja(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?rh(e,t,i,n)+n:i},sh=function(e,t,n,r){if(!n||"none"===n){var i=Gu(t,e,1),s=i&&Hu(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=Hu(e,"borderTopColor"))}var o,a,l,c,u,h,d,f,p,g,m,v=new Xc(this._pt,e.style,t,0,1,Wc),_=0,y=0;if(v.b=n,v.e=r,n+="","auto"===(r+="")&&(h=e.style[t],e.style[t]=r,r=Hu(e,t)||r,h?e.style[t]=h:Zu(e,t)),cc(o=[n,r]),r=o[1],l=(n=o[0]).match(xa)||[],(r.match(xa)||[]).length){for(;a=xa.exec(r);)d=a[0],p=r.substring(_,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),d!==(h=l[y++]||"")&&(c=parseFloat(h)||0,m=h.substr((c+"").length),"="===d.charAt(1)&&(d=nl(c,d)+m),f=parseFloat(d),g=d.substr((f+"").length),_=xa.lastIndex-g.length,g||(g=g||sa.units[t]||m,_===r.length&&(r+=g,v.e+=g)),m!==g&&(c=rh(e,t,h,g)||0),v._pt={_next:v._pt,p:p||1===y?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=_<r.length?r.substring(_,r.length):""}else v.r="display"===t&&"none"===r?Nu:Ru;return Pa.test(r)&&(v.e=0),this._pt=v,v},oh={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ah=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=oh[n]||n,t[1]=oh[r]||r,t.join(" ")},lh=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,o=s.style,a=t.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],_u[n]&&(r=1,n="transformOrigin"===n?zu:Uu),Zu(s,n);r&&(Zu(s,Uu),l&&(l.svg&&s.removeAttribute("transform"),mh(s,1),l.uncache=1,ju(o)))}},ch={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new Xc(e._pt,t,n,0,0,lh);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},uh=[1,0,0,1,0,0],hh={},dh=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},fh=function(e){var t=Hu(e,Uu);return dh(t)?uh:t.substr(7).match(Sa).map(el)},ph=function(e,t){var n,r,i,s,o=e._gsap||$a(e),a=e.style,l=fh(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?uh:l:(l!==uh||e.offsetParent||e===du||o.svg||(i=a.display,a.display="block",(n=e.parentNode)&&e.offsetParent||(s=1,r=e.nextElementSibling,du.appendChild(e)),l=fh(e),i?a.display=i:Zu(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):du.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},gh=function(e,t,n,r,i,s){var o,a,l,c=e._gsap,u=i||ph(e,!0),h=c.xOrigin||0,d=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,g=u[0],m=u[1],v=u[2],_=u[3],y=u[4],w=u[5],b=t.split(" "),T=parseFloat(b[0])||0,C=parseFloat(b[1])||0;n?u!==uh&&(a=g*_-m*v)&&(l=T*(-m/a)+C*(g/a)-(g*w-m*y)/a,T=T*(_/a)+C*(-v/a)+(v*w-_*y)/a,C=l):(T=(o=$u(e)).x+(~b[0].indexOf("%")?T/100*o.width:T),C=o.y+(~(b[1]||b[0]).indexOf("%")?C/100*o.height:C)),r||!1!==r&&c.smooth?(y=T-h,w=C-d,c.xOffset=f+(y*g+w*v)-y,c.yOffset=p+(y*m+w*_)-w):c.xOffset=c.yOffset=0,c.xOrigin=T,c.yOrigin=C,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[zu]="0px 0px",s&&(eh(s,c,"xOrigin",h,T),eh(s,c,"yOrigin",d,C),eh(s,c,"xOffset",f,c.xOffset),eh(s,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",T+" "+C)},mh=function(e,t){var n=e._gsap||new Cc(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,o,a,l,c,u,h,d,f,p,g,m,v,_,y,w,b,T,C,E,k,S,x,I,P,R,N,O,A,D,M=e.style,L=n.scaleX<0,F="px",U="deg",z=getComputedStyle(e),V=Hu(e,zu)||"0";return r=i=s=l=c=u=h=d=f=0,o=a=1,n.svg=!(!e.getCTM||!Ju(e)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(M[Uu]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[Uu]?z[Uu]:"")),M.scale=M.rotate=M.translate="none"),m=ph(e,n.svg),n.svg&&(n.uncache?(x=e.getBBox(),V=n.xOrigin-x.x+"px "+(n.yOrigin-x.y)+"px",S=""):S=!t&&e.getAttribute("data-svg-origin"),gh(e,S||V,!!S||n.originIsAbsolute,!1!==n.smooth,m)),p=n.xOrigin||0,g=n.yOrigin||0,m!==uh&&(w=m[0],b=m[1],T=m[2],C=m[3],r=E=m[4],i=k=m[5],6===m.length?(o=Math.sqrt(w*w+b*b),a=Math.sqrt(C*C+T*T),l=w||b?bu(b,w)*yu:0,(h=T||C?bu(T,C)*yu+l:0)&&(a*=Math.abs(Math.cos(h*wu))),n.svg&&(r-=p-(p*w+g*T),i-=g-(p*b+g*C))):(D=m[6],O=m[7],P=m[8],R=m[9],N=m[10],A=m[11],r=m[12],i=m[13],s=m[14],c=(v=bu(D,N))*yu,v&&(S=E*(_=Math.cos(-v))+P*(y=Math.sin(-v)),x=k*_+R*y,I=D*_+N*y,P=E*-y+P*_,R=k*-y+R*_,N=D*-y+N*_,A=O*-y+A*_,E=S,k=x,D=I),u=(v=bu(-T,N))*yu,v&&(_=Math.cos(-v),A=C*(y=Math.sin(-v))+A*_,w=S=w*_-P*y,b=x=b*_-R*y,T=I=T*_-N*y),l=(v=bu(b,w))*yu,v&&(S=w*(_=Math.cos(v))+b*(y=Math.sin(v)),x=E*_+k*y,b=b*_-w*y,k=k*_-E*y,w=S,E=x),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),o=el(Math.sqrt(w*w+b*b+T*T)),a=el(Math.sqrt(k*k+D*D)),v=bu(E,k),h=Math.abs(v)>2e-4?v*yu:0,f=A?1/(A<0?-A:A):0),n.svg&&(S=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!dh(Hu(e,Uu)),S&&e.setAttribute("transform",S))),Math.abs(h)>90&&Math.abs(h)<270&&(L?(o*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+F,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+F,n.z=s+F,n.scaleX=el(o),n.scaleY=el(a),n.rotation=el(l)+U,n.rotationX=el(c)+U,n.rotationY=el(u)+U,n.skewX=h+U,n.skewY=d+U,n.transformPerspective=f+F,(n.zOrigin=parseFloat(V.split(" ")[2])||!t&&n.zOrigin||0)&&(M[zu]=vh(V)),n.xOffset=n.yOffset=0,n.force3D=sa.force3D,n.renderTransform=n.svg?Eh:vu?Ch:yh,n.uncache=0,n},vh=function(e){return(e=e.split(" "))[0]+" "+e[1]},_h=function(e,t,n){var r=Fl(t);return el(parseFloat(t)+parseFloat(rh(e,"x",n+"px",r)))+r},yh=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Ch(e,t)},wh="0deg",bh="0px",Th=") ",Ch=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,o=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,g=n.transformPerspective,m=n.force3D,v=n.target,_=n.zOrigin,y="",w="auto"===m&&e&&1!==e||!0===m;if(_&&(u!==wh||c!==wh)){var b,T=parseFloat(c)*wu,C=Math.sin(T),E=Math.cos(T);T=parseFloat(u)*wu,b=Math.cos(T),s=_h(v,s,C*b*-_),o=_h(v,o,-Math.sin(T)*-_),a=_h(v,a,E*b*-_+_)}g!==bh&&(y+="perspective("+g+Th),(r||i)&&(y+="translate("+r+"%, "+i+"%) "),(w||s!==bh||o!==bh||a!==bh)&&(y+=a!==bh||w?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+Th),l!==wh&&(y+="rotate("+l+Th),c!==wh&&(y+="rotateY("+c+Th),u!==wh&&(y+="rotateX("+u+Th),h===wh&&d===wh||(y+="skew("+h+", "+d+Th),1===f&&1===p||(y+="scale("+f+", "+p+Th),v.style[Uu]=y||"translate(0, 0)"},Eh=function(e,t){var n,r,i,s,o,a=t||this,l=a.xPercent,c=a.yPercent,u=a.x,h=a.y,d=a.rotation,f=a.skewX,p=a.skewY,g=a.scaleX,m=a.scaleY,v=a.target,_=a.xOrigin,y=a.yOrigin,w=a.xOffset,b=a.yOffset,T=a.forceCSS,C=parseFloat(u),E=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=wu,f*=wu,n=Math.cos(d)*g,r=Math.sin(d)*g,i=Math.sin(d-f)*-m,s=Math.cos(d-f)*m,f&&(p*=wu,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=el(n),r=el(r),i=el(i),s=el(s)):(n=g,s=m,r=i=0),(C&&!~(u+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(C=rh(v,"x",u,"px"),E=rh(v,"y",h,"px")),(_||y||w||b)&&(C=el(C+_-(_*n+y*i)+w),E=el(E+y-(_*r+y*s)+b)),(l||c)&&(o=v.getBBox(),C=el(C+l/100*o.width),E=el(E+c/100*o.height)),o="matrix("+n+","+r+","+i+","+s+","+C+","+E+")",v.setAttribute("transform",o),T&&(v.style[Uu]=o)},kh=function(e,t,n,r,i){var s,o,a=360,l=ga(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?yu:1)-r,u=r+c+"deg";return l&&("short"===(s=i.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===s&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===s&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),e._pt=o=new Xc(e._pt,t,n,r,c,xu),o.e=u,o.u="deg",e._props.push(n),o},Sh=function(e,t){for(var n in t)e[n]=t[n];return e},xh=function(e,t,n){var r,i,s,o,a,l,c,u=Sh({},n._gsap),h=n.style;for(i in u.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),h[Uu]=t,r=mh(n,1),Zu(n,Uu),n.setAttribute("transform",s)):(s=getComputedStyle(n)[Uu],h[Uu]=t,r=mh(n,1),h[Uu]=s),_u)(s=u[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=Fl(s)!==(c=Fl(o))?rh(n,i,s,c):parseFloat(s),l=parseFloat(o),e._pt=new Xc(e._pt,r,i,a,l-a,Su),e._pt.u=c||0,e._props.push(i));Sh(r,u)};Za("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",s="Left",o=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map((function(n){return t<2?e+n:"border"+n+e}));ch[t>1?"border"+e:e]=function(e,t,n,r,i){var s,a;if(arguments.length<4)return s=o.map((function(t){return ih(e,t,n)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(r+"").split(" "),a={},o.forEach((function(e,t){return a[e]=s[t]=s[t]||s[(t-1)/2|0]})),e.init(t,a,i)}}));var Ih={name:"css",register:Qu,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,o,a,l,c,u,h,d,f,p,g,m,v,_,y,w,b=this._props,T=e.style,C=n.vars.startAt;for(h in fu||Qu(),this.styles=this.styles||qu(e),w=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(o=t[h],!Ha[h]||!Rc(h,t,n,r,e,i)))if(c=typeof o,u=ch[h],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=Ql(o)),u)u(this,e,h,o,n)&&(y=1);else if("--"===h.substr(0,2))s=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",ac.lastIndex=0,ac.test(s)||(d=Fl(s),f=Fl(o)),f?d!==f&&(s=rh(e,h,s,f)+f):d&&(o+=d),this.add(T,"setProperty",s,o,r,i,0,0,h),b.push(h),w.push(h,0,T[h]);else if("undefined"!==c){if(C&&h in C?(s="function"===typeof C[h]?C[h].call(n,r,e,i):C[h],ga(s)&&~s.indexOf("random(")&&(s=Ql(s)),Fl(s+"")||"auto"===s||(s+=sa.units[h]||Fl(ih(e,h))||""),"="===(s+"").charAt(1)&&(s=ih(e,h))):s=ih(e,h),l=parseFloat(s),(p="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),h in ku&&("autoAlpha"===h&&(1===l&&"hidden"===ih(e,"visibility")&&a&&(l=0),w.push("visibility",0,T.visibility),eh(this,T,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=ku[h]).indexOf(",")&&(h=h.split(",")[0])),g=h in _u)if(this.styles.save(h),m||((v=e._gsap).renderTransform&&!t.parseTransform||mh(e,t.parseTransform),_=!1!==t.smoothOrigin&&v.smooth,(m=this._pt=new Xc(this._pt,T,Uu,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new Xc(this._pt,v,"scaleY",v.scaleY,(p?nl(v.scaleY,p+a):a)-v.scaleY||0,Su),this._pt.u=0,b.push("scaleY",h),h+="X";else{if("transformOrigin"===h){w.push(zu,0,T[zu]),o=ah(o),v.svg?gh(e,o,0,_,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&eh(this,v,"zOrigin",v.zOrigin,f),eh(this,T,h,vh(s),vh(o)));continue}if("svgOrigin"===h){gh(e,o,1,_,0,this);continue}if(h in hh){kh(this,v,h,l,p?nl(l,p+o):o);continue}if("smoothOrigin"===h){eh(this,v,"smooth",v.smooth,o);continue}if("force3D"===h){v[h]=o;continue}if("transform"===h){xh(this,o,e);continue}}else h in T||(h=Gu(h)||h);if(g||(a||0===a)&&(l||0===l)&&!Eu.test(o)&&h in T)a||(a=0),(d=(s+"").substr((l+"").length))!==(f=Fl(o)||(h in sa.units?sa.units[h]:d))&&(l=rh(e,h,s,f)),this._pt=new Xc(this._pt,g?v:T,h,l,(p?nl(l,p+a):a)-l,g||"px"!==f&&"zIndex"!==h||!1===t.autoRound?Su:Pu),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=Iu);else if(h in T)sh.call(this,e,h,s,p?p+o:o);else if(h in e)this.add(e,h,s||e[h],p?p+o:o,r,i);else if("parseTransform"!==h){Ma(h,o);continue}g||(h in T?w.push(h,0,T[h]):w.push(h,1,s||e[h])),b.push(h)}y&&Yc(this)},render:function(e,t){if(t.tween._time||!mu())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:ih,aliases:ku,getSetter:function(e,t,n){var r=ku[t];return r&&r.indexOf(",")<0&&(t=r),t in _u&&t!==zu&&(e._gsap.x||ih(e,"x"))?n&&gu===n?"scale"===t?Mu:Du:(gu=n||{})&&("scale"===t?Lu:Fu):e.style&&!_a(e.style[t])?Ou:~t.indexOf("-")?Au:jc(e,t)},core:{_removeProperty:Zu,_getMatrix:ph}};cu.utils.checkPrefix=Gu,cu.core.getStyleSaver=qu,function(e,t,n,r){var i=Za(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){_u[e]=1}));Za(t,(function(e){sa.units[e]="deg",hh[e]=1})),ku[i[13]]=e+","+t,Za("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");ku[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Za("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){sa.units[e]="px"})),cu.registerPlugin(Ih);var Ph=cu.registerPlugin(Ih)||cu;Ph.core.Tween;let Rh="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Nh=e=>e&&!Array.isArray(e)&&"object"===typeof e,Oh=[],Ah={},Dh=Ph;const Mh=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oh,r=Ah;Nh(e)?(r=e,e=null,n="dependencies"in r?r.dependencies:Oh):Nh(n)&&(r=n,n="dependencies"in r?r.dependencies:Oh),e&&"function"!==typeof e&&console.warn("First parameter must be a function or config object");const{scope:i,revertOnUpdate:s}=r,o=(0,t.useRef)(!1),a=(0,t.useRef)(Dh.context((()=>{}),i)),l=(0,t.useRef)((e=>a.current.add(null,e))),c=n&&n.length&&!s;return Rh((()=>{if(e&&a.current.add(e,i),!c||!o.current)return()=>a.current.revert()}),n),c&&Rh((()=>(o.current=!0,()=>a.current.revert())),Oh),{context:a.current,contextSafe:l.current}};function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lh.apply(this,arguments)}var Fh;Mh.register=e=>{Dh=e},Mh.headless=!0,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Fh||(Fh={}));const Uh="popstate";function zh(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Vh(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Hr){}}}function jh(e,t){return{usr:e.state,key:e.key,idx:t}}function Bh(e,t,n,r){return void 0===n&&(n=null),Lh({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Wh(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function qh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Wh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Hh(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Fh.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function h(){a=Fh.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:qh(e);return n=n.replace(/ $/,"%20"),zh(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(Lh({},o.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Uh,h),l=e,()=>{i.removeEventListener(Uh,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Fh.Push;let r=Bh(f.location,e,t);n&&n(r,e),c=u()+1;let h=jh(r,c),d=f.createHref(r);try{o.pushState(h,"",d)}catch(c_){if(c_ instanceof DOMException&&"DataCloneError"===c_.name)throw c_;i.location.assign(d)}s&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=Fh.Replace;let r=Bh(f.location,e,t);n&&n(r,e),c=u();let i=jh(r,c),h=f.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var Kh;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Kh||(Kh={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Gh(e,t,n){void 0===n&&(n="/");let r=ad(("string"===typeof t?Wh(t):t).pathname||"/",n);if(null==r)return null;let i=Qh(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=od(r);s=id(i[o],e)}return s}function Qh(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(zh(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=dd([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(zh(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),Qh(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:rd(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Yh(e.path))i(e,t,r);else i(e,t)})),t}function Yh(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=Yh(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const Xh=/^:[\w-]+$/,$h=3,Jh=2,Zh=1,ed=10,td=-2,nd=e=>"*"===e;function rd(e,t){let n=e.split("/"),r=n.length;return n.some(nd)&&(r+=td),t&&(r+=Jh),n.filter((e=>!nd(e))).reduce(((e,t)=>e+(Xh.test(t)?$h:""===t?Zh:ed)),r)}function id(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=sd({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:dd([i,c.pathname]),pathnameBase:fd(dd([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=dd([i,c.pathnameBase]))}return s}function sd(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Vh("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function od(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(c_){return Vh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+c_+")."),e}}function ad(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ld(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function cd(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ud(e,t){let n=cd(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function hd(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=Wh(e):(i=Lh({},e),zh(!i.pathname||!i.pathname.includes("?"),ld("?","pathname","search",i)),zh(!i.pathname||!i.pathname.includes("#"),ld("#","pathname","hash",i)),zh(!i.search||!i.search.includes("#"),ld("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?Wh(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:pd(r),hash:gd(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const dd=e=>e.join("/").replace(/\/\/+/g,"/"),fd=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pd=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",gd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function md(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const vd=["post","put","patch","delete"],_d=(new Set(vd),["get",...vd]);new Set(_d),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yd.apply(this,arguments)}const wd=t.createContext(null);const bd=t.createContext(null);const Td=t.createContext(null);const Cd=t.createContext(null);const Ed=t.createContext({outlet:null,matches:[],isDataRoute:!1});const kd=t.createContext(null);function Sd(){return null!=t.useContext(Cd)}function xd(){return Sd()||zh(!1),t.useContext(Cd).location}function Id(e){t.useContext(Td).static||t.useLayoutEffect(e)}function Pd(){let{isDataRoute:e}=t.useContext(Ed);return e?function(){let{router:e}=zd(Fd.UseNavigateStable),n=jd(Ud.UseNavigateStable),r=t.useRef(!1);Id((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,yd({fromRouteId:n},i)))}),[e,n]);return i}():function(){Sd()||zh(!1);let e=t.useContext(wd),{basename:n,future:r,navigator:i}=t.useContext(Td),{matches:s}=t.useContext(Ed),{pathname:o}=xd(),a=JSON.stringify(ud(s,r.v7_relativeSplatPath)),l=t.useRef(!1);return Id((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=hd(t,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:dd([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,a,o,e])}()}function Rd(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(Td),{matches:s}=t.useContext(Ed),{pathname:o}=xd(),a=JSON.stringify(ud(s,i.v7_relativeSplatPath));return t.useMemo((()=>hd(e,JSON.parse(a),o,"path"===r)),[e,a,o,r])}function Nd(e,n,r,i){Sd()||zh(!1);let{navigator:s}=t.useContext(Td),{matches:o}=t.useContext(Ed),a=o[o.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,h=xd();if(n){var d;let e="string"===typeof n?Wh(n):n;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||zh(!1),u=e}else u=h;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=Gh(e,{pathname:p});let m=Ld(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:dd([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:dd([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,i);return n&&m?t.createElement(Cd.Provider,{value:{location:yd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fh.Pop}},m):m}function Od(){let e=function(){var e;let n=t.useContext(kd),r=Vd(Ud.UseRouteError),i=jd(Ud.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=md(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const Ad=t.createElement(Od,null);class Dd extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Ed.Provider,{value:this.props.routeContext},t.createElement(kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Md(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(wd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Ed.Provider,{value:n},i)}function Ld(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}let a=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||zh(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,h=!1,d=null,f=null;var p;r&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||Ad,c&&(u<0&&0===s?(p="route-fallback",!1||Bd[p]||(Bd[p]=!0),h=!0,f=null):u===s&&(h=!0,f=i.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,s+1)),m=()=>{let n;return n=o?d:h?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Md,{match:i,routeContext:{outlet:e,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(Dd,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var Fd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Fd||{}),Ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ud||{});function zd(e){let n=t.useContext(wd);return n||zh(!1),n}function Vd(e){let n=t.useContext(bd);return n||zh(!1),n}function jd(e){let n=function(e){let n=t.useContext(Ed);return n||zh(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||zh(!1),r.route.id}const Bd={};r.startTransition;function qd(e){zh(!1)}function Wd(e){let{basename:n="/",children:r=null,location:i,navigationType:s=Fh.Pop,navigator:o,static:a=!1,future:l}=e;Sd()&&zh(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:o,static:a,future:yd({v7_relativeSplatPath:!1},l)})),[c,l,o,a]);"string"===typeof i&&(i=Wh(i));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=i,m=t.useMemo((()=>{let e=ad(h,c);return null==e?null:{location:{pathname:e,search:d,hash:f,state:p,key:g},navigationType:s}}),[c,h,d,f,p,g,s]);return null==m?null:t.createElement(Td.Provider,{value:u},t.createElement(Cd.Provider,{children:r,value:m}))}function Hd(e){let{children:t,location:n}=e;return Nd(Kd(t),n)}new Promise((()=>{}));t.Component;function Kd(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Kd(e.props.children,s));e.type!==qd&&zh(!1),e.props.index&&e.props.children&&zh(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Kd(e.props.children,s)),r.push(o)})),r}function Gd(e){return Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(e)}function Qd(e){var t=function(e,t){if("object"!=Gd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gd(t)?t:t+""}function Yd(e,t,n){return(t=Qd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xd(e,t,n){return Math.max(e,Math.min(t,n))}class $d{advance(e){var t;if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(r=this.value,i=this.to,s=60*this.lerp,o=e,function(e,t,n){return(1-n)*e+n*t}(r,i,1-Math.exp(-s*o))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const t=Xd(0,this.currentTime/this.duration,1);n=t>=1;const r=n?1:this.easing(t);this.value=this.from+(this.to-this.from)*r}var r,i,s,o;null!==(t=this.onUpdate)&&void 0!==t&&t.call(this,this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,t,n){let{lerp:r=.1,duration:i=1,easing:s=(e=>e),onStart:o,onUpdate:a}=n;this.from=this.value=e,this.to=t,this.lerp=r,this.duration=i,this.easing=s,this.currentTime=0,this.isRunning=!0,null!==o&&void 0!==o&&o(),this.onUpdate=a}}class Jd{constructor(){let{wrapper:e,content:t,autoResize:n=!0,debounce:r=250}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Yd(this,"resize",(()=>{this.onWrapperResize(),this.onContentResize()})),Yd(this,"onWrapperResize",(()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)})),Yd(this,"onContentResize",(()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)})),this.wrapper=e,this.content=t,n&&(this.debouncedResize=function(e,t){let n;return function(){let r=arguments,i=this;clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}}(this.resize,r),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;null!==(e=this.wrapperResizeObserver)&&void 0!==e&&e.disconnect(),null!==(t=this.contentResizeObserver)&&void 0!==t&&t.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class Zd{constructor(){this.events={}}emit(e){let t=this.events[e]||[];for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let s=0,o=t.length;s<o;s++)t[s](...r)}on(e,t){var n;return null!==(n=this.events[e])&&void 0!==n&&n.push(t)||(this.events[e]=[t]),()=>{var n;this.events[e]=null===(n=this.events[e])||void 0===n?void 0:n.filter((e=>t!==e))}}off(e,t){var n;this.events[e]=null===(n=this.events[e])||void 0===n?void 0:n.filter((e=>t!==e))}destroy(){this.events={}}}const ef=100/6;class tf{constructor(e,t){let{wheelMultiplier:n=1,touchMultiplier:r=1}=t;Yd(this,"onTouchStart",(e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})})),Yd(this,"onTouchMove",(e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,r=-(t-this.touchStart.x)*this.touchMultiplier,i=-(n-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:r,y:i},this.emitter.emit("scroll",{deltaX:r,deltaY:i,event:e})})),Yd(this,"onTouchEnd",(e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})})),Yd(this,"onWheel",(e=>{let{deltaX:t,deltaY:n,deltaMode:r}=e;t*=1===r?ef:2===r?this.windowWidth:1,n*=1===r?ef:2===r?this.windowHeight:1,t*=this.wheelMultiplier,n*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})})),Yd(this,"onWindowResize",(()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight})),this.element=e,this.wheelMultiplier=n,this.touchMultiplier=r,this.touchStart={x:null,y:null},this.emitter=new Zd,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class nf{constructor(){let{wrapper:e=window,content:t=document.documentElement,wheelEventsTarget:n=e,eventsTarget:r=n,smoothWheel:i=!0,syncTouch:s=!1,syncTouchLerp:o=.075,touchInertiaMultiplier:a=35,duration:l,easing:c=(e=>Math.min(1,1.001-Math.pow(2,-10*e))),lerp:u=!l&&.1,infinite:h=!1,orientation:d="vertical",gestureOrientation:f="vertical",touchMultiplier:p=1,wheelMultiplier:g=1,autoResize:m=!0,__experimental__naiveDimensions:v=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=e=>{let{deltaX:t,deltaY:n,event:r}=e;if(r.ctrlKey)return;const i=r.type.includes("touch"),s=r.type.includes("wheel");if(this.options.syncTouch&&i&&"touchstart"===r.type&&!this.isStopped&&!this.isLocked)return void this.reset();const o=0===t&&0===n,a="vertical"===this.options.gestureOrientation&&0===n||"horizontal"===this.options.gestureOrientation&&0===t;if(o||a)return;let l=r.composedPath();if(l=l.slice(0,l.indexOf(this.rootElement)),l.find((e=>{var t,n,r,o,a;return(null===(t=e.hasAttribute)||void 0===t?void 0:t.call(e,"data-lenis-prevent"))||i&&(null===(n=e.hasAttribute)||void 0===n?void 0:n.call(e,"data-lenis-prevent-touch"))||s&&(null===(r=e.hasAttribute)||void 0===r?void 0:r.call(e,"data-lenis-prevent-wheel"))||(null===(o=e.classList)||void 0===o?void 0:o.contains("lenis"))&&!(null===(a=e.classList)||void 0===a?void 0:a.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void r.preventDefault();if(this.isSmooth=this.options.syncTouch&&i||this.options.smoothWheel&&s,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();r.preventDefault();let c=n;"both"===this.options.gestureOrientation?c=Math.abs(n)>Math.abs(t)?n:t:"horizontal"===this.options.gestureOrientation&&(c=t);const u=i&&this.options.syncTouch,h=i&&"touchend"===r.type&&Math.abs(c)>5;h&&(c=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+c,Object.assign({programmatic:!1},u?{lerp:h?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-e),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,wheelEventsTarget:n,eventsTarget:r,smoothWheel:i,syncTouch:s,syncTouchLerp:o,touchInertiaMultiplier:a,duration:l,easing:c,lerp:u,infinite:h,gestureOrientation:f,orientation:d,touchMultiplier:p,wheelMultiplier:g,autoResize:m,__experimental__naiveDimensions:v},this.animate=new $d,this.emitter=new Zd,this.dimensions=new Jd({wrapper:e,content:t,autoResize:m}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=s||i,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new tf(r,{touchMultiplier:p,wheelMultiplier:g}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e){let{offset:t=0,immediate:n=!1,lock:r=!1,duration:i=this.options.duration,easing:s=this.options.easing,lerp:o=!i&&this.options.lerp,onComplete:a,force:l=!1,programmatic:c=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isStopped&&!this.isLocked||l){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let n;if("string"==typeof e?n=document.querySelector(e):(null==e?void 0:e.nodeType)&&(n=e),n){if(this.options.wrapper!==window){const e=this.options.wrapper.getBoundingClientRect();t-=this.isHorizontal?e.left:e.top}const r=n.getBoundingClientRect();e=(this.isHorizontal?r.left:r.top)+this.animatedScroll}}if("number"==typeof e){if(e+=t,e=Math.round(e),this.options.infinite?c&&(this.targetScroll=this.animatedScroll=this.scroll):e=Xd(0,e,this.limit),n)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(null==a||a(this));if(!c){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:i,easing:s,lerp:o,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(e,t)=>{this.isScrolling=!0,this.velocity=e-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=e,this.setScroll(this.scroll),c&&(this.targetScroll=e),t||this.emit(),t&&(this.reset(),this.emit(),null==a||a(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(this.animatedScroll%(e=this.limit)+e)%e:this.animatedScroll;var e}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,t){this.rootElement.classList.toggle(e,t),this.emitter.emit("className change",this)}}const rf=n.p+"static/media/logo-bat.6798a7ddcbf8ef3b5e26.png",sf={o1:{src:"/imgs/29.08.2022.png",alt:"Dessert study",details:"Digital art, 2021"},o2:{src:"/imgs/dreamWithSign.png",alt:'Fanart of "Dream"',details:"Digital art, 2021"},o16:{src:"/imgs/__icy_lady.JPEG",alt:"Icy Lady",details:"Oil on Canvas, 2024"},o3:{src:"/imgs/dreamyBird.png",alt:"Dreamy Bird",details:"Digital art, 2021"},o18:{src:"/imgs/_salt_waves_melody.JPEG",alt:"Salt waves melody",details:"Oil on Canvas, 2024"},o4:{src:"/imgs/Entrance.jpg",alt:"Entrance",details:"Digital art, 2021"},o6:{src:"/imgs/fireBeguinWithSign.png",alt:"Fire Begin",details:"Digital art, 2021"},o19:{src:"/imgs/flowers_under_water.JPEG",alt:"Flowers under water",details:"Oil on Canvas, 2024"},o7:{src:"/imgs/keqing_jpeg.jpg",alt:'Fanart "Keqing"',details:"Digital art, 2021"},o17:{src:"/imgs/__take_a_flight.JPEG",alt:"Take a flight",details:"Oil on Canvas, 2024"},o8:{src:"/imgs/shineWithSign.png",alt:"Shine",details:"Digital art, 2021"},o9:{src:"/imgs/sirenWithSign.png",alt:"Siren",details:"Digital art, 2021"},o10:{src:"/imgs/skatchesF3P.png",alt:"Fire spirit flowers in ghostly woods",details:"Digital art, 2021"},o11:{src:"/imgs/skatchesFS2.png",alt:"Crystal flowers in the hidden cave",details:"Digital art, 2021"},o15:{src:"/imgs/__green_rich_still_life.JPEG",alt:"Green rich still life",details:"Oil on Canvas, 2024"},o12:{src:"/imgs/skatchesFWC.png",alt:"Cloud flowers in the sunset",details:"Digital art, 2021"},o13:{src:"/imgs/villaHome_withWaterCurtainBoth.png",alt:"Villa Home",details:"Digital art, 2021"},o14:{src:"/imgs/yae_withSign.png",alt:'Fanart "Yae Miko"',details:"Digital art, 2022"}};var of=n(579);const af=()=>(0,of.jsxs)("div",{children:[(0,of.jsx)("div",{class:"parallax",children:(0,of.jsx)("div",{className:"title-container",children:(0,of.jsx)("div",{className:"title",children:(0,of.jsx)("p",{children:"\u0413\u0430\u043b\u0435\u0440\u0435\u044f \u041d\u0430\u043f\u0440\u0430\u0446\u044e\u0432\u0430\u043d\u044c"})})})}),(0,of.jsxs)("div",{className:"header-container",children:[(0,of.jsx)("div",{className:"text-container left",children:(0,of.jsx)("div",{className:"text-paragraph left",children:(0,of.jsx)("p",{children:" \u041f\u0440\u0430\u0446\u044e\u044e \u0437 \u043e\u043b\u0456\u0439\u043d\u0438\u043c \u0442\u0430 \u0446\u0438\u0444\u0440\u043e\u0432\u0438\u043c \u0436\u0438\u0432\u043e\u043f\u0438\u0441\u043e\u043c. \u041c\u0456\u0439 \u0441\u0442\u0438\u043b\u044c \u043f\u043e\u0454\u0434\u043d\u0443\u0454 \u0435\u043b\u0435\u043c\u0435\u043d\u0442\u0438 \u0456\u043c\u043f\u0440\u0435\u0441\u0456\u043e\u043d\u0456\u0437\u043c\u0443 \u0442\u0430 \u0440\u0435\u0430\u043b\u0456\u0437\u043c\u0443, \u0437 \u0430\u043a\u0446\u0435\u043d\u0442\u043e\u043c \u043d\u0430 \u0432\u043f\u0456\u0437\u043d\u0430\u0432\u0430\u043d\u0456\u0441\u0442\u044c \u0456 \u044f\u0441\u043a\u0440\u0430\u0432\u0456\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0437\u0456\u0432 \u0443 \u043c\u0440\u0456\u0439\u043b\u0438\u0432\u0456\u0439 \u0430\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u0456."})})}),(0,of.jsx)("div",{className:"image-container",children:(0,of.jsx)("div",{className:"logo-bat",children:(0,of.jsx)("img",{src:rf,alt:""})})}),(0,of.jsx)("div",{className:"text-container right",children:(0,of.jsx)("div",{className:"text-paragraph right",children:(0,of.jsx)("p",{children:"\u0423 \u0441\u0432\u043e\u0457\u0439 \u0446\u0438\u0444\u0440\u043e\u0432\u0456\u0439 \u0440\u043e\u0431\u043e\u0442\u0456 \u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e Clip Studio Paint, \u043f\u043e\u0454\u0434\u043d\u0443\u044e\u0447\u0438 \u0442\u0440\u0430\u0434\u0438\u0446\u0456\u0439\u043d\u0456 \u0442\u0435\u0445\u043d\u0456\u043a\u0438 \u0437 \u0441\u0443\u0447\u0430\u0441\u043d\u0438\u043c\u0438 \u2014 \u0456 \u043d\u0430\u0432\u043f\u0430\u043a\u0438. \u0412\u0456\u0440\u044e, \u0449\u043e \u043a\u043e\u0436\u043d\u0430 \u0442\u0435\u0445\u043d\u0456\u043a\u0430 \u0437\u0431\u0430\u0433\u0430\u0447\u0443\u0454 \u0456\u043d\u0448\u0443 \u0442\u0430 \u0432\u0456\u0434\u043a\u0440\u0438\u0432\u0430\u0454 \u043d\u043e\u0432\u0456 \u0442\u0432\u043e\u0440\u0447\u0456 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456."})})})]}),(0,of.jsx)("div",{class:"about-site-text-container",children:(0,of.jsx)("p",{class:"text-paragraph text-center",children:"\u041b\u0430\u0441\u043a\u0430\u0432\u043e \u043f\u0440\u043e\u0441\u0438\u043c\u043e \u0434\u043e \u0413\u0430\u043b\u0435\u0440\u0435\u0457! \u0422\u0443\u0442 \u0432\u0438 \u0437\u043d\u0430\u0439\u0434\u0435\u0442\u0435 \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u043d\u0456 \u0440\u043e\u0431\u043e\u0442\u0438 \u0432 \u0440\u0456\u0437\u043d\u0438\u0445 \u0442\u0435\u0445\u043d\u0456\u043a\u0430\u0445, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0457, \u044f\u043a\u0456 \u043c\u043e\u0436\u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u044f\u043a \u0440\u0435\u0444\u0435\u0440\u0435\u043d\u0441\u0438 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043c\u0438\u0441\u0442\u0435\u0446\u0442\u0432\u0430."})}),(0,of.jsx)("div",{class:"parallax",children:(0,of.jsxs)("div",{class:"works-text-container",children:[(0,of.jsx)("p",{class:"text-paragraph text-center small-header works",children:"\u0420\u043e\u0431\u043e\u0442\u0438"}),(0,of.jsx)("p",{class:"text-paragraph text-center works",children:"\u041e\u043b\u0456\u044f & \u0426\u0438\u0444\u0440\u043e\u0432\u0438\u0439 \u0436\u0438\u0432\u043e\u043f\u0438\u0441"})]})}),(0,of.jsx)("div",{class:"colored-box",children:(0,of.jsx)("div",{class:"work-images-container",children:Object.entries(sf).map((e=>{let[t,{src:n,alt:r,details:i}]=e;return(0,of.jsxs)("div",{class:"box",children:[(0,of.jsx)("img",{src:n,alt:r}),(0,of.jsxs)("div",{className:"image-overlay",children:[(0,of.jsx)("h3",{children:r}),(0,of.jsx)("p",{children:i})]})]})}))})})]}),lf=()=>(0,of.jsx)(of.Fragment,{children:(0,of.jsx)(af,{})}),cf=!1,uf=!1,hf="${JSCORE_VERSION}",df=function(e,t){if(!e)throw ff(t)},ff=function(e){return new Error("Firebase Database ("+hf+") INTERNAL ASSERT FAILED: "+e)},pf=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},gf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new mf;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mf extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vf=function(e){const t=pf(e);return gf.encodeByteArray(t,!0)},_f=function(e){return vf(e).replace(/\./g,"")},yf=function(e){try{return gf.decodeString(e,!0)}catch(Hr){console.error("base64Decode failed: ",Hr)}return null};function wf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=wf(e[n],t[n]));return e}const bf=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Tf=()=>{try{return bf()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Hr){return}const t=e&&yf(e[1]);return t&&JSON.parse(t)})()}catch(Hr){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Hr))}},Cf=e=>{var t,n;return null===(n=null===(t=Tf())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ef=e=>{const t=Cf(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},kf=()=>{var e;return null===(e=Tf())||void 0===e?void 0:e.config},Sf=e=>{var t;return null===(t=Tf())||void 0===t?void 0:t["_".concat(e)]};class xf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function If(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_f(JSON.stringify({alg:"none",type:"JWT"})),_f(JSON.stringify(s)),""].join(".")}function Pf(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Rf(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pf())}function Nf(){return"object"===typeof self&&self.self===self}function Of(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Af(){return!0===cf||!0===uf}function Df(){return!function(){var e;const t=null===(e=Tf())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Hr){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mf(){try{return"object"===typeof indexedDB}catch(Hr){return!1}}class Lf extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Lf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ff.prototype.create)}}class Ff{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Uf,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Lf(n,s,t)}}const Uf=/\{\$([^}]+)}/g;function zf(e){return JSON.parse(e)}function Vf(e){return JSON.stringify(e)}const jf=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=zf(yf(s[0])||""),n=zf(yf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(Hr){}return{header:t,claims:n,data:r,signature:i}};function Bf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qf(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Wf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hf(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Kf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Gf(n)&&Gf(s)){if(!Kf(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gf(e){return null!==e&&"object"===typeof e}function Qf(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Yf(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Xf(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class $f{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Jf(e,t){const n=new Zf(e,t);return n.subscribe.bind(n)}class Zf{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ep),void 0===r.error&&(r.error=ep),void 0===r.complete&&(r.complete=ep);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Hr){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Hr){"undefined"!==typeof console&&console.error&&console.error(Hr)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ep(){}const tp=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};function np(e,t){return"".concat(e," failed: ").concat(t," argument ")}function rp(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(np(e,t)+"must be a valid function.")}function ip(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(np(e,t)+"must be a valid context object.")}const sp=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function op(e){return e&&e._delegate?e._delegate:e}class ap{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lp="[DEFAULT]";class cp{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new xf;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Hr){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Hr){if(r)return null;throw Hr}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lp})}catch(Hr){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Hr){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lp;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lp;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lp;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===lp?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lp;return this.component?this.component.multipleInstances?e:lp:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class up{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const hp=[];var dp;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(dp||(dp={}));const fp={debug:dp.DEBUG,verbose:dp.VERBOSE,info:dp.INFO,warn:dp.WARN,error:dp.ERROR,silent:dp.SILENT},pp=dp.INFO,gp={[dp.DEBUG]:"log",[dp.VERBOSE]:"log",[dp.INFO]:"info",[dp.WARN]:"warn",[dp.ERROR]:"error"},mp=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=gp[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class vp{constructor(e){this.name=e,this._logLevel=pp,this._logHandler=mp,this._userLogHandler=null,hp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dp))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?fp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dp.DEBUG,...t),this._logHandler(this,dp.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dp.VERBOSE,...t),this._logHandler(this,dp.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dp.INFO,...t),this._logHandler(this,dp.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dp.WARN,...t),this._logHandler(this,dp.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dp.ERROR,...t),this._logHandler(this,dp.ERROR,...t)}}const _p=(e,t)=>t.some((t=>e instanceof t));let yp,wp;const bp=new WeakMap,Tp=new WeakMap,Cp=new WeakMap,Ep=new WeakMap,kp=new WeakMap;let Sp={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Tp.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Cp.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pp(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(wp||(wp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rp(this),n),Pp(bp.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pp(e.apply(Rp(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Rp(this),t,...r);return Cp.set(s,t.sort?t.sort():[t]),Pp(s)}}function Ip(e){return"function"===typeof e?xp(e):(e instanceof IDBTransaction&&function(e){if(Tp.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Tp.set(e,t)}(e),_p(e,yp||(yp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Sp):e)}function Pp(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Pp(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&bp.set(t,e)})).catch((()=>{})),kp.set(t,e),t}(e);if(Ep.has(e))return Ep.get(e);const t=Ip(e);return t!==e&&(Ep.set(e,t),kp.set(t,e)),t}const Rp=e=>kp.get(e);const Np=["get","getKey","getAll","getAllKeys","count"],Op=["put","add","delete","clear"],Ap=new Map;function Dp(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ap.get(t))return Ap.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Op.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Np.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Ap.set(t,s),s}Sp=(e=>({...e,get:(t,n,r)=>Dp(t,n)||e.get(t,n,r),has:(t,n)=>!!Dp(t,n)||e.has(t,n)}))(Sp);class Mp{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Lp="@firebase/app",Fp="0.10.5",Up=new vp("@firebase/app"),zp="@firebase/app-compat",Vp="@firebase/analytics-compat",jp="@firebase/analytics",Bp="@firebase/app-check-compat",qp="@firebase/app-check",Wp="@firebase/auth",Hp="@firebase/auth-compat",Kp="@firebase/database",Gp="@firebase/database-compat",Qp="@firebase/functions",Yp="@firebase/functions-compat",Xp="@firebase/installations",$p="@firebase/installations-compat",Jp="@firebase/messaging",Zp="@firebase/messaging-compat",eg="@firebase/performance",tg="@firebase/performance-compat",ng="@firebase/remote-config",rg="@firebase/remote-config-compat",ig="@firebase/storage",sg="@firebase/storage-compat",og="@firebase/firestore",ag="@firebase/vertexai-preview",lg="@firebase/firestore-compat",cg="firebase",ug="[DEFAULT]",hg={[Lp]:"fire-core",[zp]:"fire-core-compat",[jp]:"fire-analytics",[Vp]:"fire-analytics-compat",[qp]:"fire-app-check",[Bp]:"fire-app-check-compat",[Wp]:"fire-auth",[Hp]:"fire-auth-compat",[Kp]:"fire-rtdb",[Gp]:"fire-rtdb-compat",[Qp]:"fire-fn",[Yp]:"fire-fn-compat",[Xp]:"fire-iid",[$p]:"fire-iid-compat",[Jp]:"fire-fcm",[Zp]:"fire-fcm-compat",[eg]:"fire-perf",[tg]:"fire-perf-compat",[ng]:"fire-rc",[rg]:"fire-rc-compat",[ig]:"fire-gcs",[sg]:"fire-gcs-compat",[og]:"fire-fst",[lg]:"fire-fst-compat",[ag]:"fire-vertex","fire-js":"fire-js",[cg]:"fire-js-all"},dg=new Map,fg=new Map,pg=new Map;function gg(e,t){try{e.container.addComponent(t)}catch(Hr){Up.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Hr)}}function mg(e,t){e.container.addOrOverwriteComponent(t)}function vg(e){const t=e.name;if(pg.has(t))return Up.debug("There were multiple attempts to register component ".concat(t,".")),!1;pg.set(t,e);for(const n of dg.values())gg(n,e);for(const n of fg.values())gg(n,e);return!0}function _g(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function yg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ug;_g(e,t).clearInstance(n)}function wg(e){return void 0!==e.options}function bg(e){return void 0!==e.settings}function Tg(){pg.clear()}const Cg=new Ff("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Eg{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ap("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cg.create("app-deleted",{appName:this._name})}}class kg extends Eg{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Og(Lp,Fp,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ng(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Cg.create("server-app-deleted")}}const Sg="10.12.2";function xg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ug,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Cg.create("bad-app-name",{appName:String(i)});if(n||(n=kf()),!n)throw Cg.create("no-options");const s=dg.get(i);if(s){if(Kf(n,s.options)&&Kf(r,s.config))return s;throw Cg.create("duplicate-app",{appName:i})}const o=new up(i);for(const l of pg.values())o.addComponent(l);const a=new Eg(n,r,o);return dg.set(i,a),a}function Ig(e,t){if(Nf())throw Cg.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=wg(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Cg.create("finalization-registry-not-supported",{});const i=""+(e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0))(JSON.stringify(r)),s=fg.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const o=new up(i);for(const l of pg.values())o.addComponent(l);const a=new kg(n,t,i,o);return fg.set(i,a),a}function Pg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ug;const t=dg.get(e);if(!t&&e===ug&&kf())return xg();if(!t)throw Cg.create("no-app",{appName:e});return t}function Rg(){return Array.from(dg.values())}async function Ng(e){let t=!1;const n=e.name;if(dg.has(n))t=!0,dg.delete(n);else if(fg.has(n)){e.decRefCount()<=0&&(fg.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Og(e,t,n){var r;let i=null!==(r=hg[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Up.warn(e.join(" "))}vg(new ap("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Ag(e,t){if(null!==e&&"function"!==typeof e)throw Cg.create("invalid-log-argument");!function(e,t){for(const n of hp){let r=null;t&&t.level&&(r=fp[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:dp[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Dg(e){var t;t=e,hp.forEach((e=>{e.setLogLevel(t)}))}const Mg="firebase-heartbeat-database",Lg=1,Fg="firebase-heartbeat-store";let Ug=null;function zg(){return Ug||(Ug=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Pp(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Pp(o.result),e.oldVersion,e.newVersion,Pp(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Mg,Lg,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Fg)}catch(Hr){console.warn(Hr)}}}).catch((e=>{throw Cg.create("idb-open",{originalErrorMessage:e.message})}))),Ug}async function Vg(e,t){try{const n=(await zg()).transaction(Fg,"readwrite"),r=n.objectStore(Fg);await r.put(t,jg(e)),await n.done}catch(Hr){if(Hr instanceof Lf)Up.warn(Hr.message);else{const t=Cg.create("idb-set",{originalErrorMessage:null===Hr||void 0===Hr?void 0:Hr.message});Up.warn(t.message)}}}function jg(e){return"".concat(e.name,"!").concat(e.options.appId)}class Bg{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Wg(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qg();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=qg(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Hg(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hg(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=_f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function qg(){return(new Date).toISOString().substring(0,10)}class Wg{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Mf()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(c_){t(c_)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await zg()).transaction(Fg),n=await t.objectStore(Fg).get(jg(e));return await t.done,n}catch(Hr){if(Hr instanceof Lf)Up.warn(Hr.message);else{const t=Cg.create("idb-get",{originalErrorMessage:null===Hr||void 0===Hr?void 0:Hr.message});Up.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Vg(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Vg(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Hg(e){return _f(JSON.stringify({version:2,heartbeats:e})).length}var Kg;Kg="",vg(new ap("platform-logger",(e=>new Mp(e)),"PRIVATE")),vg(new ap("heartbeat",(e=>new Bg(e)),"PRIVATE")),Og(Lp,Fp,Kg),Og(Lp,Fp,"esm2017"),Og("fire-js","");class Gg{constructor(e,t){this._delegate=e,this.firebase=t,gg(e,new ap("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ng(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ug;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ug;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){gg(this._delegate,e)}_addOrOverwriteComponent(e){mg(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Qg=new Ff("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Yg=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=xg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Bf(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Og,setLogLevel:Dg,onLog:Ag,apps:null,SDK_VERSION:Sg,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(vg(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Qg.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&wf(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Bf(n,e=e||ug))throw Qg.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Gg);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){wf(n,e)},createSubscribe:Jf,ErrorFactory:Ff,deepExtend:wf}),n}(),Xg=new vp("@firebase/app-compat");if(Nf()&&void 0!==self.firebase){Xg.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Xg.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $g=Yg;!function(e){Og("@firebase/app-compat","0.2.35",e)}();$g.registerVersion("firebase","10.12.2","app-compat");const Jg="firebasestorage.googleapis.com",Zg="storageBucket";class em extends Lf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(rm(e),"Firebase Storage: ".concat(t," (").concat(rm(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,em.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var tm,nm;function rm(e){return"storage/"+e}function im(){return new em(tm.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sm(){return new em(tm.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function om(){return new em(tm.CANCELED,"User canceled the upload/download.")}function am(){return new em(tm.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lm(e){return new em(tm.INVALID_ARGUMENT,e)}function cm(){return new em(tm.APP_DELETED,"The Firebase app was deleted.")}function um(e){return new em(tm.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hm(e,t){return new em(tm.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function dm(e){throw new em(tm.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(tm||(tm={}));class fm{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=fm.makeFromUrl(e,t)}catch(Hr){return new fm(e,"")}if(""===n.path)return n;throw r=e,new em(tm.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Jg?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new fm(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new em(tm.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class pm{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function gm(e){return"string"===typeof e||e instanceof String}function mm(e){return vm()&&e instanceof Blob}function vm(){return"undefined"!==typeof Blob}function _m(e,t,n,r){if(r<t)throw lm("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw lm("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function ym(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function wm(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function bm(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(nm||(nm={}));class Tm{constructor(e,t,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Cm(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===nm.NO_ERROR,i=n.getStatus();if(!t||bm(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===nm.ABORT;return void e(!1,new Cm(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new Cm(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Hr){r(Hr)}else if(null!==i){const e=im();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?cm():om())}else{r(sm())}};this.canceled_?t(0,new Cm(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function g(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,g(!0)}),n),g}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Cm{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Em(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function km(){const e=Em();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(vm())return new Blob(n);throw new em(tm.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Sm(e){if("undefined"===typeof atob)throw t="base-64",new em(tm.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const xm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Im{constructor(e,t){this.data=e,this.contentType=t||null}}function Pm(e,t){switch(e){case xm.RAW:return new Im(Rm(t));case xm.BASE64:case xm.BASE64URL:return new Im(Nm(e,t));case xm.DATA_URL:return new Im(function(e){const t=new Om(e);return t.base64?Nm(xm.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Hr){throw hm(xm.DATA_URL,"Malformed data URL.")}return Rm(t)}(t.rest)}(t),new Om(t).contentType)}throw im()}function Rm(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Nm(e,t){switch(e){case xm.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw hm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case xm.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw hm(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Sm(t)}catch(Hr){if(Hr.message.includes("polyfill"))throw Hr;throw hm(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Om{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw hm(xm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Am{constructor(e,t){let n=0,r="";mm(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(mm(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Am(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Am(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(vm()){const e=t.map((e=>e instanceof Am?e.data_:e));return new Am(km.apply(null,e))}{const e=t.map((e=>gm(e)?Pm(xm.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Am(r,!0)}}uploadData(){return this.data_}}function Dm(e){let t;try{t=JSON.parse(e)}catch(Hr){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Mm(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Lm(e,t){return t}class Fm{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Lm}}let Um=null;function zm(){if(Um)return Um;const e=[];e.push(new Fm("bucket")),e.push(new Fm("generation")),e.push(new Fm("metageneration")),e.push(new Fm("name","fullPath",!0));const t=new Fm("name");t.xform=function(e,t){return function(e){return!gm(e)||e.length<2?e:Mm(e)}(t)},e.push(t);const n=new Fm("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Fm("timeCreated")),e.push(new Fm("updated")),e.push(new Fm("md5Hash",null,!0)),e.push(new Fm("cacheControl",null,!0)),e.push(new Fm("contentDisposition",null,!0)),e.push(new Fm("contentEncoding",null,!0)),e.push(new Fm("contentLanguage",null,!0)),e.push(new Fm("contentType",null,!0)),e.push(new Fm("metadata","customMetadata",!0)),Um=e,Um}function Vm(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new fm(n,r);return t._makeStorageReference(i)}})}(r,e),r}function jm(e,t,n){const r=Dm(t);if(null===r)return null;return Vm(e,r,n)}function Bm(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const qm="prefixes",Wm="items";function Hm(e,t,n){const r=Dm(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[qm])for(const i of n[qm]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new fm(t,n));r.prefixes.push(s)}if(n[Wm])for(const i of n[Wm]){const n=e._makeStorageReference(new fm(t,i.name));r.items.push(n)}return r}(e,t,r)}class Km{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Gm(e){if(!e)throw im()}function Qm(e,t){return function(n,r){const i=jm(e,r,t);return Gm(null!==i),i}}function Ym(e,t){return function(n,r){const i=jm(e,r,t);return Gm(null!==i),function(e,t,n,r){const i=Dm(t);if(null===i)return null;if(!gm(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return ym("/b/"+o(i)+"/o/"+o(s),n,r)+wm({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Xm(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new em(tm.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new em(tm.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new em(tm.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new em(tm.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function $m(e){const t=Xm(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new em(tm.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Jm(e,t,n){const r=ym(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Km(r,"GET",Qm(e,n),i);return s.errorHandler=$m(t),s}function Zm(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=ym(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new Km(o,"GET",function(e,t){return function(n,r){const i=Hm(e,t,r);return Gm(null!==i),i}}(e,t.bucket),a);return l.urlParams=s,l.errorHandler=Xm(t),l}function ev(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function tv(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=ev(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Bm(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Am.getBlob(c,r,u);if(null===h)throw am();const d={name:l.fullPath},f=ym(s,e.host,e._protocol),p=e.maxUploadRetryTime,g=new Km(f,"POST",Qm(e,n),p);return g.urlParams=d,g.headers=o,g.body=h.uploadData(),g.errorHandler=Xm(t),g}class nv{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function rv(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Hr){Gm(!1)}return Gm(!!n&&-1!==(t||["active"]).indexOf(n)),n}const iv=262144;function sv(e,t,n,r,i,s,o,a){const l=new nv(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new em(tm.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},g=r.slice(h,d);if(null===g)throw am();const m=t.maxUploadRetryTime,v=new Km(n,"POST",(function(e,n){const i=rv(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?Qm(t,s)(e,n):null,new nv(o,a,"final"===i,c)}),m);return v.headers=p,v.body=g.uploadData(),v.progressCallback=a||null,v.errorHandler=Xm(e),v}const ov={STATE_CHANGED:"state_changed"},av={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function lv(e){switch(e){case"running":case"pausing":case"canceling":return av.RUNNING;case"paused":return av.PAUSED;case"success":return av.SUCCESS;case"canceled":return av.CANCELED;default:return av.ERROR}}class cv{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function uv(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let hv=null;class dv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nm.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=nm.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=nm.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw dm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Hr){return-1}}getResponse(){if(!this.sent_)throw dm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class fv extends dv{initXhr(){this.xhr_.responseType="text"}}function pv(){return hv?hv():new fv}class gv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=zm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(tm.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(bm(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=sm()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(tm.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=ev(t,r,i),a={name:o.fullPath},l=ym(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Bm(o,n),h=e.maxUploadRetryTime,d=new Km(l,"POST",(function(e){let t;rv(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Hr){Gm(!1)}return Gm(gm(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=Xm(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,pv,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new Km(n,"POST",(function(e){const t=rv(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Hr){Gm(!1)}n||Gm(!1);const i=Number(n);return Gm(!isNaN(i)),new nv(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Xm(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,pv,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=iv*this._chunkMultiplier,t=new nv(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=sv(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(Hr){return this._error=Hr,void this._transition("error")}const o=this._ref.storage._makeRequest(s,pv,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(iv*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Jm(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,pv,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=tv(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,pv,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=om(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=lv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new cv(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(lv(this._state)){case av.SUCCESS:uv(this._resolve.bind(null,this.snapshot))();break;case av.CANCELED:case av.ERROR:uv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(lv(this._state)){case av.RUNNING:case av.PAUSED:e.next&&uv(e.next.bind(e,this.snapshot))();break;case av.SUCCESS:e.complete&&uv(e.complete.bind(e))();break;default:e.error&&uv(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class mv{constructor(e,t){this._service=e,this._location=t instanceof fm?t:fm.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new mv(e,t)}get root(){const e=new fm(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mm(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new fm(this._location.bucket,e);return new mv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw um(e)}}function vv(e,t,n){e._throwIfRoot("uploadBytes");const r=tv(e.storage,e._location,zm(),new Am(t,!0),n);return e.storage.makeRequestWithTokens(r,pv).then((t=>({metadata:t,ref:e})))}function _v(e){const t={prefixes:[],items:[]};return yv(e,t).then((()=>t))}async function yv(e,t,n){const r={pageToken:n},i=await wv(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await yv(e,t,i.nextPageToken)}function wv(e,t){null!=t&&"number"===typeof t.maxResults&&_m("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Zm(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,pv)}function bv(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=ym(t.fullServerUrl(),e.host,e._protocol),s=Bm(n,r),o=e.maxOperationRetryTime,a=new Km(i,"PATCH",Qm(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=$m(t),a}(e.storage,e._location,t,zm());return e.storage.makeRequestWithTokens(n,pv)}function Tv(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=ym(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Km(r,"GET",Ym(e,n),i);return s.errorHandler=$m(t),s}(e.storage,e._location,zm());return e.storage.makeRequestWithTokens(t,pv).then((e=>{if(null===e)throw new em(tm.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Cv(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=ym(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Km(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=$m(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,pv)}function Ev(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new fm(e._location.bucket,n);return new mv(e.storage,r)}function kv(e,t){if(e instanceof Iv){const n=e;if(null==n._bucket)throw new em(tm.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zg+"' property when initializing the app?");const r=new mv(n,n._bucket);return null!=t?kv(r,t):r}return void 0!==t?Ev(e,t):e}function Sv(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Iv)return new mv(e,t);throw lm("To use ref(service, url), the first argument must be a Storage instance.")}return kv(e,t)}function xv(e,t){const n=null===t||void 0===t?void 0:t[Zg];return null==n?null:fm.makeFromBucketSpec(n,e)}class Iv{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Jg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?fm.makeFromBucketSpec(r,this._host):xv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=fm.makeFromBucketSpec(this._url,e):this._bucket=xv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_m("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_m("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mv(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new pm(cm());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=wm(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Tm(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Pv="@firebase/storage",Rv="0.12.5",Nv="storage";function Ov(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new gv(e,new Am(t),n)}(e=op(e),t,n)}function Av(e){return function(e){e._throwIfRoot("getMetadata");const t=Jm(e.storage,e._location,zm());return e.storage.makeRequestWithTokens(t,pv)}(e=op(e))}function Dv(e){return Tv(e=op(e))}function Mv(e,t){return Sv(e=op(e),t)}function Lv(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:If(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Fv(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Iv(r,i,s,n,Sg)}vg(new ap(Nv,Fv,"PUBLIC").setMultipleInstances(!0)),Og(Pv,Rv,""),Og(Pv,Rv,"esm2017");class Uv{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class zv{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Uv(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Uv(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Uv(e,this,this._ref)):{next:t.next?e=>t.next(new Uv(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Vv{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new jv(e,this._service)))}get items(){return this._delegate.items.map((e=>new jv(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class jv{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return Ev(e,t)}(this._delegate,e);return new jv(t,this.storage)}get root(){return new jv(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new jv(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new zv(Ov(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xm.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=Pm(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new zv(new gv(this._delegate,new Am(r.data,!0),i),this)}listAll(){return function(e){return _v(e=op(e))}(this._delegate).then((e=>new Vv(e,this.storage)))}list(e){return function(e,t){return wv(e=op(e),t)}(this._delegate,e||void 0).then((e=>new Vv(e,this.storage)))}getMetadata(){return Av(this._delegate)}updateMetadata(e){return function(e,t){return bv(e=op(e),t)}(this._delegate,e)}getDownloadURL(){return Dv(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return Cv(e=op(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw um(e)}}class Bv{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(qv(e))throw lm("ref() expected a child path but got a URL, use refFromURL instead.");return new jv(Mv(this._delegate,e),this)}refFromURL(e){if(!qv(e))throw lm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fm.makeFromUrl(e,this._delegate.host)}catch(Hr){throw lm("refFromUrl() expected a valid full URL but got an invalid one.")}return new jv(Mv(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Lv(this._delegate,e,t,n)}}function qv(e){return/^[A-Za-z]+:\/\//.test(e)}function Wv(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Bv(r,i)}!function(e){const t={TaskState:av,TaskEvent:ov,StringFormat:xm,Storage:Bv,Reference:jv};e.INTERNAL.registerComponent(new ap("storage-compat",Wv,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.8")}($g);const Hv="@firebase/database",Kv="1.0.5";let Gv="";function Qv(e){Gv=e}class Yv{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vf(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:zf(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Xv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Bf(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $v=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Yv(t)}}catch(Hr){}return new Xv},Jv=$v("localStorage"),Zv=$v("sessionStorage"),e_=new vp("@firebase/database"),t_=function(){let e=1;return function(){return e++}}(),n_=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,df(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new $f;n.update(t);const r=n.digest();return gf.encodeByteArray(r)},r_=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=r_.apply(null,n):e+="object"===typeof n?Vf(n):n,e+=" "}return e};let i_=null,s_=!0;const o_=function(e,t){df(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(e_.logLevel=dp.VERBOSE,i_=e_.log.bind(e_),t&&Zv.set("logging_enabled",!0)):"function"===typeof e?i_=e:(i_=null,Zv.remove("logging_enabled"))},a_=function(){if(!0===s_&&(s_=!1,null===i_&&!0===Zv.get("logging_enabled")&&o_(!0)),i_){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=r_.apply(null,t);i_(r)}},l_=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a_(e,...n)}},c_=function(){const e="FIREBASE INTERNAL ERROR: "+r_(...arguments);e_.error(e)},u_=function(){const e="FIREBASE FATAL ERROR: ".concat(r_(...arguments));throw e_.error(e),new Error(e)},h_=function(){const e="FIREBASE WARNING: "+r_(...arguments);e_.warn(e)},d_=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},f_="[MIN_NAME]",p_="[MAX_NAME]",g_=function(e,t){if(e===t)return 0;if(e===f_||t===p_)return-1;if(t===f_||e===p_)return 1;{const n=C_(e),r=C_(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},m_=function(e,t){return e===t?0:e<t?-1:1},v_=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Vf(t))},__=function(e){if("object"!==typeof e||null===e)return Vf(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Vf(t[r]),n+=":",n+=__(e[t[r]]);return n+="}",n},y_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function w_(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const b_=function(e){df(!d_(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const T_=new RegExp("^-?(0*)\\d{1,10}$"),C_=function(e){if(T_.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},E_=function(e){try{e()}catch(Hr){setTimeout((()=>{const t=Hr.stack||"";throw h_("Exception was thrown by user callback.",t),Hr}),Math.floor(0))}},k_=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class S_{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){h_('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class x_{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(a_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',h_(e)}}class I_{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}I_.OWNER="owner";const P_="5",R_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,N_="ac",O_="websocket",A_="long_polling";class D_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jv.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Jv.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function M_(e,t,n){let r;if(df("string"===typeof t,"typeof type must == string"),df("object"===typeof n,"typeof params must == object"),t===O_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==A_)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return w_(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class L_{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Bf(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return wf(void 0,this.counters_)}}const F_={},U_={};function z_(e){const t=e.toString();return F_[t]||(F_[t]=new L_),F_[t]}class V_{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&E_((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const j_="start";class B_{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=l_(e),this.stats_=z_(t),this.urlFn=e=>(this.appCheckToken&&(e[N_]=this.appCheckToken),M_(t,A_,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new V_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Af()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new q_((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===j_)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[j_]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=P_,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[N_]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&R_.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){B_.forceAllow_=!0}static forceDisallow(){B_.forceDisallow_=!0}static isAvailable(){return!Af()&&(!!B_.forceAllow_||!B_.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Vf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=vf(t),r=y_(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Af())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Vf(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class q_{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Af())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=t_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=q_.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(Hr){a_("frame writing exception"),Hr.stack&&a_(Hr.stack),a_(Hr)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||a_("No IE domain setting required")}catch(Hr){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Af()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{a_("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Hr){}}),Math.floor(1))}}let W_=null;"undefined"!==typeof MozWebSocket?W_=MozWebSocket:"undefined"!==typeof WebSocket&&(W_=WebSocket);class H_{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=l_(this.connId),this.stats_=z_(t),this.connURL=H_.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=P_,!Af()&&"undefined"!==typeof location&&location.hostname&&R_.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[N_]=r),i&&(s.p=i),M_(e,O_,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jv.set("previous_websocket_failure",!0);try{let e;if(Af()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(P_,"/").concat(Gv,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new W_(this.connURL,[],e)}catch(Hr){this.log_("Error instantiating WebSocket.");const t=Hr.message||Hr.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){H_.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==W_&&!H_.forceDisallow_}static previouslyFailed(){return Jv.isInMemoryStorage||!0===Jv.get("previous_websocket_failure")}markConnectionHealthy(){Jv.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=zf(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(df(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Vf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=y_(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(Hr){this.log_("Exception thrown from WebSocket.send():",Hr.message||Hr.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}H_.responsesRequiredToBeHealthy=2,H_.healthyTimeout=3e4;class K_{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[B_,H_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=H_&&H_.isAvailable();let n=t&&!H_.previouslyFailed();if(e.webSocketOnly&&(t||h_("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[H_];else{const e=this.transports_=[];for(const t of K_.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);K_.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}K_.globalTransportInitialized_=!1;class G_{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=l_("c:"+this.id+":"),this.transportManager_=new K_(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=k_((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=v_("t",e),n=v_("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=v_("t",e),n=v_("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=v_("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?c_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):c_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),P_!==n&&h_("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),k_((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):k_((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Q_{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Y_{constructor(e){this.allowedEvents_=e,this.listeners_={},df(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){df(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class X_ extends Y_{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Rf()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new X_}getInitialEvent(e){return df("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const $_=32,J_=768;class Z_{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ey(){return new Z_("")}function ty(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ny(e){return e.pieces_.length-e.pieceNum_}function ry(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Z_(e.pieces_,t)}function iy(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function sy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function oy(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Z_(t,0)}function ay(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Z_)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Z_(n,0)}function ly(e){return e.pieceNum_>=e.pieces_.length}function cy(e,t){const n=ty(e),r=ty(t);if(null===n)return t;if(n===r)return cy(ry(e),ry(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function uy(e,t){const n=sy(e,0),r=sy(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=g_(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function hy(e,t){if(ny(e)!==ny(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function dy(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ny(e)>ny(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class fy{constructor(e,t){this.errorPrefix_=t,this.parts_=sy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=sp(this.parts_[n]);py(this)}}function py(e){if(e.byteLength_>J_)throw new Error(e.errorPrefix_+"has a key path longer than "+J_+" bytes ("+e.byteLength_+").");if(e.parts_.length>$_)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$_+") or object contains a cycle "+gy(e))}function gy(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class my extends Y_{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new my}getInitialEvent(e){return df("visible"===e,"Unknown event type: "+e),[this.visible_]}}const vy=1e3;class _y extends Q_{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=_y.nextPersistentConnectionId_++,this.log_=l_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vy,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Af())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");my.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&X_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Vf(i)),df(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new xf,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),df(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),df(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;_y.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Bf(e,"w")){const n=qf(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();h_("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=jf(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=jf(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),df(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Vf(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):c_("Unrecognized action received from server: "+Vf(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){df(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=vy),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+_y.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){df(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?a_("getToken() completed but was canceled"):(a_("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new G_(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{h_(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(c_){this.log_("Failed to get token: "+c_),s||(this.repoInfo_.nodeAdmin&&h_(c_),a())}}}interrupt(e){a_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){a_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Wf(this.interruptReasons_)&&(this.reconnectDelay_=vy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>__(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Z_(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){a_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){a_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Af()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Gv.replace(/\./g,"-")]=1,Rf()?e["framework.cordova"]=1:Of()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=X_.getInstance().currentlyOnline();return Wf(this.interruptReasons_)&&e}}_y.nextPersistentConnectionId_=0,_y.nextConnectionId_=0;class yy{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new yy(e,t)}}class wy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new yy(f_,e),r=new yy(f_,t);return 0!==this.compare(n,r)}minPost(){return yy.MIN}}let by;class Ty extends wy{static get __EMPTY_NODE(){return by}static set __EMPTY_NODE(e){by=e}compare(e,t){return g_(e.name,t.name)}isDefinedOn(e){throw ff("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return yy.MIN}maxPost(){return new yy(p_,by)}makePost(e,t){return df("string"===typeof e,"KeyIndex indexValue must always be a string."),new yy(e,by)}toString(){return".key"}}const Cy=new Ty;class Ey{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ky{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ky.RED,this.left=null!=r?r:Sy.EMPTY_NODE,this.right=null!=i?i:Sy.EMPTY_NODE}copy(e,t,n,r,i){return new ky(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Sy.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Sy.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ky.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ky.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ky.RED=!0,ky.BLACK=!1;class Sy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sy.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Sy(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ky.BLACK,null,null))}remove(e){return new Sy(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ky.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ey(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ey(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ey(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ey(this.root_,null,this.comparator_,!0,e)}}function xy(e,t){return g_(e.name,t.name)}function Iy(e,t){return g_(e,t)}let Py;Sy.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new ky(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ry=function(e){return"number"===typeof e?"number:"+b_(e):"string:"+e},Ny=function(e){if(e.isLeafNode()){const t=e.val();df("string"===typeof t||"number"===typeof t||"object"===typeof t&&Bf(t,".sv"),"Priority must be a string or number.")}else df(e===Py||e.isEmpty(),"priority of unexpected type.");df(e===Py||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Oy,Ay,Dy;class My{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:My.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,df(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ny(this.priorityNode_)}static set __childrenNodeConstructor(e){Oy=e}static get __childrenNodeConstructor(){return Oy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new My(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:My.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ly(e)?this:".priority"===ty(e)?this.priorityNode_:My.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:My.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ty(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(df(".priority"!==n||1===ny(e),".priority must be the last token in a path"),this.updateImmediateChild(n,My.__childrenNodeConstructor.EMPTY_NODE.updateChild(ry(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ry(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?b_(this.value_):this.value_,this.lazyHash_=n_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===My.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof My.__childrenNodeConstructor?-1:(df(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=My.VALUE_TYPE_ORDER.indexOf(t),i=My.VALUE_TYPE_ORDER.indexOf(n);return df(r>=0,"Unknown leaf type: "+t),df(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}My.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Ly=new class extends wy{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?g_(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return yy.MIN}maxPost(){return new yy(p_,new My("[PRIORITY-POST]",Dy))}makePost(e,t){const n=Ay(e);return new yy(t,new My("[PRIORITY-POST]",n))}toString(){return".priority"}},Fy=Math.log(2);class Uy{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Fy,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zy=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new ky(a,o.node,ky.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new ky(a,o.node,ky.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new ky(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,ky.BLACK):(a(r,ky.BLACK),a(r,ky.RED))}return s}(new Uy(e.length));return new Sy(r||t,s)};let Vy;const jy={};class By{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return df(jy&&Ly,"ChildrenNode.ts has not been loaded"),Vy=Vy||new By({".priority":jy},{".priority":Ly}),Vy}get(e){const t=qf(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Sy?t:null}hasIndex(e){return Bf(this.indexSet_,e.toString())}addIndex(e,t){df(e!==Cy,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(yy.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?zy(n,e.getCompare()):jy;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new By(c,l)}addToIndexes(e,t){const n=Hf(this.indexes_,((n,r)=>{const i=qf(this.indexSet_,r);if(df(i,"Missing index implementation for "+r),n===jy){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(yy.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),zy(n,i.getCompare())}return jy}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new yy(e.name,r))),i.insert(e,e.node)}}));return new By(n,this.indexSet_)}removeFromIndexes(e,t){const n=Hf(this.indexes_,(n=>{if(n===jy)return n;{const r=t.get(e.name);return r?n.remove(new yy(e.name,r)):n}}));return new By(n,this.indexSet_)}}let qy;class Wy{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ny(this.priorityNode_),this.children_.isEmpty()&&df(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qy||(qy=new Wy(new Sy(Iy),null,By.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qy}updatePriority(e){return this.children_.isEmpty()?this:new Wy(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?qy:t}}getChild(e){const t=ty(e);return null===t?this:this.getImmediateChild(t).getChild(ry(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(df(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new yy(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?qy:this.priorityNode_;return new Wy(r,s,i)}}updateChild(e,t){const n=ty(e);if(null===n)return t;{df(".priority"!==ty(e)||1===ny(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(ry(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Ly,((s,o)=>{t[s]=o.val(e),n++,i&&Wy.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ry(this.getPriority().val())+":"),this.forEachChild(Ly,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":n_(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new yy(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new yy(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new yy(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,yy.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,yy.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hy?-1:0}withIndex(e){if(e===Cy||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Wy(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Cy||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Ly),n=t.getIterator(Ly);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Cy?null:this.indexMap_.get(e.toString())}}Wy.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Hy=new class extends Wy{constructor(){super(new Sy(Iy),Wy.EMPTY_NODE,By.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Wy.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(yy,{MIN:{value:new yy(f_,Wy.EMPTY_NODE)},MAX:{value:new yy(p_,Hy)}}),Ty.__EMPTY_NODE=Wy.EMPTY_NODE,My.__childrenNodeConstructor=Wy,Py=Hy,function(e){Dy=e}(Hy);const Ky=!0;function Gy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Wy.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),df(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new My(e,Gy(t))}if(e instanceof Array||!Ky){let n=Wy.EMPTY_NODE;return w_(e,((t,r)=>{if(Bf(e,t)&&"."!==t.substring(0,1)){const e=Gy(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Gy(t))}{const n=[];let r=!1;if(w_(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Gy(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new yy(e,i)))}})),0===n.length)return Wy.EMPTY_NODE;const i=zy(n,xy,(e=>e.name),Iy);if(r){const e=zy(n,Ly.getCompare());return new Wy(i,Gy(t),new By({".priority":e},{".priority":Ly}))}return new Wy(i,Gy(t),By.Default)}}!function(e){Ay=e}(Gy);class Qy extends wy{constructor(e){super(),this.indexPath_=e,df(!ly(e)&&".priority"!==ty(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?g_(e.name,t.name):i}makePost(e,t){const n=Gy(e),r=Wy.EMPTY_NODE.updateChild(this.indexPath_,n);return new yy(t,r)}maxPost(){const e=Wy.EMPTY_NODE.updateChild(this.indexPath_,Hy);return new yy(p_,e)}toString(){return sy(this.indexPath_,0).join("/")}}const Yy=new class extends wy{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?g_(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return yy.MIN}maxPost(){return yy.MAX}makePost(e,t){const n=Gy(e);return new yy(t,n)}toString(){return".value"}};function Xy(e){return{type:"value",snapshotNode:e}}function $y(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Jy(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Zy(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ew{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){df(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Jy(t,o)):df(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange($y(t,n)):s.trackChildChange(Zy(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ly,((e,r)=>{t.hasChild(e)||n.trackChildChange(Jy(e,r))})),t.isLeafNode()||t.forEachChild(Ly,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Zy(t,r,i))}else n.trackChildChange($y(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Wy.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class tw{constructor(e){this.indexedFilter_=new ew(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tw.getStartPost_(e),this.endPost_=tw.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new yy(t,n))||(n=Wy.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Wy.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Wy.EMPTY_NODE);const i=this;return t.forEachChild(Ly,((e,t)=>{i.matches(new yy(e,t))||(r=r.updateImmediateChild(e,Wy.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class nw{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new tw(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new yy(t,n))||(n=Wy.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Wy.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Wy.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Wy.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Wy.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;df(o.numChildren()===this.limit_,"");const a=new yy(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Zy(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Jy(t,e));const n=o.updateImmediateChild(t,Wy.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange($y(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(Jy(l.name,l.node)),i.trackChildChange($y(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,Wy.EMPTY_NODE)):e}}class rw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ly}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return df(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return df(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:f_}hasEnd(){return this.endSet_}getIndexEndValue(){return df(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return df(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:p_}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return df(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ly}copy(){const e=new rw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iw(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function sw(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ow(e,t){const n=e.copy();return n.index_=t,n}function aw(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ly?n="$priority":e.index_===Yy?n="$value":e.index_===Cy?n="$key":(df(e.index_ instanceof Qy,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Vf(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Vf(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Vf(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Vf(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Vf(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function lw(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ly&&(t.i=e.index_.toString()),t}class cw extends Q_{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=l_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(df(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=cw.getListenId_(e,n),o={};this.listens_[s]=o;const a=aw(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),qf(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=cw.getListenId_(e,t);delete this.listens_[n]}get(e){const t=aw(e._queryParams),n=e._path.toString(),r=new xf;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qf(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=zf(a.responseText)}catch(Hr){h_("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&h_("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class uw{constructor(){this.rootNode_=Wy.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function hw(){return{value:null,children:new Map}}function dw(e,t,n){if(ly(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=ty(t);e.children.has(r)||e.children.set(r,hw());dw(e.children.get(r),t=ry(t),n)}}function fw(e,t){if(ly(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Ly,((t,n)=>{dw(e,new Z_(t),n)})),fw(e,t)}}if(e.children.size>0){const n=ty(t);if(t=ry(t),e.children.has(n)){fw(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function pw(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{pw(r,new Z_(t.toString()+"/"+e),n)}))}class gw{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&w_(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class mw{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new gw(e);const n=1e4+2e4*Math.random();k_(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;w_(e,((e,r)=>{r>0&&Bf(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),k_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var vw;function _w(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(vw||(vw={}));class yw{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=vw.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ly(this.path)){if(null!=this.affectedTree.value)return df(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Z_(e));return new yw(ey(),t,this.revert)}}return df(ty(this.path)===e,"operationForChild called for unrelated child."),new yw(ry(this.path),this.affectedTree,this.revert)}}class ww{constructor(e,t){this.source=e,this.path=t,this.type=vw.LISTEN_COMPLETE}operationForChild(e){return ly(this.path)?new ww(this.source,ey()):new ww(this.source,ry(this.path))}}class bw{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=vw.OVERWRITE}operationForChild(e){return ly(this.path)?new bw(this.source,ey(),this.snap.getImmediateChild(e)):new bw(this.source,ry(this.path),this.snap)}}class Tw{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=vw.MERGE}operationForChild(e){if(ly(this.path)){const t=this.children.subtree(new Z_(e));return t.isEmpty()?null:t.value?new bw(this.source,ey(),t.value):new Tw(this.source,ey(),t)}return df(ty(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tw(this.source,ry(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Cw{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ly(e))return this.isFullyInitialized()&&!this.filtered_;const t=ty(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ew{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kw(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw ff("Should only compare child_ events.");const r=new yy(t.childName,t.snapshotNode),i=new yy(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Sw(e,t){return{eventCache:e,serverCache:t}}function xw(e,t,n,r){return Sw(new Cw(t,n,r),e.serverCache)}function Iw(e,t,n,r){return Sw(e.eventCache,new Cw(t,n,r))}function Pw(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Rw(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Nw;class Ow{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Nw||(Nw=new Sy(m_)),Nw);this.value=e,this.children=t}static fromObject(e){let t=new Ow(null);return w_(e,((e,n)=>{t=t.set(new Z_(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ey(),value:this.value};if(ly(e))return null;{const n=ty(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(ry(e),t);if(null!=i){return{path:ay(new Z_(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(ly(e))return this;{const t=ty(e),n=this.children.get(t);return null!==n?n.subtree(ry(e)):new Ow(null)}}set(e,t){if(ly(e))return new Ow(t,this.children);{const n=ty(e),r=(this.children.get(n)||new Ow(null)).set(ry(e),t),i=this.children.insert(n,r);return new Ow(this.value,i)}}remove(e){if(ly(e))return this.children.isEmpty()?new Ow(null):new Ow(null,this.children);{const t=ty(e),n=this.children.get(t);if(n){const r=n.remove(ry(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Ow(null):new Ow(this.value,i)}return this}}get(e){if(ly(e))return this.value;{const t=ty(e),n=this.children.get(t);return n?n.get(ry(e)):null}}setTree(e,t){if(ly(e))return t;{const n=ty(e),r=(this.children.get(n)||new Ow(null)).setTree(ry(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Ow(this.value,i)}}fold(e){return this.fold_(ey(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(ay(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ey(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ly(e))return null;{const r=ty(e),i=this.children.get(r);return i?i.findOnPath_(ry(e),ay(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ey(),t)}foreachOnPath_(e,t,n){if(ly(e))return this;{this.value&&n(t,this.value);const r=ty(e),i=this.children.get(r);return i?i.foreachOnPath_(ry(e),ay(t,r),n):new Ow(null)}}foreach(e){this.foreach_(ey(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(ay(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Aw{constructor(e){this.writeTree_=e}static empty(){return new Aw(new Ow(null))}}function Dw(e,t,n){if(ly(t))return new Aw(new Ow(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=cy(i,t);return s=s.updateChild(o,n),new Aw(e.writeTree_.set(i,s))}{const r=new Ow(n),i=e.writeTree_.setTree(t,r);return new Aw(i)}}}function Mw(e,t,n){let r=e;return w_(n,((e,n)=>{r=Dw(r,ay(t,e),n)})),r}function Lw(e,t){if(ly(t))return Aw.empty();{const n=e.writeTree_.setTree(t,new Ow(null));return new Aw(n)}}function Fw(e,t){return null!=Uw(e,t)}function Uw(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(cy(n.path,t)):null}function zw(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ly,((e,n)=>{t.push(new yy(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new yy(e,n.value))})),t}function Vw(e,t){if(ly(t))return e;{const n=Uw(e,t);return new Aw(null!=n?new Ow(n):e.writeTree_.subtree(t))}}function jw(e){return e.writeTree_.isEmpty()}function Bw(e,t){return qw(ey(),e.writeTree_,t)}function qw(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(df(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=qw(ay(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ay(e,".priority"),r)),n}}function Ww(e,t){return rb(t,e)}function Hw(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));df(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Kw(t,r.path)?i=!1:dy(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=Qw(e.allWrites,Gw,ey()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Lw(e.visibleWrites,r.path);else{w_(r.children,(t=>{e.visibleWrites=Lw(e.visibleWrites,ay(r.path,t))}))}return!0}return!1}function Kw(e,t){if(e.snap)return dy(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&dy(ay(e.path,n),t))return!0;return!1}function Gw(e){return e.visible}function Qw(e,t,n){let r=Aw.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)dy(n,e)?(t=cy(n,e),r=Dw(r,t,s.snap)):dy(e,n)&&(t=cy(e,n),r=Dw(r,ey(),s.snap.getChild(t)));else{if(!s.children)throw ff("WriteRecord should have .snap or .children");if(dy(n,e))t=cy(n,e),r=Mw(r,t,s.children);else if(dy(e,n))if(t=cy(e,n),ly(t))r=Mw(r,ey(),s.children);else{const e=qf(s.children,ty(t));if(e){const n=e.getChild(ry(t));r=Dw(r,ey(),n)}}}}}return r}function Yw(e,t,n,r,i){if(r||i){const s=Vw(e.visibleWrites,t);if(!i&&jw(s))return n;if(i||null!=n||Fw(s,ey())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(dy(e.path,t)||dy(t,e.path))};return Bw(Qw(e.allWrites,s,t),n||Wy.EMPTY_NODE)}return null}{const r=Uw(e.visibleWrites,t);if(null!=r)return r;{const r=Vw(e.visibleWrites,t);if(jw(r))return n;if(null!=n||Fw(r,ey())){return Bw(r,n||Wy.EMPTY_NODE)}return null}}}function Xw(e,t,n,r){return Yw(e.writeTree,e.treePath,t,n,r)}function $w(e,t){return function(e,t,n){let r=Wy.EMPTY_NODE;const i=Uw(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ly,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Vw(e.visibleWrites,t);return n.forEachChild(Ly,((e,t)=>{const n=Bw(Vw(i,new Z_(e)),t);r=r.updateImmediateChild(e,n)})),zw(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return zw(Vw(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Jw(e,t,n,r){return function(e,t,n,r,i){df(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ay(t,n);if(Fw(e.visibleWrites,s))return null;{const t=Vw(e.visibleWrites,s);return jw(t)?i.getChild(n):Bw(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Zw(e,t){return function(e,t){return Uw(e.visibleWrites,t)}(e.writeTree,ay(e.treePath,t))}function eb(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=Vw(e.visibleWrites,t),c=Uw(l,ey());if(null!=c)a=c;else{if(null==n)return[];a=Bw(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function tb(e,t,n){return function(e,t,n,r){const i=ay(t,n),s=Uw(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return Bw(Vw(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function nb(e,t){return rb(ay(e.treePath,t),e.writeTree)}function rb(e,t){return{treePath:e,writeTree:t}}class ib{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;df("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),df(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Zy(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Jy(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,$y(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ff("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Zy(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const sb=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class ob{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Cw(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tb(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rw(this.viewCache_),i=eb(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function ab(e,t,n,r,i){const s=new ib;let o,a;if(n.type===vw.OVERWRITE){const l=n;l.source.fromUser?o=ub(e,t,l.path,l.snap,r,i,s):(df(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ly(l.path),o=cb(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===vw.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,l)=>{const c=ay(n,r);hb(t,ty(c))&&(a=ub(e,a,c,l,i,s,o))})),r.foreach(((r,l)=>{const c=ay(n,r);hb(t,ty(c))||(a=ub(e,a,c,l,i,s,o))})),a}(e,t,l.path,l.children,r,i,s):(df(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=fb(e,t,l.path,l.children,r,i,a,s))}else if(n.type===vw.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=Zw(r,n))return t;{const a=new ob(r,t,i),l=t.eventCache.getNode();let c;if(ly(n)||".priority"===ty(n)){let n;if(t.serverCache.isFullyInitialized())n=Xw(r,Rw(t));else{const e=t.serverCache.getNode();df(e instanceof Wy,"serverChildren would be complete if leaf node"),n=$w(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=ty(n);let u=tb(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,ry(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Wy.EMPTY_NODE,ry(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Xw(r,Rw(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Zw(r,ey()),xw(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=Zw(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ly(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return cb(e,t,n,l.getNode().getChild(n),i,s,a,o);if(ly(n)){let r=new Ow(null);return l.getNode().forEachChild(Cy,((e,t)=>{r=r.set(new Z_(e),t)})),fb(e,t,n,r,i,s,a,o)}return t}{let c=new Ow(null);return r.foreach(((e,t)=>{const r=ay(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),fb(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==vw.LISTEN_COMPLETE)throw ff("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=Iw(t,s.getNode(),s.isFullyInitialized()||ly(n),s.isFiltered());return lb(e,o,n,r,sb,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Pw(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Xy(Pw(t)))}}(t,o,l),{viewCache:o,changes:l}}function lb(e,t,n,r,i,s){const o=t.eventCache;if(null!=Zw(r,n))return t;{let a,l;if(ly(n))if(df(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Rw(t),i=$w(r,n instanceof Wy?n:Wy.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Xw(r,Rw(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=ty(n);if(".priority"===c){df(1===ny(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=Jw(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=ry(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Jw(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=tb(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return xw(t,a,o.isFullyInitialized()||ly(n),e.filter.filtersNodes())}}function cb(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(ly(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=ty(n);if(!l.isCompleteForPath(n)&&ny(n)>1)return t;const i=ry(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,sb,null)}const h=Iw(t,c,l.isFullyInitialized()||ly(n),u.filtersNodes());return lb(e,h,n,i,new ob(i,h,s),a)}function ub(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new ob(i,t,s);if(ly(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=xw(t,c,!0,e.filter.filtersNodes());else{const i=ty(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=xw(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=ry(n),c=a.getNode().getImmediateChild(i);let h;if(ly(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===iy(s)&&e.getChild(oy(s)).isEmpty()?e:e.updateChild(s,r):Wy.EMPTY_NODE}if(c.equals(h))l=t;else{l=xw(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function hb(e,t){return e.eventCache.isCompleteForChild(t)}function db(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function fb(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ly(n)?r:new Ow(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=db(0,t.serverCache.getNode().getImmediateChild(n),r);c=cb(e,c,new Z_(n),l,i,s,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=db(0,t.serverCache.getNode().getImmediateChild(n),r);c=cb(e,c,new Z_(n),l,i,s,o,a)}})),c}class pb{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new ew(n.getIndex()),i=(s=n).loadsAllData()?new ew(s.getIndex()):s.hasLimit()?new nw(s):new tw(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(Wy.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Wy.EMPTY_NODE,a.getNode(),null),u=new Cw(l,o.isFullyInitialized(),r.filtersNodes()),h=new Cw(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Sw(h,u),this.eventGenerator_=new Ew(this.query_)}get query(){return this.query_}}function gb(e,t){const n=Rw(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ly(t)&&!n.getImmediateChild(ty(t)).isEmpty())?n.getChild(t):null}function mb(e){return 0===e.eventRegistrations_.length}function vb(e,t,n){const r=[];if(n){df(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function _b(e,t,n,r){t.type===vw.MERGE&&null!==t.source.queryId&&(df(Rw(e.viewCache_),"We should always have a full cache before handling merges"),df(Pw(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=ab(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,df(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),df(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),df(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,yb(e,s.changes,s.viewCache.eventCache.getNode(),null)}function yb(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),kw(e,i,"child_removed",t,r,n),kw(e,i,"child_added",t,r,n),kw(e,i,"child_moved",s,r,n),kw(e,i,"child_changed",t,r,n),kw(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let wb,bb;class Tb{constructor(){this.views=new Map}}function Cb(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return df(null!=s,"SyncTree gave us an op for an invalid query."),_b(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(_b(s,t,n,r));return i}}function Eb(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=Xw(n,i?r:null),s=!1;e?s=!0:r instanceof Wy?(e=$w(n,r),s=!1):(e=Wy.EMPTY_NODE,s=!1);const o=Sw(new Cw(e,s,!1),new Cw(r,i,!1));return new pb(t,o)}return o}function kb(e,t,n,r,i,s){const o=Eb(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Ly,((e,t)=>{r.push($y(e,t))}));return n.isFullyInitialized()&&r.push(Xy(n.getNode())),yb(e,r,n.getNode(),t)}(o,n)}function Sb(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=Nb(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(vb(c,n,r)),mb(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(vb(t,n,r)),mb(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!Nb(e)&&s.push(new(df(wb,"Reference.ts has not been loaded"),wb)(t._repo,t._path)),{removed:s,events:o}}function xb(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ib(e,t){let n=null;for(const r of e.views.values())n=n||gb(r,t);return n}function Pb(e,t){if(t._queryParams.loadsAllData())return Ob(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Rb(e,t){return null!=Pb(e,t)}function Nb(e){return null!=Ob(e)}function Ob(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Ab=1;class Db{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ow(null),this.pendingWriteTree_={visibleWrites:Aw.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Mb(e,t,n,r,i){return function(e,t,n,r,i){df(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Dw(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Wb(e,new bw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Lb(e,t,n,r){!function(e,t,n,r){df(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Mw(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Ow.fromObject(n);return Wb(e,new Tw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Fb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Hw(e.pendingWriteTree_,t)){let t=new Ow(null);return null!=r.snap?t=t.set(ey(),!0):w_(r.children,(e=>{t=t.set(new Z_(e),!0)})),Wb(e,new yw(r.path,t,n))}return[]}function Ub(e,t,n){return Wb(e,new bw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function zb(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||Rb(o,t))){const l=Sb(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(s,((e,t)=>Nb(t)));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Nb(t)){return[Ob(t)]}{let e=[];return t&&(e=xb(t)),w_(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=Gb(e,r);e.listenProvider_.startListening(Zb(i),Qb(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Zb(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Yb(t));e.listenProvider_.stopListening(Zb(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Yb(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Vb(e,t,n,r){const i=Xb(e,r);if(null!=i){const r=$b(i),s=r.path,o=r.queryId,a=cy(s,t);return Jb(e,s,new bw(_w(o),a,n))}return[]}function jb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=cy(e,i);s=s||Ib(t,n),o=o||Nb(t)}));let a,l=e.syncPointTree_.get(i);if(l?(o=o||Nb(l),s=s||Ib(l,ey())):(l=new Tb,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s)a=!0;else{a=!1,s=Wy.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=Ib(t,ey());n&&(s=s.updateImmediateChild(e,n))}))}const c=Rb(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Yb(t);df(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Ab++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=kb(l,t,n,Ww(e.pendingWriteTree_,i),s,a);if(!c&&!o&&!r){const n=Pb(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Qb(e,t),s=Gb(e,n),o=e.listenProvider_.startListening(Zb(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)df(!Nb(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!ly(e)&&t&&Nb(t))return[Ob(t).query];{let e=[];return t&&(e=e.concat(xb(t).map((e=>e.query)))),w_(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Zb(r),Qb(e,r))}}return o}(e,t,n))}return u}function Bb(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Ib(n,cy(e,t));if(r)return r}));return Yw(r,t,i,n,!0)}function qb(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=cy(e,n);r=r||Ib(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||Ib(i,ey()):(i=new Tb,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new Cw(r,!0,!1):null;return function(e){return Pw(e.viewCache_)}(Eb(i,t,Ww(e.pendingWriteTree_,t._path),s?o.getNode():Wy.EMPTY_NODE,s))}function Wb(e,t){return Hb(t,e.syncPointTree_,null,Ww(e.pendingWriteTree_,ey()))}function Hb(e,t,n,r){if(ly(e.path))return Kb(e,t,n,r);{const i=t.get(ey());null==n&&null!=i&&(n=Ib(i,ey()));let s=[];const o=ty(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=nb(r,o);s=s.concat(Hb(a,l,e,t))}return i&&(s=s.concat(Cb(i,e,r,n))),s}}function Kb(e,t,n,r){const i=t.get(ey());null==n&&null!=i&&(n=Ib(i,ey()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=nb(r,t),l=e.operationForChild(t);l&&(s=s.concat(Kb(l,i,o,a)))})),i&&(s=s.concat(Cb(i,e,r,n))),s}function Gb(e,t){const n=t.query,r=Qb(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Wy.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Xb(e,n);if(r){const n=$b(r),i=n.path,s=n.queryId,o=cy(i,t);return Jb(e,i,new ww(_w(s),o))}return[]}(e,n._path,r):function(e,t){return Wb(e,new ww({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return zb(e,n,null,r)}}}}function Qb(e,t){const n=Yb(t);return e.queryToTagMap.get(n)}function Yb(e){return e._path.toString()+"$"+e._queryIdentifier}function Xb(e,t){return e.tagToQueryMap.get(t)}function $b(e){const t=e.indexOf("$");return df(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Z_(e.substr(0,t))}}function Jb(e,t,n){const r=e.syncPointTree_.get(t);df(r,"Missing sync point for query tag that we're tracking");return Cb(r,n,Ww(e.pendingWriteTree_,t),null)}function Zb(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(df(bb,"Reference.ts has not been loaded"),bb)(e._repo,e._path):e}class eT{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new eT(t)}node(){return this.node_}}class tT{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ay(this.path_,e);return new tT(this.syncTree_,t)}node(){return Bb(this.syncTree_,this.path_)}}const nT=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},rT=function(e,t,n){return e&&"object"===typeof e?(df(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?iT(e[".sv"],t,n):"object"===typeof e[".sv"]?sT(e[".sv"],t):void df(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},iT=function(e,t,n){if("timestamp"===e)return n.timestamp;df(!1,"Unexpected server value: "+e)},sT=function(e,t,n){e.hasOwnProperty("increment")||df(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&df(!1,"Unexpected increment value: "+r);const i=t.node();if(df(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},oT=function(e,t,n,r){return lT(t,new tT(n,e),r)},aT=function(e,t,n){return lT(e,new eT(t),n)};function lT(e,t,n){const r=e.getPriority().val(),i=rT(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=rT(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new My(s,Gy(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new My(i))),r.forEachChild(Ly,((e,r)=>{const i=lT(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class cT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function uT(e,t){let n=t instanceof Z_?t:new Z_(t),r=e,i=ty(n);for(;null!==i;){const e=qf(r.node.children,i)||{children:{},childCount:0};r=new cT(i,r,e),n=ry(n),i=ty(n)}return r}function hT(e){return e.node.value}function dT(e,t){e.node.value=t,vT(e)}function fT(e){return e.node.childCount>0}function pT(e,t){w_(e.node.children,((n,r)=>{t(new cT(n,e,r))}))}function gT(e,t,n,r){n&&!r&&t(e),pT(e,(e=>{gT(e,t,!0,r)})),n&&r&&t(e)}function mT(e){return new Z_(null===e.parent?e.name:mT(e.parent)+"/"+e.name)}function vT(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===hT(e)&&!fT(e)}(n),i=Bf(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,vT(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,vT(e))}(e.parent,e.name,e)}const _T=/[\[\].#$\/\u0000-\u001F\u007F]/,yT=/[\[\].#$\u0000-\u001F\u007F]/,wT=10485760,bT=function(e){return"string"===typeof e&&0!==e.length&&!_T.test(e)},TT=function(e){return"string"===typeof e&&0!==e.length&&!yT.test(e)},CT=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!d_(e)||e&&"object"===typeof e&&Bf(e,".sv")},ET=function(e,t,n,r){r&&void 0===t||kT(np(e,"value"),t,n)},kT=function(e,t,n){const r=n instanceof Z_?new fy(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+gy(r));if("function"===typeof t)throw new Error(e+"contains a function "+gy(r)+" with contents = "+t.toString());if(d_(t))throw new Error(e+"contains "+t.toString()+" "+gy(r));if("string"===typeof t&&t.length>wT/3&&sp(t)>wT)throw new Error(e+"contains a string greater than "+wT+" utf8 bytes "+gy(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(w_(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!bT(t)))throw new Error(e+" contains an invalid key ("+t+") "+gy(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=sp(t),py(e)}(r,t),kT(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=sp(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+gy(r)+" in addition to actual children.")}},ST=function(e,t,n,r){if(r&&void 0===t)return;const i=np(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];w_(t,((e,t)=>{const r=new Z_(e);if(kT(i,t,ay(n,r)),".priority"===iy(r)&&!CT(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=sy(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!bT(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(uy);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&dy(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},xT=function(e,t,n){if(!n||void 0!==t){if(d_(t))throw new Error(np(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!CT(t))throw new Error(np(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},IT=function(e,t,n,r){if((!r||void 0!==n)&&!bT(n))throw new Error(np(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},PT=function(e,t,n,r){if((!r||void 0!==n)&&!TT(n))throw new Error(np(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},RT=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),PT(e,t,n,r)},NT=function(e,t){if(".info"===ty(t))throw new Error(e+" failed = Can't modify data under /.info/")},OT=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!bT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),TT(e)}(n))throw new Error(np(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class AT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function DT(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||hy(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function MT(e,t,n){DT(e,n),FT(e,(e=>hy(e,t)))}function LT(e,t,n){DT(e,n),FT(e,(e=>dy(e,t)||dy(t,e)))}function FT(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(UT(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function UT(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();i_&&a_("event: "+n.toString()),E_(r)}}}const zT="repo_interrupt",VT=25;class jT{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hw(),this.transactionQueueTree_=new cT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BT(e,t,n){if(e.stats_=z_(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new cw(e.repoInfo_,((t,n,r,i)=>{HT(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>KT(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vf(n)}catch(Hr){throw new Error("Invalid authOverride provided: "+Hr)}}e.persistentConnection_=new _y(e.repoInfo_,t,((t,n,r,i)=>{HT(e,t,n,r,i)}),(t=>{KT(e,t)}),(t=>{!function(e,t){w_(t,((t,n)=>{GT(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return U_[n]||(U_[n]=t()),U_[n]}(e.repoInfo_,(()=>new mw(e.stats_,e.server_))),e.infoData_=new uw,e.infoSyncTree_=new Db({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=Ub(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),GT(e,"connected",!1),e.serverSyncTree_=new Db({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);LT(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function qT(e){const t=e.infoData_.getNode(new Z_(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function WT(e){return nT({timestamp:qT(e)})}function HT(e,t,n,r,i){e.dataUpdateCount++;const s=new Z_(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=Hf(n,(e=>Gy(e)));o=function(e,t,n,r){const i=Xb(e,r);if(i){const r=$b(i),s=r.path,o=r.queryId,a=cy(s,t),l=Ow.fromObject(n);return Jb(e,s,new Tw(_w(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Gy(n);o=Vb(e.serverSyncTree_,s,t,i)}else if(r){const t=Hf(n,(e=>Gy(e)));o=function(e,t,n){const r=Ow.fromObject(n);return Wb(e,new Tw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Gy(n);o=Ub(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=iC(e,s)),LT(e.eventQueue_,a,o)}function KT(e,t){GT(e,"connected",t),!1===t&&function(e){eC(e,"onDisconnectEvents");const t=WT(e),n=hw();pw(e.onDisconnect_,ey(),((r,i)=>{const s=oT(r,i,e.serverSyncTree_,t);dw(n,r,s)}));let r=[];pw(n,ey(),((t,n)=>{r=r.concat(Ub(e.serverSyncTree_,t,n));const i=cC(e,t);iC(e,i)})),e.onDisconnect_=hw(),LT(e.eventQueue_,ey(),r)}(e)}function GT(e,t,n){const r=new Z_("/.info/"+t),i=Gy(n);e.infoData_.updateSnapshot(r,i);const s=Ub(e.infoSyncTree_,r,i);LT(e.eventQueue_,r,s)}function QT(e){return e.nextWriteId_++}function YT(e,t,n,r,i){eC(e,"set",{path:t.toString(),value:n,priority:r});const s=WT(e),o=Gy(n,r),a=Bb(e.serverSyncTree_,t),l=aT(o,a,s),c=QT(e),u=Mb(e.serverSyncTree_,t,l,c,!0);DT(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),((n,r)=>{const s="ok"===n;s||h_("set at "+t+" failed: "+n);const o=Fb(e.serverSyncTree_,c,!s);LT(e.eventQueue_,t,o),tC(e,i,n,r)}));const h=cC(e,t);iC(e,h),LT(e.eventQueue_,h,[])}function XT(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&fw(e.onDisconnect_,t),tC(e,n,r,i)}))}function $T(e,t,n,r){const i=Gy(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,s)=>{"ok"===n&&dw(e.onDisconnect_,t,i),tC(e,r,n,s)}))}function JT(e,t,n){let r;r=".info"===ty(t._path)?zb(e.infoSyncTree_,t,n):zb(e.serverSyncTree_,t,n),MT(e.eventQueue_,t._path,r)}function ZT(e){e.persistentConnection_&&e.persistentConnection_.interrupt(zT)}function eC(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];a_(t,...r)}function tC(e,t,n,r){t&&E_((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}function nC(e,t,n){return Bb(e.serverSyncTree_,t,n)||Wy.EMPTY_NODE}function rC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||lC(e,t),hT(t)){const n=oC(e,t);df(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=nC(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];df(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=cy(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{eC(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Fb(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();lC(e,uT(e.transactionQueueTree_,t)),rC(e,e.transactionQueueTree_),LT(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)E_(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{h_("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}iC(e,t)}}),o)}(e,mT(t),n)}else fT(t)&&pT(t,(t=>{rC(e,t)}))}function iC(e,t){const n=sC(e,t),r=mT(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=cy(n,s.path);let u,h=!1;if(df(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,i=i.concat(Fb(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=VT)h=!0,u="maxretry",i=i.concat(Fb(e.serverSyncTree_,s.currentWriteId,!0));else{const n=nC(e,s.path,o);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){kT("transaction failed: Data returned ",r,s.path);let t=Gy(r);"object"===typeof r&&null!=r&&Bf(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=WT(e),c=aT(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=QT(e),o.splice(o.indexOf(a),1),i=i.concat(Mb(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(Fb(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",i=i.concat(Fb(e.serverSyncTree_,s.currentWriteId,!0))}LT(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;lC(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)E_(r[l]);rC(e,e.transactionQueueTree_)}(e,oC(e,n),r),r}function sC(e,t){let n,r=e.transactionQueueTree_;for(n=ty(t);null!==n&&void 0===hT(r);)r=uT(r,n),n=ty(t=ry(t));return r}function oC(e,t){const n=[];return aC(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function aC(e,t,n){const r=hT(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);pT(t,(t=>{aC(e,t,n)}))}function lC(e,t){const n=hT(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,dT(t,n.length>0?n:void 0)}pT(t,(t=>{lC(e,t)}))}function cC(e,t){const n=mT(sC(e,t)),r=uT(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{uC(e,t)})),uC(e,r),gT(r,(t=>{uC(e,t)})),n}function uC(e,t){const n=hT(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(df(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(df(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Fb(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?dT(t,void 0):n.length=s+1,LT(e.eventQueue_,mT(t),i);for(let e=0;e<r.length;e++)E_(r[e])}}const hC=function(e,t){const n=dC(e),r=n.namespace;"firebase.com"===n.domain&&u_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||u_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&h_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new D_(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Z_(n.pathString)}},dC=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(Hr){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):h_("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},fC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pC=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=fC.charAt(n%64),n=Math.floor(n/64);df(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=fC.charAt(t[i]);return df(20===o.length,"nextPushId: Length should be 20."),o}}();class gC{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Vf(this.snapshot.exportVal())}}class mC{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vC{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return df(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class _C{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new xf;return XT(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){NT("OnDisconnect.remove",this._path);const e=new xf;return $T(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){NT("OnDisconnect.set",this._path),ET("OnDisconnect.set",e,this._path,!1);const t=new xf;return $T(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){NT("OnDisconnect.setWithPriority",this._path),ET("OnDisconnect.setWithPriority",e,this._path,!1),xT("OnDisconnect.setWithPriority",t,!1);const n=new xf;return function(e,t,n,r,i){const s=Gy(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),((n,r)=>{"ok"===n&&dw(e.onDisconnect_,t,s),tC(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){NT("OnDisconnect.update",this._path),ST("OnDisconnect.update",e,this._path,!1);const t=new xf;return function(e,t,n,r){if(Wf(n))return a_("onDisconnect().update() called with empty data.  Don't do anything."),void tC(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,s)=>{"ok"===i&&w_(n,((n,r)=>{const i=Gy(r);dw(e.onDisconnect_,ay(t,n),i)})),tC(0,r,i,s)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class yC{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ly(this._path)?null:iy(this._path)}get ref(){return new CC(this._repo,this._path)}get _queryIdentifier(){const e=lw(this._queryParams),t=__(e);return"{}"===t?"default":t}get _queryObject(){return lw(this._queryParams)}isEqual(e){if(!((e=op(e))instanceof yC))return!1;const t=this._repo===e._repo,n=hy(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function wC(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function bC(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Cy){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==f_)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==p_)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Ly){if(null!=t&&!CT(t)||null!=n&&!CT(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(df(e.getIndex()instanceof Qy||e.getIndex()===Yy,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function TC(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class CC extends yC{constructor(e,t){super(e,t,new rw,!1)}get parent(){const e=oy(this._path);return null===e?null:new CC(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class EC{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Z_(e),n=xC(this.ref,e);return new EC(this._node.getChild(t),n,Ly)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new EC(n,xC(this.ref,t),Ly))))}hasChild(e){const t=new Z_(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function kC(e,t){return(e=op(e))._checkNotDeleted("ref"),void 0!==t?xC(e._root,t):e._root}function SC(e,t){(e=op(e))._checkNotDeleted("refFromURL");const n=hC(t,e._repo.repoInfo_.nodeAdmin);OT("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||u_("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),kC(e,n.path.toString())}function xC(e,t){return null===ty((e=op(e))._path)?RT("child","path",t,!1):PT("child","path",t,!1),new CC(e._repo,ay(e._path,t))}function IC(e,t){e=op(e),NT("set",e._path),ET("set",t,e._path,!1);const n=new xf;return YT(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function PC(e,t){ST("update",t,e._path,!1);const n=new xf;return function(e,t,n,r){eC(e,"update",{path:t.toString(),value:n});let i=!0;const s=WT(e),o={};if(w_(n,((n,r)=>{i=!1,o[n]=oT(ay(t,n),Gy(r),e.serverSyncTree_,s)})),i)a_("update() called with empty data.  Don't do anything."),tC(0,r,"ok",void 0);else{const i=QT(e),s=Lb(e.serverSyncTree_,t,o,i);DT(e.eventQueue_,s),e.server_.merge(t.toString(),n,((n,s)=>{const o="ok"===n;o||h_("update at "+t+" failed: "+n);const a=Fb(e.serverSyncTree_,i,!o),l=a.length>0?iC(e,t):t;LT(e.eventQueue_,l,a),tC(0,r,n,s)})),w_(n,(n=>{const r=cC(e,ay(t,n));iC(e,r)})),LT(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function RC(e){e=op(e);const t=new vC((()=>{})),n=new NC(t);return function(e,t,n){const r=qb(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=Gy(r).withIndex(t._queryParams.getIndex());let s;if(jb(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=Ub(e.serverSyncTree_,t._path,i);else{const n=Qb(e.serverSyncTree_,t);s=Vb(e.serverSyncTree_,t._path,i,n)}return LT(e.eventQueue_,t._path,s),zb(e.serverSyncTree_,t,n,null,!0),i}),(n=>(eC(e,"get for query "+Vf(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new EC(t,new CC(e._repo,e._path),e._queryParams.getIndex())))}class NC{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new gC("value",this,new EC(e.snapshotNode,new CC(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new mC(this,e,t):null}matches(e){return e instanceof NC&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class OC{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new mC(this,e,t):null}createEvent(e,t){df(null!=e.childName,"Child events should have a childName.");const n=xC(new CC(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new gC(e.type,this,new EC(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof OC&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function AC(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{JT(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new vC(n,s||void 0),a="value"===t?new NC(o):new OC(t,o);return function(e,t,n){let r;r=".info"===ty(t._path)?jb(e.infoSyncTree_,t,n):jb(e.serverSyncTree_,t,n),MT(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>JT(e._repo,e,a)}function DC(e,t,n,r){return AC(e,"value",t,n,r)}function MC(e,t,n,r){return AC(e,"child_added",t,n,r)}function LC(e,t,n,r){return AC(e,"child_changed",t,n,r)}function FC(e,t,n,r){return AC(e,"child_moved",t,n,r)}function UC(e,t,n,r){return AC(e,"child_removed",t,n,r)}function zC(e,t,n){let r=null;const i=n?new vC(n):null;"value"===t?r=new NC(i):t&&(r=new OC(t,i)),JT(e._repo,e,r)}class VC{}class jC extends VC{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){ET("endAt",this._value,e._path,!0);const t=sw(e._queryParams,this._value,this._key);if(TC(t),bC(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yC(e._repo,e._path,t,e._orderByCalled)}}class BC extends VC{constructor(e,t){super(),this._value=e,this._key=t,this.type="endBefore"}_apply(e){ET("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Cy||n?sw(e,t,n):sw(e,t,f_),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(TC(t),bC(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new yC(e._repo,e._path,t,e._orderByCalled)}}class qC extends VC{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){ET("startAt",this._value,e._path,!0);const t=iw(e._queryParams,this._value,this._key);if(TC(t),bC(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new yC(e._repo,e._path,t,e._orderByCalled)}}class WC extends VC{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){ET("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Cy||n?iw(e,t,n):iw(e,t,p_),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(TC(t),bC(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new yC(e._repo,e._path,t,e._orderByCalled)}}class HC extends VC{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new yC(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class KC extends VC{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new yC(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class GC extends VC{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){wC(e,"orderByChild");const t=new Z_(this._path);if(ly(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Qy(t),r=ow(e._queryParams,n);return bC(r),new yC(e._repo,e._path,r,!0)}}class QC extends VC{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){wC(e,"orderByKey");const t=ow(e._queryParams,Cy);return bC(t),new yC(e._repo,e._path,t,!0)}}class YC extends VC{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){wC(e,"orderByPriority");const t=ow(e._queryParams,Ly);return bC(t),new yC(e._repo,e._path,t,!0)}}class XC extends VC{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){wC(e,"orderByValue");const t=ow(e._queryParams,Yy);return bC(t),new yC(e._repo,e._path,t,!0)}}class $C extends VC{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(ET("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new jC(this._value,this._key)._apply(new qC(this._value,this._key)._apply(e))}}function JC(e){let t=op(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const s of r)t=s._apply(t);return t}!function(e){df(!wb,"__referenceConstructor has already been defined"),wb=e}(CC),function(e){df(!bb,"__referenceConstructor has already been defined"),bb=e}(CC);const ZC="FIREBASE_DATABASE_EMULATOR_HOST",eE={};let tE=!1;function nE(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||u_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),a_("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=hC(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[ZC]),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=hC(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new I_(I_.OWNER):new x_(e.name,e.options,t);OT("Invalid Firebase Database URL",l),ly(l.path)||u_("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=eE[t.name];i||(i={},eE[t.name]=i);let s=i[e.toURLString()];s&&u_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new jT(e,tE,n,r),i[e.toURLString()]=s,s}(c,e,u,new S_(e.name,n));return new rE(h,e)}class rE{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new CC(this._repo,ey())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=eE[t];n&&n[e.key]===e||u_("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),ZT(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&u_("Cannot call "+e+" on a deleted database.")}}function iE(){K_.IS_TRANSPORT_INITIALIZED&&h_("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function sE(){iE(),B_.forceDisallow()}function oE(){iE(),H_.forceDisallow(),B_.forceAllow()}function aE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=op(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&u_("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&u_('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new I_(I_.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:If(r.mockUserToken,e.app.options.projectId);s=new I_(t)}!function(e,t,n,r){e.repoInfo_=new D_("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}function lE(e){var t;(e=op(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(zT)}function cE(e,t){o_(e,t)}const uE={".sv":"timestamp"};class hE{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function dE(e,t,n){var r;if(e=op(e),NT("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,s=new xf,o=DC(e,(()=>{}));return function(e,t,n,r,i,s){eC(e,"transaction on "+t);const o={path:t,update:n,onComplete:r,status:null,order:t_(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=nC(e,t,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{kT("transaction failed: Data returned ",l,o.path),o.status=0;const n=uT(e.transactionQueueTree_,t),r=hT(n)||[];let i;r.push(o),dT(n,r),"object"===typeof l&&null!==l&&Bf(l,".priority")?(i=qf(l,".priority"),df(CT(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(Bb(e.serverSyncTree_,t)||Wy.EMPTY_NODE).getPriority().val();const s=WT(e),c=Gy(l,i),u=aT(c,a,s);o.currentOutputSnapshotRaw=c,o.currentOutputSnapshotResolved=u,o.currentWriteId=QT(e);const h=Mb(e.serverSyncTree_,t,u,o.currentWriteId,o.applyLocally);LT(e.eventQueue_,t,h),rC(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let i=null;t?s.reject(t):(i=new EC(r,new CC(e._repo,e._path),Ly),s.resolve(new hE(n,i)))}),o,i),s.promise}_y.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},_y.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Qv(Sg),vg(new ap("database",((e,t)=>{let{instanceIdentifier:n}=t;return nE(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Og(Hv,Kv,e),Og(Hv,Kv,"esm2017")}();const fE=new vp("@firebase/database-compat"),pE=function(e){const t="FIREBASE WARNING: "+e;fE.warn(t)};class gE{constructor(e){this._delegate=e}cancel(e){tp("OnDisconnect.cancel",0,1,arguments.length),rp("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){tp("OnDisconnect.remove",0,1,arguments.length),rp("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){tp("OnDisconnect.set",1,2,arguments.length),rp("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){tp("OnDisconnect.setWithPriority",2,3,arguments.length),rp("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if(tp("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,pE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rp("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class mE{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return tp("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class vE{constructor(e,t){this._database=e,this._delegate=t}val(){return tp("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return tp("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return tp("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return tp("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return tp("DataSnapshot.child",0,1,arguments.length),e=String(e),PT("DataSnapshot.child","path",e,!1),new vE(this._database,this._delegate.child(e))}hasChild(e){return tp("DataSnapshot.hasChild",1,1,arguments.length),PT("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return tp("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return tp("DataSnapshot.forEach",1,1,arguments.length),rp("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new vE(this._database,t))))}hasChildren(){return tp("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return tp("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return tp("DataSnapshot.ref",0,0,arguments.length),new yE(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class _E{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;tp("Query.on",2,4,arguments.length),rp("Query.on","callback",t,!1);const s=_E.getCancelAndContextArgs_("Query.on",n,r),o=(e,n)=>{t.call(s.context,new vE(this.database,e),n)};o.userCallback=t,o.context=s.context;const a=null===(i=s.cancel)||void 0===i?void 0:i.bind(s.context);switch(e){case"value":return DC(this._delegate,o,a),t;case"child_added":return MC(this._delegate,o,a),t;case"child_removed":return UC(this._delegate,o,a),t;case"child_changed":return LC(this._delegate,o,a),t;case"child_moved":return FC(this._delegate,o,a),t;default:throw new Error(np("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if(tp("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(np(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),rp("Query.off","callback",t,!0),ip("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,zC(this._delegate,e,r)}else zC(this._delegate,e)}get(){return RC(this._delegate).then((e=>new vE(this.database,e)))}once(e,t,n,r){tp("Query.once",1,4,arguments.length),rp("Query.once","callback",t,!0);const i=_E.getCancelAndContextArgs_("Query.once",n,r),s=new xf,o=(e,n)=>{const r=new vE(this.database,e);t&&t.call(i.context,r,n),s.resolve(r)};o.userCallback=t,o.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),s.reject(e)};switch(e){case"value":DC(this._delegate,o,a,{onlyOnce:!0});break;case"child_added":MC(this._delegate,o,a,{onlyOnce:!0});break;case"child_removed":UC(this._delegate,o,a,{onlyOnce:!0});break;case"child_changed":LC(this._delegate,o,a,{onlyOnce:!0});break;case"child_moved":FC(this._delegate,o,a,{onlyOnce:!0});break;default:throw new Error(np("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return tp("Query.limitToFirst",1,1,arguments.length),new _E(this.database,JC(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new HC(e)}(e)))}limitToLast(e){return tp("Query.limitToLast",1,1,arguments.length),new _E(this.database,JC(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new KC(e)}(e)))}orderByChild(e){return tp("Query.orderByChild",1,1,arguments.length),new _E(this.database,JC(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return PT("orderByChild","path",e,!1),new GC(e)}(e)))}orderByKey(){return tp("Query.orderByKey",0,0,arguments.length),new _E(this.database,JC(this._delegate,new QC))}orderByPriority(){return tp("Query.orderByPriority",0,0,arguments.length),new _E(this.database,JC(this._delegate,new YC))}orderByValue(){return tp("Query.orderByValue",0,0,arguments.length),new _E(this.database,JC(this._delegate,new XC))}startAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return tp("Query.startAt",0,2,arguments.length),new _E(this.database,JC(this._delegate,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return IT("startAt","key",t,!0),new qC(e,t)}(e,t)))}startAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return tp("Query.startAfter",0,2,arguments.length),new _E(this.database,JC(this._delegate,function(e,t){return IT("startAfter","key",t,!0),new WC(e,t)}(e,t)))}endAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return tp("Query.endAt",0,2,arguments.length),new _E(this.database,JC(this._delegate,function(e,t){return IT("endAt","key",t,!0),new jC(e,t)}(e,t)))}endBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return tp("Query.endBefore",0,2,arguments.length),new _E(this.database,JC(this._delegate,function(e,t){return IT("endBefore","key",t,!0),new BC(e,t)}(e,t)))}equalTo(e,t){return tp("Query.equalTo",1,2,arguments.length),new _E(this.database,JC(this._delegate,function(e,t){return IT("equalTo","key",t,!0),new $C(e,t)}(e,t)))}toString(){return tp("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return tp("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(tp("Query.isEqual",1,1,arguments.length),!(e instanceof _E)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,rp(e,"cancel",r.cancel,!0),r.context=n,ip(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(np(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new yE(this.database,new CC(this._delegate._repo,this._delegate._path))}}class yE extends _E{constructor(e,t){super(e,new yC(t._repo,t._path,new rw,!1)),this.database=e,this._delegate=t}getKey(){return tp("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return tp("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new yE(this.database,xC(this._delegate,e))}getParent(){tp("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new yE(this.database,e):null}getRoot(){return tp("Reference.root",0,0,arguments.length),new yE(this.database,this._delegate.root)}set(e,t){tp("Reference.set",1,2,arguments.length),rp("Reference.set","onComplete",t,!0);const n=IC(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if(tp("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,pE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}NT("Reference.update",this._delegate._path),rp("Reference.update","onComplete",t,!0);const n=PC(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){tp("Reference.setWithPriority",2,3,arguments.length),rp("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(NT("setWithPriority",e._path),ET("setWithPriority",t,e._path,!1),xT("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new xf;return YT(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){tp("Reference.remove",0,1,arguments.length),rp("Reference.remove","onComplete",e,!0);const t=function(e){return NT("remove",e._path),IC(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){tp("Reference.transaction",1,3,arguments.length),rp("Reference.transaction","transactionUpdate",e,!1),rp("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(np(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=dE(this._delegate,e,{applyLocally:n}).then((e=>new mE(e.committed,new vE(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){tp("Reference.setPriority",1,2,arguments.length),rp("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=op(e),NT("setPriority",e._path),xT("setPriority",t,!1);const n=new xf;return YT(e._repo,ay(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){tp("Reference.push",0,2,arguments.length),rp("Reference.push","onComplete",t,!0);const n=function(e,t){e=op(e),NT("push",e._path),ET("push",t,e._path,!0);const n=qT(e._repo),r=pC(n),i=xC(e,r),s=xC(e,r);let o;return o=null!=t?IC(s,t).then((()=>s)):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),r=n.then((e=>new yE(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const i=new yE(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return NT("Reference.onDisconnect",this._delegate._path),new gE(new _C(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wE{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:sE,forceLongPolling:oE}}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};aE(this._delegate,e,t,n)}ref(e){if(tp("database.ref",0,1,arguments.length),e instanceof yE){const t=SC(this._delegate,e.toString());return new yE(this,t)}{const t=kC(this._delegate,e);return new yE(this,t)}}refFromURL(e){tp("database.refFromURL",1,1,arguments.length);const t=SC(this._delegate,e);return new yE(this,t)}goOffline(){return tp("database.goOffline",0,0,arguments.length),function(e){(e=op(e))._checkNotDeleted("goOffline"),ZT(e._repo)}(this._delegate)}goOnline(){return tp("database.goOnline",0,0,arguments.length),lE(this._delegate)}}wE.ServerValue={TIMESTAMP:uE,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var bE=Object.freeze({__proto__:null,initStandalone:function(e){let{app:t,url:n,version:r,customAuthImpl:i,customAppCheckImpl:s,namespace:o,nodeAdmin:a=!1}=e;Qv(r);const l=new up("database-standalone"),c=new cp("auth-internal",l);let u;return c.setComponent(new ap("auth-internal",(()=>i),"PRIVATE")),s&&(u=new cp("app-check-internal",l),u.setComponent(new ap("app-check-internal",(()=>s),"PRIVATE"))),{instance:new wE(nE(t,c,u,n,a),t),namespace:o}}});const TE=wE.ServerValue;var CE;(CE=$g).INTERNAL.registerComponent(new ap("database-compat",((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new wE(i,r)}),"PUBLIC").setServiceProps({Reference:yE,Query:_E,Database:wE,DataSnapshot:vE,enableLogging:cE,INTERNAL:bE,ServerValue:TE}).setMultipleInstances(!0)),CE.registerVersion("@firebase/database-compat","1.0.5");function EE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SE=kE,xE=new Ff("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),IE=new vp("@firebase/auth");function PE(e){if(IE.logLevel<=dp.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];IE.error("Auth (".concat(Sg,"): ").concat(e),...n)}}function RE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ME(e,...n)}function NE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ME(e,...n)}function OE(e,t,n){const r=Object.assign(Object.assign({},SE()),{[t]:n});return new Ff("auth","Firebase",r).create(t,{appName:e.name})}function AE(e){return OE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DE(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&RE(e,"argument-error"),OE(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ME(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return xE.create(e,...n)}function LE(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ME(t,...r)}}function FE(e){const t="INTERNAL ASSERTION FAILED: "+e;throw PE(t),new Error(t)}function UE(e,t){e||FE(t)}function zE(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function VE(){return"http:"===jE()||"https:"===jE()}function jE(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function BE(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(VE()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class qE{constructor(e,t){this.shortDelay=e,this.longDelay=t,UE(t>e,"Short delay should be less than long delay!"),this.isMobile=Rf()||Of()}get(){return BE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function WE(e,t){UE(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class HE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void FE("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void FE("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void FE("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},GE=new qE(3e4,6e4);function QE(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function YE(e,t,n,r){return XE(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Qf(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),HE.fetch()(JE(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function XE(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},KE),t);try{const t=new ek(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw tk(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw tk(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw tk(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw tk(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw OE(e,a,o);RE(e,a)}}catch(Hr){if(Hr instanceof Lf)throw Hr;RE(e,"network-request-failed",{message:String(Hr)})}}async function $E(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await YE(e,t,n,r,i);return"mfaPendingCredential"in s&&RE(e,"multi-factor-auth-required",{_serverResponse:s}),s}function JE(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?WE(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ZE(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ek{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(NE(this.auth,"network-request-failed"))),GE.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function tk(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=NE(e,t,r);return i.customData._tokenResponse=n,i}function nk(e){return void 0!==e&&void 0!==e.enterprise}class rk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZE(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function ik(e,t){return YE(e,"GET","/v2/recaptchaConfig",QE(e,t))}async function sk(e,t){return YE(e,"POST","/v1/accounts:lookup",t)}function ok(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Hr){}}function ak(e){return 1e3*Number(e)}function lk(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return PE("JWT malformed, contained fewer than 3 sections"),null;try{const e=yf(n);return e?JSON.parse(e):(PE("Failed to decode base64 JWT payload"),null)}catch(Hr){return PE("Caught error parsing JWT payload as JSON",null===Hr||void 0===Hr?void 0:Hr.toString()),null}}function ck(e){const t=lk(e);return LE(t,"internal-error"),LE("undefined"!==typeof t.exp,"internal-error"),LE("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function uk(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Hr){throw Hr instanceof Lf&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Hr)&&e.auth.currentUser===e&&await e.auth.signOut(),Hr}}class hk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Hr){return void((null===Hr||void 0===Hr?void 0:Hr.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class dk{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ok(this.lastLoginAt),this.creationTime=ok(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fk(e){var t;const n=e.auth,r=await e.getIdToken(),i=await uk(e,sk(n,{idToken:r}));LE(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?pk(s.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dk(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,h)}function pk(e){return e.map((e=>{var{providerId:t}=e,n=EE(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class gk{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){LE(e.idToken,"internal-error"),LE("undefined"!==typeof e.idToken,"internal-error"),LE("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ck(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){LE(0!==e.length,"internal-error");const t=ck(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(LE(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await XE(e,{},(async()=>{const n=Qf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=JE(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",HE.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new gk;return n&&(LE("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(LE("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(LE("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gk,this.toJSON())}_performRefresh(){return FE("not implemented")}}function mk(e,t){LE("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class vk{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=EE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new dk(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await uk(this,this.stsTokenManager.getToken(this.auth,e));return LE(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=op(e),r=await n.getIdToken(t),i=lk(r);LE(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ok(ak(i.auth_time)),issuedAtTime:ok(ak(i.iat)),expirationTime:ok(ak(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=op(e);await fk(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(LE(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vk(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){LE(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await fk(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bg(this.auth.app))return Promise.reject(AE(this.auth));const e=await this.getIdToken();return await uk(this,async function(e,t){return YE(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:y,isAnonymous:w,providerData:b,stsTokenManager:T}=t;LE(_&&T,e,"internal-error");const C=gk.fromJSON(this.name,T);LE("string"===typeof _,e,"internal-error"),mk(u,e.name),mk(h,e.name),LE("boolean"===typeof y,e,"internal-error"),LE("boolean"===typeof w,e,"internal-error"),mk(d,e.name),mk(f,e.name),mk(p,e.name),mk(g,e.name),mk(m,e.name),mk(v,e.name);const E=new vk({uid:_,auth:e,email:h,emailVerified:y,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:C,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(E.providerData=b.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new gk;r.updateFromServerResponse(t);const i=new vk({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await fk(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];LE(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?pk(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new gk;o.updateFromIdToken(n);const a=new vk({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new dk(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const _k=new Map;function yk(e){UE(e instanceof Function,"Expected a class definition");let t=_k.get(e);return t?(UE(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_k.set(e,t),t)}class wk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wk.type="NONE";const bk=wk;function Tk(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ck{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Tk(this.userKey,r.apiKey,i),this.fullPersistenceKey=Tk("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vk._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ck(yk(bk),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||yk(bk);const s=Tk(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=vk._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Ck(i,e,n)):new Ck(i,e,n)}}function Ek(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ik(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rk(t))return"Blackberry";if(Nk(t))return"Webos";if(Sk(t))return"Safari";if((t.includes("chrome/")||xk(t))&&!t.includes("edge/"))return"Chrome";if(Pk(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function kk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf();return/firefox\//i.test(e)}function Sk(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf();return/crios\//i.test(e)}function Ik(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf();return/iemobile/i.test(e)}function Pk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf();return/android/i.test(e)}function Rk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf();return/blackberry/i.test(e)}function Nk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf();return/webos/i.test(e)}function Ok(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ak(){return function(){const e=Pf();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Dk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf();return Ok(e)||Pk(e)||Nk(e)||Rk(e)||/windows phone/i.test(e)||Ik(e)}function Mk(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ek(Pf());break;case"Worker":t="".concat(Ek(Pf()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sg,"/").concat(r)}class Lk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Hr){r(Hr)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Hr){t.reverse();for(const n of t)try{n()}catch(fi){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Hr||void 0===Hr?void 0:Hr.message})}}}class Fk{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Uk{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vk(this),this.idTokenSubscription=new Vk(this),this.beforeStateQueue=new Lk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yk(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ck.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Hr){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await sk(this,{idToken:e}),n=await vk._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bg(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Hr){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Hr)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return LE(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Hr){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fk(e)}catch(Hr){if((null===Hr||void 0===Hr?void 0:Hr.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bg(this.app))return Promise.reject(AE(this));const t=e?op(e):null;return t&&LE(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&LE(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return bg(this.app)?Promise.reject(AE(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bg(this.app)?Promise.reject(AE(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(yk(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return YE(e,"GET","/v2/passwordPolicy",QE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Fk(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ff("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return YE(e,"POST","/v2/accounts:revokeToken",QE(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yk(e)||this._popupRedirectResolver;LE(t,this,"argument-error"),this.redirectPersistenceManager=await Ck.create(this,[yk(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(LE(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return LE(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(IE.logLevel<=dp.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];IE.warn("Auth (".concat(Sg,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function zk(e){return op(e)}class Vk{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jf((e=>this.observer=e))}get next(){return LE(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jk={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bk(e){return jk.loadJS(e)}function qk(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Wk{constructor(e){this.type="recaptcha-enterprise",this.auth=zk(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;nk(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ik(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new rk(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&nk(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=jk.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Bk(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Hk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Wk(e);let s;try{s=await i.verify(n)}catch(c_){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Kk(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hk(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hk(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Gk(e,t,n){const r=zk(e);LE(r._canInitEmulator,r,"emulator-config-failed"),LE(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Qk(t),{host:o,port:a}=function(e){const t=Qk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Yk(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Yk(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yk(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Xk{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return FE("not implemented")}_getIdTokenResponse(e){return FE("not implemented")}_linkToIdToken(e,t){return FE("not implemented")}_getReauthenticationResolver(e){return FE("not implemented")}}async function $k(e,t){return YE(e,"POST","/v1/accounts:signUp",t)}async function Jk(e,t){return $E(e,"POST","/v1/accounts:signInWithPassword",QE(e,t))}class Zk extends Xk{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Zk(e,t,"password")}static _fromEmailAndCode(e,t){return new Zk(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Kk(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Jk);case"emailLink":return async function(e,t){return $E(e,"POST","/v1/accounts:signInWithEmailLink",QE(e,t))}(e,{email:this._email,oobCode:this._password});default:RE(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Kk(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$k);case"emailLink":return async function(e,t){return $E(e,"POST","/v1/accounts:signInWithEmailLink",QE(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:RE(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eS(e,t){return $E(e,"POST","/v1/accounts:signInWithIdp",QE(e,t))}class tS extends Xk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tS(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):RE("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=EE(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new tS(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return eS(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,eS(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,eS(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qf(t)}return e}}const nS={USER_NOT_FOUND:"user-not-found"};class rS extends Xk{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new rS({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new rS({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return $E(e,"POST","/v1/accounts:signInWithPhoneNumber",QE(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await $E(e,"POST","/v1/accounts:signInWithPhoneNumber",QE(e,t));if(n.temporaryProof)throw tk(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return $E(e,"POST","/v1/accounts:signInWithPhoneNumber",QE(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),nS)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new rS({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class iS{constructor(e){var t,n,r,i,s,o;const a=Yf(Xf(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);LE(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Yf(Xf(e)).link,n=t?Yf(Xf(t)).deep_link_id:null,r=Yf(Xf(e)).deep_link_id;return(r?Yf(Xf(r)).link:null)||r||n||t||e}(e);try{return new iS(t)}catch(n){return null}}}class sS{constructor(){this.providerId=sS.PROVIDER_ID}static credential(e,t){return Zk._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=iS.parseLink(t);return LE(n,"argument-error"),Zk._fromEmailAndCode(e,n.code,n.tenantId)}}sS.PROVIDER_ID="password",sS.EMAIL_PASSWORD_SIGN_IN_METHOD="password",sS.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class aS extends oS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lS extends aS{constructor(){super("facebook.com")}static credential(e){return tS._fromParams({providerId:lS.PROVIDER_ID,signInMethod:lS.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lS.credentialFromTaggedObject(e)}static credentialFromError(e){return lS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lS.credential(t.oauthAccessToken)}catch(n){return null}}}lS.FACEBOOK_SIGN_IN_METHOD="facebook.com",lS.PROVIDER_ID="facebook.com";class cS extends aS{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tS._fromParams({providerId:cS.PROVIDER_ID,signInMethod:cS.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cS.credentialFromTaggedObject(e)}static credentialFromError(e){return cS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return cS.credential(n,r)}catch(i){return null}}}cS.GOOGLE_SIGN_IN_METHOD="google.com",cS.PROVIDER_ID="google.com";class uS extends aS{constructor(){super("github.com")}static credential(e){return tS._fromParams({providerId:uS.PROVIDER_ID,signInMethod:uS.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uS.credentialFromTaggedObject(e)}static credentialFromError(e){return uS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return uS.credential(t.oauthAccessToken)}catch(n){return null}}}uS.GITHUB_SIGN_IN_METHOD="github.com",uS.PROVIDER_ID="github.com";class hS extends aS{constructor(){super("twitter.com")}static credential(e,t){return tS._fromParams({providerId:hS.PROVIDER_ID,signInMethod:hS.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hS.credentialFromTaggedObject(e)}static credentialFromError(e){return hS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return hS.credential(n,r)}catch(i){return null}}}hS.TWITTER_SIGN_IN_METHOD="twitter.com",hS.PROVIDER_ID="twitter.com";class dS{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await vk._fromIdTokenResponse(e,n,r),s=fS(n);return new dS({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=fS(n);return new dS({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function fS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class pS extends Lf{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,pS.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new pS(e,t,n,r)}}function gS(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw pS._fromErrorAndOperation(e,n,t,r);throw n}))}async function mS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await uk(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dS._forOperation(e,"link",r)}async function vS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(bg(r.app))return Promise.reject(AE(r));const i="reauthenticate";try{const s=await uk(e,gS(r,i,t,e),n);LE(s.idToken,r,"internal-error");const o=lk(s.idToken);LE(o,r,"internal-error");const{sub:a}=o;return LE(e.uid===a,r,"user-mismatch"),dS._forOperation(e,i,s)}catch(Hr){throw(null===Hr||void 0===Hr?void 0:Hr.code)==="auth/".concat("user-not-found")&&RE(r,"user-mismatch"),Hr}}async function _S(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bg(e.app))return Promise.reject(AE(e));const r="signIn",i=await gS(e,r,t),s=await dS._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const yS="__sak";class wS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yS,"1"),this.storage.removeItem(yS),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class bS extends wS{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Pf();return Sk(e)||Ok(e)}()&&function(){try{return!(!window||window===window.top)}catch(Hr){return!1}}(),this.fallbackToPolling=Dk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ak()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bS.type="LOCAL";const TS=bS;class CS extends wS{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CS.type="SESSION";const ES=CS;class kS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new kS(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function SS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}kS.receivers=[];class xS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=SS("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function IS(){return window}function PS(){return"undefined"!==typeof IS().WorkerGlobalScope&&"function"===typeof IS().importScripts}const RS="firebaseLocalStorageDb",NS="firebaseLocalStorage",OS="fbase_key";class AS{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function DS(e,t){return e.transaction([NS],t?"readwrite":"readonly").objectStore(NS)}function MS(){const e=indexedDB.open(RS,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(NS,{keyPath:OS})}catch(Hr){n(Hr)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(NS)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(RS);return new AS(e).toPromise()}(),t(await MS()))}))}))}async function LS(e,t,n){const r=DS(e,!0).put({[OS]:t,value:n});return new AS(r).toPromise()}function FS(e,t){const n=DS(e,!0).delete(t);return new AS(n).toPromise()}class US{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await MS()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Hr){if(t++>3)throw Hr;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kS._getInstance(PS()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new xS(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await MS();return await LS(e,yS,"1"),await FS(e,yS),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>LS(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=DS(e,!1).get(t),r=await new AS(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>FS(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=DS(e,!1).getAll();return new AS(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}US.type="LOCAL";const zS=US;qk("rcb"),new qE(3e4,6e4);const VS="recaptcha";async function jS(e,t,n){var r;const i=await n.verify();try{let s;if(LE("string"===typeof i,e,"argument-error"),LE(n.type===VS,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){LE("enroll"===t.type,e,"internal-error");const n=await function(e,t){return YE(e,"POST","/v2/accounts/mfaEnrollment:start",QE(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{LE("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;LE(n,e,"missing-multi-factor-info");const o=await function(e,t){return YE(e,"POST","/v2/accounts/mfaSignIn:start",QE(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return YE(e,"POST","/v1/accounts:sendVerificationCode",QE(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class BS{constructor(e){this.providerId=BS.PROVIDER_ID,this.auth=zk(e)}verifyPhoneNumber(e,t){return jS(this.auth,e,op(t))}static credential(e,t){return rS._fromVerification(e,t)}static credentialFromResult(e){const t=e;return BS.credentialFromTaggedObject(t)}static credentialFromError(e){return BS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?rS._fromTokenResponse(n,r):null}}function qS(e,t){return t?yk(t):(LE(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}BS.PROVIDER_ID="phone",BS.PHONE_SIGN_IN_METHOD="phone";class WS extends Xk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eS(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eS(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eS(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HS(e){return _S(e.auth,new WS(e),e.bypassAuthState)}function KS(e){const{auth:t,user:n}=e;return LE(n,t,"internal-error"),vS(n,new WS(e),e.bypassAuthState)}async function GS(e){const{auth:t,user:n}=e;return LE(n,t,"internal-error"),mS(n,new WS(e),e.bypassAuthState)}class QS{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Hr){this.reject(Hr)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(Hr){this.reject(Hr)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HS;case"linkViaPopup":case"linkViaRedirect":return GS;case"reauthViaPopup":case"reauthViaRedirect":return KS;default:RE(this.auth,"internal-error")}}resolve(e){UE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){UE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YS=new qE(2e3,1e4);class XS extends QS{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,XS.currentPopupAction&&XS.currentPopupAction.cancel(),XS.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return LE(e,this.auth,"internal-error"),e}async onExecution(){UE(1===this.filter.length,"Popup operations only handle one event");const e=SS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(NE(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(NE(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,XS.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(NE(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,YS.get())};e()}}XS.currentPopupAction=null;const $S="pendingRedirect",JS=new Map;class ZS extends QS{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=JS.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=nx(t),r=tx(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(Hr){e=()=>Promise.reject(Hr)}JS.set(this.auth._key(),e)}return this.bypassAuthState||JS.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ex(e,t){JS.set(e._key(),t)}function tx(e){return yk(e._redirectPersistence)}function nx(e){return Tk($S,e.config.apiKey,e.name)}async function rx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(bg(e.app))return Promise.reject(AE(e));const r=zk(e),i=qS(r,t),s=new ZS(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class ix{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ox(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ox(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(NE(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sx(e))}saveEventToCache(e){this.cachedEventUids.add(sx(e)),this.lastProcessedEventTime=Date.now()}}function sx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ox(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ax=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lx=/^https?/;async function cx(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return YE(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ux(r))return}catch(n){}RE(e,"unauthorized-domain")}function ux(e){const t=zE(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!lx.test(n))return!1;if(ax.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hx=new qE(3e4,6e4);function dx(){const e=IS().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fx(e){return new Promise(((t,n)=>{var r,i,s;function o(){dx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dx(),n(NE(e,"network-request-failed"))},timeout:hx.get()})}if(null===(i=null===(r=IS().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=IS().gapi)||void 0===s?void 0:s.load)){const t=qk("iframefcb");return IS()[t]=()=>{gapi.load?o():n(NE(e,"network-request-failed"))},Bk("".concat(jk.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw px=null,e}))}let px=null;const gx=new qE(5e3,15e3),mx="__/auth/iframe",vx="emulator/auth/iframe",_x={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wx(e){const t=e.config;LE(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?WE(t,vx):"https://".concat(e.config.authDomain,"/").concat(mx),r={apiKey:t.apiKey,appName:e.name,v:Sg},i=yx.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Qf(r).slice(1))}async function bx(e){const t=await function(e){return px=px||fx(e),px}(e),n=IS().gapi;return LE(n,e,"internal-error"),t.open({where:document.body,url:wx(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_x,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=NE(e,"network-request-failed"),s=IS().setTimeout((()=>{r(i)}),gx.get());function o(){IS().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Tx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Hr){}}}function Ex(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Tx),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pf().toLowerCase();n&&(a=xk(c)?"_blank":n),kk(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ok(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pf())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Cx(null);const h=window.open(t||"",a,u);LE(h,e,"popup-blocked");try{h.focus()}catch(Hr){}return new Cx(h)}const kx="__/auth/handler",Sx="emulator/auth/handler",xx=encodeURIComponent("fac");async function Ix(e,t,n,r,i,s){LE(e.config.authDomain,e,"auth-domain-config-required"),LE(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sg,eventId:i};if(t instanceof oS){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Wf(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof aS){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(xx,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(kx);return WE(t,Sx)}(e),"?").concat(Qf(a).slice(1)).concat(c)}const Px="webStorageSupport";const Rx=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=rx,this._overrideRedirectResult=ex}async _openPopup(e,t,n,r){var i;UE(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ex(e,await Ix(e,t,n,zE(),r),SS())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){IS().location.href=e}(await Ix(e,t,n,zE(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(UE(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await bx(e),n=new ix(e);return t.register("authEvent",(t=>{LE(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Px,{type:Px},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Px];void 0!==i&&t(!!i),RE(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Dk()||Sk()||Ok()}};var Nx="@firebase/auth",Ox="1.7.4";class Ax{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){LE(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Dx=Sf("authIdTokenMaxAge")||300;let Mx=null;var Lx;!function(e){jk=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=NE("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Lx="Browser",vg(new ap("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;LE(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Lx,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mk(Lx)},c=new Uk(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yk);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),vg(new ap("auth-internal",(e=>(e=>new Ax(e))(zk(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Og(Nx,Ox,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Lx)),Og(Nx,Ox,"esm2017");var Fx,Ux,zx="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Vx={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(a,a);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=_(n,1),s=_(r,1);for(r=_(r,2),n=_(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=_(r,1),n=_(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);h(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new g(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function _(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),g=e.i(s)>>>16,m=65535&e.i(s);n[2*i+2*s]+=f*m,p(n,2*i+2*s),n[2*i+2*s+1]+=l*m,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*g,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ux=Vx.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Fx=Vx.Integer=r}).apply("undefined"!==typeof zx?zx:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var jx,Bx,qx,Wx,Hx,Kx,Gx,Qx,Yx,Xx="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},$x={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Xx&&Xx];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function _(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function y(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function T(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,I=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);x=()=>{e.then(N)}};var N=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(ei){C(ei)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function O(){this.s=this.s,this.C=this.C}function A(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(ei){}return e}();function M(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var i=!0;break e}catch(oi){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,A);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),U=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}j.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=q(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new z(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),H={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[W]=l=new j(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):V(e)}}}function $(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[W])instanceof j?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new j(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new A(t,e);else if(t instanceof A)t.target=t.target||e;else{var i=t;b(t=new A(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,O),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}h(le,O);var ce=[];function ue(e){_(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _e(){A.call(this,"d")}function ye(){A.call(this,"c")}h(_e,A),h(ye,A);var we={},be=null;function Te(){return be=be||new ne}function Ce(e){A.call(this,we.La,e)}function Ee(e){const t=Te();re(t,new Ce(t))}function ke(e,t){A.call(this,we.STAT_EVENT,e),this.stat=t}function Se(e){const t=Te();re(t,new ke(t,e))}function xe(e,t){A.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Pe(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(ai){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Ce,A),we.STAT_EVENT="statevent",h(ke,A),we.Ma="timingevent",h(xe,A),Pe.prototype.xa=function(){this.g=!1},Pe.prototype.info=function(){};var Ne,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ne=new De;var Fe={},Ue={};function ze(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?y(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||an(e.j,e)}function Ge(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Zr){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}nn(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(Zr){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(He(a),qe(a)),r.g=o}else tn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(Zr){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=d||7==t||Ee(),He(this);var n=this.g.Z();this.X=n;t:if(je(this)){var r=Ht(this.g);e="";var s=r.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ge(this),Ke(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Ue){4==d&&(this.s=4,Se(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Se(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Qe(this,e)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(h),h.M=!0,Se(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Re(this.i,this.l,a,null),Qe(this,a);4==d&&Ge(this),this.o&&!this.J&&(4==d?an(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=T(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ge(this),Ke(this)}}}catch(di){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),Se(17)),Ge(this),this.s=2,Ke(this)):We(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(bt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tt(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,_t)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:mt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,yt)),e.join("")};var gt=/[#\/\?@]/g,mt=/[#\?:]/g,vt=/[#\?]/g,_t=/[#\?@]/g,yt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tt(e,t){bt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return bt(e),t=kt(e,t),e.g.has(t)}function Et(e,t,n){Tt(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),d(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(oi){}}function xt(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Hr){throw t.push(r+"type="+encodeURIComponent("_badmap")),Hr}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Rt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return _(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){bt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){bt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){bt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){bt(this);let t=[];if("string"===typeof e)Ct(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return bt(this),this.i=null,Ct(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Pt,pe),Pt.prototype.g=function(){return new Rt(this.l,this.j)},Pt.prototype.i=function(e){return function(){return e}}({}),h(Rt,ne),(e=Rt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):At(this),3==this.readyState&&Nt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Lt,ne);var Ft=/^https?$/i,Ut=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Bt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function jt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ft.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(ai){a=""}e.l=a+" ["+e.Z()+"]",Vt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Hr){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(hi){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new xt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(ti){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function $t(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;x||R(),I||(x(),I=!0),P.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function Zt(e,t){e.H&&_(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{It(a,e,"req"+n+"_")}catch(di){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;x||R(),I||(x(),I=!0),P.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Te(),new xe(r,n)),$t(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Pe;if(i.Image){const r=new Image;r.onload=u(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(St,n,"TestLoadImage: error",!1,t,r),r.onabort=u(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(St,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Pe;const n=new AbortController,r=setTimeout((()=>{n.abort(),St(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)})).catch((()=>{clearTimeout(r),St(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),un(e),Xt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Zt(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new Pt({eb:n})):new Lt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _n(this)}function mn(e){_e.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){ye.call(this),this.status=1}function _n(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?ge(this.o):ge(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(oi){return void zt(this,oi)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(oi){zt(this,oi)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?jt(this):this.bb())},e.bb=function(){jt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch($r){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch($r){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let s=this.o;if(this.S&&(s?(s=y(s),b(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||$e(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&$t(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},h(mn,_e),h(vn,ye),h(_n,fn),_n.prototype.ua=function(){re(this.g,"a")},_n.prototype.ta=function(e){re(this.g,new mn(e))},_n.prototype.sa=function(e){re(this.g,new vn)},_n.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Yx=$x.createWebChannelTransport=function(){return new pn},Qx=$x.getStatEventTarget=function(){return Te()},Gx=$x.Event=we,Kx=$x.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Hx=$x.ErrorCode=Oe,Ae.COMPLETE="complete",Wx=$x.EventType=Ae,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,qx=$x.WebChannel=me,Bx=$x.FetchXmlHttpFactory=Pt,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,jx=$x.XhrIo=Lt}).apply("undefined"!==typeof Xx?Xx:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Jx="@firebase/firestore";class Zx{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zx.UNAUTHENTICATED=new Zx(null),Zx.GOOGLE_CREDENTIALS=new Zx("google-credentials-uid"),Zx.FIRST_PARTY=new Zx("first-party-uid"),Zx.MOCK_USER=new Zx("mock-user");let eI="10.12.1";const tI=new vp("@firebase/firestore");function nI(){return tI.logLevel}function rI(e){if(tI.logLevel<=dp.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(oI);tI.debug("Firestore (".concat(eI,"): ").concat(e),...i)}}function iI(e){if(tI.logLevel<=dp.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(oI);tI.error("Firestore (".concat(eI,"): ").concat(e),...i)}}function sI(e){if(tI.logLevel<=dp.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(oI);tI.warn("Firestore (".concat(eI,"): ").concat(e),...i)}}function oI(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Kr){return e}}function aI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(eI,") INTERNAL ASSERTION FAILED: ")+e;throw iI(t),new Error(t)}function lI(e,t){e||aI()}function cI(e,t){return e}const uI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hI extends Lf{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class dI{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class fI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class pI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zx.UNAUTHENTICATED)))}shutdown(){}}class gI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class mI{constructor(e){this.t=e,this.currentUser=Zx.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new dI;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new dI,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{rI("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(rI("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new dI)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(rI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(lI("string"==typeof t.accessToken),new fI(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lI(null===e||"string"==typeof e),new Zx(e)}}class vI{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Zx.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _I{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new vI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Zx.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&rI("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,rI("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{rI("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):rI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(lI("string"==typeof e.token),this.R=e.token,new yI(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bI(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class TI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=bI(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function CI(e,t){return e<t?-1:e>t?1:0}function EI(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class kI{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new hI(uI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new hI(uI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new hI(uI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new hI(uI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kI.fromMillis(Date.now())}static fromDate(e){return kI.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new kI(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?CI(this.nanoseconds,e.nanoseconds):CI(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class SI{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SI(e)}static min(){return new SI(new kI(0,0))}static max(){return new SI(new kI(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xI{constructor(e,t,n){void 0===t?t=0:t>e.length&&aI(),void 0===n?n=e.length-t:n>e.length-t&&aI(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===xI.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xI?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class II extends xI{construct(e,t,n){return new II(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new hI(uI.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new II(e)}static emptyPath(){return new II([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class RI extends xI{construct(e,t,n){return new RI(e,t,n)}static isValidIdentifier(e){return PI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),RI.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new RI(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new hI(uI.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new hI(uI.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new hI(uI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new hI(uI.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new RI(t)}static emptyPath(){return new RI([])}}class NI{constructor(e){this.path=e}static fromPath(e){return new NI(II.fromString(e))}static fromName(e){return new NI(II.fromString(e).popFirst(5))}static empty(){return new NI(II.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===II.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return II.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new NI(new II(e.slice()))}}class OI{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}OI.UNKNOWN_ID=-1;function AI(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=SI.fromTimestamp(1e9===r?new kI(n+1,0):new kI(n,r));return new MI(i,NI.empty(),t)}function DI(e){return new MI(e.readTime,e.key,-1)}class MI{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new MI(SI.min(),NI.empty(),-1)}static max(){return new MI(SI.max(),NI.empty(),-1)}}function LI(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=NI.comparator(e.documentKey,t.documentKey),0!==n?n:CI(e.largestBatchId,t.largestBatchId))}const FI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zI(e){if(e.code!==uI.FAILED_PRECONDITION||e.message!==FI)throw e;rI("LocalStore","Unexpectedly lost primary lease")}class VI{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&aI(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new VI(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof VI?t:VI.resolve(t)}catch(e){return VI.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):VI.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):VI.reject(t)}static resolve(e){return new VI(((t,n)=>{t(e)}))}static reject(e){return new VI(((t,n)=>{n(e)}))}static waitFor(e){return new VI(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=VI.resolve(!1);for(const n of e)t=t.next((e=>e?VI.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new VI(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new VI(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function jI(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function BI(e){return"IndexedDbTransactionError"===e.name}class qI{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function WI(e){return null==e}function HI(e){return 0===e&&1/e==-1/0}function KI(e){return"number"==typeof e&&Number.isInteger(e)&&!HI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}qI.oe=-1;const GI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],QI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YI=QI;function XI(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $I(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function JI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ZI{constructor(e,t){this.comparator=e,this.root=t||tP.EMPTY}insert(e,t){return new ZI(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tP.BLACK,null,null))}remove(e){return new ZI(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tP.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eP(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eP(this.root,e,this.comparator,!1)}getReverseIterator(){return new eP(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eP(this.root,e,this.comparator,!0)}}class eP{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tP{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:tP.RED,this.left=null!=r?r:tP.EMPTY,this.right=null!=i?i:tP.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new tP(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tP.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return tP.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tP.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tP.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw aI();if(this.right.isRed())throw aI();const e=this.left.check();if(e!==this.right.check())throw aI();return e+(this.isRed()?0:1)}}tP.EMPTY=null,tP.RED=!0,tP.BLACK=!1,tP.EMPTY=new class{constructor(){this.size=0}get key(){throw aI()}get value(){throw aI()}get color(){throw aI()}get left(){throw aI()}get right(){throw aI()}copy(e,t,n,r,i){return this}insert(e,t,n){return new tP(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nP{constructor(e){this.comparator=e,this.data=new ZI(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rP(this.data.getIterator())}getIteratorFrom(e){return new rP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof nP))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nP(this.comparator);return t.data=e,t}}class rP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class iP{constructor(e){this.fields=e,e.sort(RI.comparator)}static empty(){return new iP([])}unionWith(e){let t=new nP(RI.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new iP(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return EI(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class sP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class oP{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new sP("Invalid base64 string: "+e):e}}(e);return new oP(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new oP(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return CI(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oP.EMPTY_BYTE_STRING=new oP("");const aP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lP(e){if(lI(!!e),"string"==typeof e){let t=0;const n=aP.exec(e);if(lI(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:cP(e.seconds),nanos:cP(e.nanos)}}function cP(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function uP(e){return"string"==typeof e?oP.fromBase64String(e):oP.fromUint8Array(e)}function hP(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dP(e){const t=e.mapValue.fields.__previous_value__;return hP(t)?dP(t):t}function fP(e){const t=lP(e.mapValue.fields.__local_write_time__.timestampValue);return new kI(t.seconds,t.nanos)}class pP{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class gP{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gP("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gP&&e.projectId===this.projectId&&e.database===this.database}}const mP={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vP(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hP(e)?4:RP(e)?9007199254740991:10:aI()}function _P(e,t){if(e===t)return!0;const n=vP(e);if(n!==vP(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fP(e).isEqual(fP(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=lP(e.timestampValue),r=lP(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return uP(e.bytesValue).isEqual(uP(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cP(e.geoPointValue.latitude)===cP(t.geoPointValue.latitude)&&cP(e.geoPointValue.longitude)===cP(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cP(e.integerValue)===cP(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=cP(e.doubleValue),r=cP(t.doubleValue);return n===r?HI(n)===HI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return EI(e.arrayValue.values||[],t.arrayValue.values||[],_P);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(XI(n)!==XI(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_P(n[i],r[i])))return!1;return!0}(e,t);default:return aI()}}function yP(e,t){return void 0!==(e.values||[]).find((e=>_P(e,t)))}function wP(e,t){if(e===t)return 0;const n=vP(e),r=vP(t);if(n!==r)return CI(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return CI(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=cP(e.integerValue||e.doubleValue),r=cP(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bP(e.timestampValue,t.timestampValue);case 4:return bP(fP(e),fP(t));case 5:return CI(e.stringValue,t.stringValue);case 6:return function(e,t){const n=uP(e),r=uP(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=CI(n[i],r[i]);if(0!==e)return e}return CI(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=CI(cP(e.latitude),cP(t.latitude));return 0!==n?n:CI(cP(e.longitude),cP(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=wP(n[i],r[i]);if(e)return e}return CI(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===mP.mapValue&&t===mP.mapValue)return 0;if(e===mP.mapValue)return 1;if(t===mP.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=CI(r[o],s[o]);if(0!==e)return e;const t=wP(n[r[o]],i[s[o]]);if(0!==t)return t}return CI(r.length,s.length)}(e.mapValue,t.mapValue);default:throw aI()}}function bP(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return CI(e,t);const n=lP(e),r=lP(t),i=CI(n.seconds,r.seconds);return 0!==i?i:CI(n.nanos,r.nanos)}function TP(e){return CP(e)}function CP(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=lP(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return uP(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return NI.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=CP(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(CP(e.fields[i]));return n+"}"}(e.mapValue):aI()}function EP(e){return!!e&&"integerValue"in e}function kP(e){return!!e&&"arrayValue"in e}function SP(e){return!!e&&"nullValue"in e}function xP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function IP(e){return!!e&&"mapValue"in e}function PP(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return $I(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=PP(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=PP(e.arrayValue.values[n]);return t}return Object.assign({},e)}function RP(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class NP{constructor(e){this.value=e}static empty(){return new NP({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!IP(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=PP(t)}setAll(e){let t=RI.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=PP(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());IP(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _P(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];IP(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){$I(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new NP(PP(this.value))}}function OP(e){const t=[];return $I(e.fields,((e,n)=>{const r=new RI([e]);if(IP(n)){const e=OP(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new iP(t)}class AP{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new AP(e,0,SI.min(),SI.min(),SI.min(),NP.empty(),0)}static newFoundDocument(e,t,n,r){return new AP(e,1,t,SI.min(),n,r,0)}static newNoDocument(e,t){return new AP(e,2,t,SI.min(),SI.min(),NP.empty(),0)}static newUnknownDocument(e,t){return new AP(e,3,t,SI.min(),SI.min(),NP.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(SI.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=NP.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=NP.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SI.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof AP&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new AP(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class DP{constructor(e,t){this.position=e,this.inclusive=t}}function MP(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?NI.comparator(NI.fromName(o.referenceValue),n.key):wP(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function LP(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_P(e.position[n],t.position[n]))return!1;return!0}class FP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function UP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class zP{}class VP extends zP{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new QP(e,t,n):"array-contains"===t?new JP(e,n):"in"===t?new ZP(e,n):"not-in"===t?new eR(e,n):"array-contains-any"===t?new tR(e,n):new VP(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new YP(e,n):new XP(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wP(t,this.value)):null!==t&&vP(this.value)===vP(t)&&this.matchesComparison(wP(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return aI()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jP extends zP{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new jP(e,t)}matches(e){return BP(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BP(e){return"and"===e.op}function qP(e){return WP(e)&&BP(e)}function WP(e){for(const t of e.filters)if(t instanceof jP)return!1;return!0}function HP(e){if(e instanceof VP)return e.field.canonicalString()+e.op.toString()+TP(e.value);if(qP(e))return e.filters.map((e=>HP(e))).join(",");{const t=e.filters.map((e=>HP(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function KP(e,t){return e instanceof VP?function(e,t){return t instanceof VP&&e.op===t.op&&e.field.isEqual(t.field)&&_P(e.value,t.value)}(e,t):e instanceof jP?function(e,t){return t instanceof jP&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&KP(n,t.filters[r])),!0)}(e,t):void aI()}function GP(e){return e instanceof VP?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(TP(e.value))}(e):e instanceof jP?function(e){return e.op.toString()+" {"+e.getFilters().map(GP).join(" ,")+"}"}(e):"Filter"}class QP extends VP{constructor(e,t,n){super(e,t,n),this.key=NI.fromName(n.referenceValue)}matches(e){const t=NI.comparator(e.key,this.key);return this.matchesComparison(t)}}class YP extends VP{constructor(e,t){super(e,"in",t),this.keys=$P("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class XP extends VP{constructor(e,t){super(e,"not-in",t),this.keys=$P("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $P(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>NI.fromName(e.referenceValue)))}class JP extends VP{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kP(t)&&yP(t.arrayValue,this.value)}}class ZP extends VP{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yP(this.value.arrayValue,t)}}class eR extends VP{constructor(e,t){super(e,"not-in",t)}matches(e){if(yP(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yP(this.value.arrayValue,t)}}class tR extends VP{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kP(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>yP(this.value.arrayValue,e)))}}class nR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function rR(e){return new nR(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function iR(e){const t=cI(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>HP(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),WI(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>TP(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>TP(e))).join(",")),t.ue=e}return t.ue}function sR(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!UP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!KP(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!LP(e.startAt,t.startAt)&&LP(e.endAt,t.endAt)}function oR(e){return NI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class aR{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lR(e,t,n,r,i,s,o,a){return new aR(e,t,n,r,i,s,o,a)}function cR(e){return new aR(e)}function uR(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hR(e){return null!==e.collectionGroup}function dR(e){const t=cI(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new nP(RI.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new FP(r,n))})),e.has(RI.keyField().canonicalString())||t.ce.push(new FP(RI.keyField(),n))}return t.ce}function fR(e){const t=cI(e);return t.le||(t.le=pR(t,dR(e))),t.le}function pR(e,t){if("F"===e.limitType)return rR(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new FP(e.field,t)}));const n=e.endAt?new DP(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new DP(e.startAt.position,e.startAt.inclusive):null;return rR(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function gR(e,t,n){return new aR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mR(e,t){return sR(fR(e),fR(t))&&e.limitType===t.limitType}function vR(e){return"".concat(iR(fR(e)),"|lt:").concat(e.limitType)}function _R(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>GP(e))).join(", "),"]")),WI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>TP(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>TP(e))).join(",")),"Target(".concat(t,")")}(fR(e)),"; limitType=").concat(e.limitType,")")}function yR(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):NI.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of dR(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=MP(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dR(e),t))&&!(e.endAt&&!function(e,t,n){const r=MP(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dR(e),t))}(e,t)}function wR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bR(e){return(t,n)=>{let r=!1;for(const i of dR(e)){const e=TR(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function TR(e,t,n){const r=e.field.isKeyField()?NI.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wP(r,i):aI()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return aI()}}class CR{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){$I(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return JI(this.inner)}size(){return this.innerSize}}const ER=new ZI(NI.comparator);function kR(){return ER}const SR=new ZI(NI.comparator);function xR(){let e=SR;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function IR(e){let t=SR;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function PR(){return NR()}function RR(){return NR()}function NR(){return new CR((e=>e.toString()),((e,t)=>e.isEqual(t)))}const OR=new ZI(NI.comparator),AR=new nP(NI.comparator);function DR(){let e=AR;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const MR=new nP(CI);function LR(){return MR}function FR(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:HI(t)?"-0":t}}function UR(e){return{integerValue:""+e}}function zR(e,t){return KI(t)?UR(t):FR(e,t)}class VR{constructor(){this._=void 0}}function jR(e,t,n){return e instanceof WR?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&hP(t)&&(t=dP(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof HR?KR(e,t):e instanceof GR?QR(e,t):function(e,t){const n=qR(e,t),r=XR(n)+XR(e.Pe);return EP(n)&&EP(e.Pe)?UR(r):FR(e.serializer,r)}(e,t)}function BR(e,t,n){return e instanceof HR?KR(e,t):e instanceof GR?QR(e,t):n}function qR(e,t){return e instanceof YR?function(e){return EP(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class WR extends VR{}class HR extends VR{constructor(e){super(),this.elements=e}}function KR(e,t){const n=$R(t);for(const r of e.elements)n.some((e=>_P(e,r)))||n.push(r);return{arrayValue:{values:n}}}class GR extends VR{constructor(e){super(),this.elements=e}}function QR(e,t){let n=$R(t);for(const r of e.elements)n=n.filter((e=>!_P(e,r)));return{arrayValue:{values:n}}}class YR extends VR{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function XR(e){return cP(e.integerValue||e.doubleValue)}function $R(e){return kP(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class JR{constructor(e,t){this.version=e,this.transformResults=t}}class ZR{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ZR}static exists(e){return new ZR(void 0,e)}static updateTime(e){return new ZR(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class tN{}function nN(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dN(e.key,ZR.none()):new aN(e.key,e.data,ZR.none());{const n=e.data,r=NP.empty();let i=new nP(RI.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new lN(e.key,r,new iP(i.toArray()),ZR.none())}}function rN(e,t,n){e instanceof aN?function(e,t,n){const r=e.value.clone(),i=uN(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lN?function(e,t,n){if(!eN(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=uN(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cN(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function iN(e,t,n,r){return e instanceof aN?function(e,t,n,r){if(!eN(e.precondition,t))return n;const i=e.value.clone(),s=hN(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof lN?function(e,t,n,r){if(!eN(e.precondition,t))return n;const i=hN(e.fieldTransforms,r,t),s=t.data;return s.setAll(cN(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return eN(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sN(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=qR(r.transform,e||null);null!=i&&(null===n&&(n=NP.empty()),n.set(r.field,i))}return n||null}function oN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&EI(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof HR&&t instanceof HR||e instanceof GR&&t instanceof GR?EI(e.elements,t.elements,_P):e instanceof YR&&t instanceof YR?_P(e.Pe,t.Pe):e instanceof WR&&t instanceof WR}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class aN extends tN{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class lN extends tN{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cN(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function uN(e,t,n){const r=new Map;lI(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,BR(o,a,n[i]))}return r}function hN(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,jR(e,s,t))}return r}class dN extends tN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fN extends tN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pN{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&rN(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=iN(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=iN(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=RR();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=nN(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(SI.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),DR())}isEqual(e){return this.batchId===e.batchId&&EI(this.mutations,e.mutations,((e,t)=>oN(e,t)))&&EI(this.baseMutations,e.baseMutations,((e,t)=>oN(e,t)))}}class gN{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){lI(e.mutations.length===n.length);let r=OR;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new gN(e,t,n,r)}}class mN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class vN{constructor(e,t){this.count=e,this.unchangedNames=t}}var _N,yN;function wN(e){switch(e){default:return aI();case uI.CANCELLED:case uI.UNKNOWN:case uI.DEADLINE_EXCEEDED:case uI.RESOURCE_EXHAUSTED:case uI.INTERNAL:case uI.UNAVAILABLE:case uI.UNAUTHENTICATED:return!1;case uI.INVALID_ARGUMENT:case uI.NOT_FOUND:case uI.ALREADY_EXISTS:case uI.PERMISSION_DENIED:case uI.FAILED_PRECONDITION:case uI.ABORTED:case uI.OUT_OF_RANGE:case uI.UNIMPLEMENTED:case uI.DATA_LOSS:return!0}}function bN(e){if(void 0===e)return iI("GRPC error has no .code"),uI.UNKNOWN;switch(e){case _N.OK:return uI.OK;case _N.CANCELLED:return uI.CANCELLED;case _N.UNKNOWN:return uI.UNKNOWN;case _N.DEADLINE_EXCEEDED:return uI.DEADLINE_EXCEEDED;case _N.RESOURCE_EXHAUSTED:return uI.RESOURCE_EXHAUSTED;case _N.INTERNAL:return uI.INTERNAL;case _N.UNAVAILABLE:return uI.UNAVAILABLE;case _N.UNAUTHENTICATED:return uI.UNAUTHENTICATED;case _N.INVALID_ARGUMENT:return uI.INVALID_ARGUMENT;case _N.NOT_FOUND:return uI.NOT_FOUND;case _N.ALREADY_EXISTS:return uI.ALREADY_EXISTS;case _N.PERMISSION_DENIED:return uI.PERMISSION_DENIED;case _N.FAILED_PRECONDITION:return uI.FAILED_PRECONDITION;case _N.ABORTED:return uI.ABORTED;case _N.OUT_OF_RANGE:return uI.OUT_OF_RANGE;case _N.UNIMPLEMENTED:return uI.UNIMPLEMENTED;case _N.DATA_LOSS:return uI.DATA_LOSS;default:return aI()}}(yN=_N||(_N={}))[yN.OK=0]="OK",yN[yN.CANCELLED=1]="CANCELLED",yN[yN.UNKNOWN=2]="UNKNOWN",yN[yN.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yN[yN.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yN[yN.NOT_FOUND=5]="NOT_FOUND",yN[yN.ALREADY_EXISTS=6]="ALREADY_EXISTS",yN[yN.PERMISSION_DENIED=7]="PERMISSION_DENIED",yN[yN.UNAUTHENTICATED=16]="UNAUTHENTICATED",yN[yN.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yN[yN.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yN[yN.ABORTED=10]="ABORTED",yN[yN.OUT_OF_RANGE=11]="OUT_OF_RANGE",yN[yN.UNIMPLEMENTED=12]="UNIMPLEMENTED",yN[yN.INTERNAL=13]="INTERNAL",yN[yN.UNAVAILABLE=14]="UNAVAILABLE",yN[yN.DATA_LOSS=15]="DATA_LOSS";let TN=null;function CN(){return new TextEncoder}const EN=new Fx([4294967295,4294967295],0);function kN(e){const t=CN().encode(e),n=new Ux;return n.update(t),new Uint8Array(n.digest())}function SN(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Fx([n,r],0),new Fx([i,s],0)]}class xN{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new IN("Invalid padding: ".concat(t));if(n<0)throw new IN("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new IN("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new IN("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Fx.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Fx.fromNumber(n)));return 1===r.compare(EN)&&(r=new Fx([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=kN(e),[n,r]=SN(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new xN(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=kN(e),[n,r]=SN(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class IN extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class PN{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,RN.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new PN(SI.min(),r,new ZI(CI),kR(),DR())}}class RN{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new RN(n,t,DR(),DR(),DR())}}class NN{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class ON{constructor(e,t){this.targetId=e,this.me=t}}class AN{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oP.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class DN{constructor(){this.fe=0,this.ge=FN(),this.pe=oP.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=DR(),t=DR(),n=DR();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:aI()}})),new RN(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=FN()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,lI(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class MN{constructor(e){this.Le=e,this.Be=new Map,this.ke=kR(),this.qe=LN(),this.Qe=new ZI(CI)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:aI()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(oR(i))if(0===n){const e=new NI(i.path);this.Ue(t,e,AP.newNoDocument(e,SI.min()))}else lI(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==TN||TN.et(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=uP(n).toUint8Array()}catch(e){if(e instanceof sP)return sI("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new xN(s,r,i)}catch(e){return sI(e instanceof IN?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&oR(i.target)){const t=new NI(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,AP.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=DR();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new PN(e,t,this.Qe,this.ke,n);return this.ke=kR(),this.qe=LN(),this.Qe=new ZI(CI),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new DN,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new nP(CI),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||rI("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new DN),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function LN(){return new ZI(NI.comparator)}function FN(){return new ZI(NI.comparator)}const UN={asc:"ASCENDING",desc:"DESCENDING"},zN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VN={and:"AND",or:"OR"};class jN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function BN(e,t){return e.useProto3Json||WI(t)?t:{value:t}}function qN(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function WN(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function HN(e,t){return qN(e,t.toTimestamp())}function KN(e){return lI(!!e),SI.fromTimestamp(function(e){const t=lP(e);return new kI(t.seconds,t.nanos)}(e))}function GN(e,t){return QN(e,t).canonicalString()}function QN(e,t){const n=function(e){return new II(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function YN(e){const t=II.fromString(e);return lI(gO(t)),t}function XN(e,t){return GN(e.databaseId,t.path)}function $N(e,t){const n=YN(t);if(n.get(1)!==e.databaseId.projectId)throw new hI(uI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new hI(uI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new NI(tO(n))}function JN(e,t){return GN(e.databaseId,t)}function ZN(e){const t=YN(e);return 4===t.length?II.emptyPath():tO(t)}function eO(e){return new II(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tO(e){return lI(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function nO(e,t,n){return{name:XN(e,t),fields:n.value.mapValue.fields}}function rO(e,t){let n;if(t instanceof aN)n={update:nO(e,t.key,t.value)};else if(t instanceof dN)n={delete:XN(e,t.key)};else if(t instanceof lN)n={update:nO(e,t.key,t.data),updateMask:pO(t.fieldMask)};else{if(!(t instanceof fN))return aI();n={verify:XN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof WR)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof HR)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof GR)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof YR)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw aI()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:HN(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:aI()}(e,t.precondition)),n}function iO(e,t){return{documents:[JN(e,t.path)]}}function sO(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=JN(e,i);const s=function(e){if(0!==e.length)return fO(jP.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:hO(e.field),direction:lO(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=BN(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function oO(e){let t=ZN(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){lI(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=aO(e);return t instanceof jP&&qP(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new FP(dO(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,WI(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new DP(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new DP(n,t)}(n.endAt)),lR(t,i,o,s,a,"F",l,c)}function aO(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dO(e.unaryFilter.field);return VP.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=dO(e.unaryFilter.field);return VP.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=dO(e.unaryFilter.field);return VP.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=dO(e.unaryFilter.field);return VP.create(i,"!=",{nullValue:"NULL_VALUE"});default:return aI()}}(e):void 0!==e.fieldFilter?function(e){return VP.create(dO(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return aI()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return jP.create(e.compositeFilter.filters.map((e=>aO(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return aI()}}(e.compositeFilter.op))}(e):aI()}function lO(e){return UN[e]}function cO(e){return zN[e]}function uO(e){return VN[e]}function hO(e){return{fieldPath:e.canonicalString()}}function dO(e){return RI.fromServerFormat(e.fieldPath)}function fO(e){return e instanceof VP?function(e){if("=="===e.op){if(xP(e.value))return{unaryFilter:{field:hO(e.field),op:"IS_NAN"}};if(SP(e.value))return{unaryFilter:{field:hO(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xP(e.value))return{unaryFilter:{field:hO(e.field),op:"IS_NOT_NAN"}};if(SP(e.value))return{unaryFilter:{field:hO(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hO(e.field),op:cO(e.op),value:e.value}}}(e):e instanceof jP?function(e){const t=e.getFilters().map((e=>fO(e)));return 1===t.length?t[0]:{compositeFilter:{op:uO(e.op),filters:t}}}(e):aI()}function pO(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function gO(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class mO{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:SI.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:SI.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:oP.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new mO(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mO(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mO(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mO(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vO{constructor(e){this.ct=e}}function _O(e){const t=oO({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gR(t,t.limit,"L"):t}class yO{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(cP(e.integerValue));else if("doubleValue"in e){const n=cP(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),HI(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=lP(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(uP(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?RP(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):aI()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),NI.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}yO.bt=new yO;class wO{constructor(){this._n=new bO}addToCollectionParentIndex(e,t){return this._n.add(t),VI.resolve()}getCollectionParents(e,t){return VI.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return VI.resolve()}deleteFieldIndex(e,t){return VI.resolve()}deleteAllFieldIndexes(e){return VI.resolve()}createTargetIndexes(e,t){return VI.resolve()}getDocumentsMatchingTarget(e,t){return VI.resolve(null)}getIndexType(e,t){return VI.resolve(0)}getFieldIndexes(e,t){return VI.resolve([])}getNextCollectionGroupToUpdate(e){return VI.resolve(null)}getMinOffset(e,t){return VI.resolve(MI.min())}getMinOffsetFromCollectionGroup(e,t){return VI.resolve(MI.min())}updateCollectionGroup(e,t,n){return VI.resolve()}updateIndexEntries(e,t){return VI.resolve()}}class bO{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nP(II.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new nP(II.comparator)).toArray()}}new Uint8Array(0);class TO{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new TO(e,TO.DEFAULT_COLLECTION_PERCENTILE,TO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}TO.DEFAULT_COLLECTION_PERCENTILE=10,TO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,TO.DEFAULT=new TO(41943040,TO.DEFAULT_COLLECTION_PERCENTILE,TO.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),TO.DISABLED=new TO(-1,0,0);class CO{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new CO(0)}static Ln(){return new CO(-1)}}class EO{constructor(){this.changes=new CR((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,AP.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?VI.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class SO{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&iN(n.mutation,e,iP.empty(),kI.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,DR()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DR();const r=PR();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=xR();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=PR();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,DR())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=kR();const s=NR(),o=NR();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof lN)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),iN(o.mutation,t,o.mutation.getFieldMask(),kI.now())):s.set(t.key,iP.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new kO(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=NR();let r=new ZI(((e,t)=>e-t)),i=DR();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||iP.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||DR()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=RR();l.forEach((e=>{if(!i.has(e)){const r=nN(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return VI.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return NI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):VI.resolve(PR());let o=-1,a=i;return s.next((t=>VI.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?VI.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,DR()))).next((e=>({batchId:o,changes:IR(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new NI(t)).next((e=>{let t=xR();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=xR();return this.indexManager.getCollectionParents(e,i).next((o=>VI.forEach(o,(o=>{const a=function(e,t){return new aR(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,AP.newInvalidDocument(r)))}));let n=xR();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&iN(s.mutation,r,iP.empty(),kI.now()),yR(t,r)&&(n=n.insert(e,r))})),n}))}}class xO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return VI.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:KN(e.createTime)}}(t)),VI.resolve()}getNamedQuery(e,t){return VI.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:_O(e.bundledQuery),readTime:KN(e.readTime)}}(t)),VI.resolve()}}class IO{constructor(){this.overlays=new ZI(NI.comparator),this.hr=new Map}getOverlay(e,t){return VI.resolve(this.overlays.get(t))}getOverlays(e,t){const n=PR();return VI.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),VI.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),VI.resolve()}getOverlaysForCollection(e,t,n){const r=PR(),i=t.length+1,s=new NI(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return VI.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ZI(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=PR(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=PR(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return VI.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new mN(t,n));let i=this.hr.get(t);void 0===i&&(i=DR(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class PO{constructor(){this.Pr=new nP(RO.Ir),this.Tr=new nP(RO.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new RO(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new RO(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new NI(new II([])),n=new RO(t,e),r=new RO(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new NI(new II([])),n=new RO(t,e),r=new RO(t,e+1);let i=DR();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new RO(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class RO{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return NI.comparator(e.key,t.key)||CI(e.pr,t.pr)}static Er(e,t){return CI(e.pr,t.pr)||NI.comparator(e.key,t.key)}}class NO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new nP(RO.Ir)}checkEmpty(e){return VI.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new pN(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new RO(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return VI.resolve(s)}lookupMutationBatch(e,t){return VI.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return VI.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return VI.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return VI.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new RO(t,0),r=new RO(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),VI.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nP(CI);return t.forEach((e=>{const t=new RO(e,0),r=new RO(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),VI.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;NI.isDocumentKey(i)||(i=i.child(""));const s=new RO(new NI(i),0);let o=new nP(CI);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),VI.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){lI(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return VI.forEach(t.mutations,(r=>{const i=new RO(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new RO(t,0),r=this.wr.firstAfterOrEqual(n);return VI.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,VI.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class OO{constructor(e){this.vr=e,this.docs=new ZI(NI.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return VI.resolve(n?n.document.mutableCopy():AP.newInvalidDocument(t))}getEntries(e,t){let n=kR();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():AP.newInvalidDocument(e))})),VI.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=kR();const s=t.path,o=new NI(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||LI(DI(o),n)<=0||(r.has(o.key)||yR(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return VI.resolve(i)}getAllFromCollectionGroup(e,t,n,r){aI()}Fr(e,t){return VI.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new AO(this)}getSize(e){return VI.resolve(this.size)}}class AO extends EO{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),VI.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class DO{constructor(e){this.persistence=e,this.Mr=new CR((e=>iR(e)),sR),this.lastRemoteSnapshotVersion=SI.min(),this.highestTargetId=0,this.Or=0,this.Nr=new PO,this.targetCount=0,this.Lr=CO.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),VI.resolve()}getLastRemoteSnapshotVersion(e){return VI.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return VI.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),VI.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),VI.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new CO(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,VI.resolve()}updateTargetData(e,t){return this.qn(t),VI.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,VI.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),VI.waitFor(i).next((()=>r))}getTargetCount(e){return VI.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return VI.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),VI.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),VI.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),VI.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return VI.resolve(n)}containsKey(e,t){return VI.resolve(this.Nr.containsKey(t))}}class MO{constructor(e,t){this.Br={},this.overlays={},this.kr=new qI(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new DO(this),this.indexManager=new wO,this.remoteDocumentCache=function(e){return new OO(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new vO(t),this.$r=new xO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new NO(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){rI("MemoryPersistence","Starting transaction:",e);const r=new LO(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return VI.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class LO extends UI{constructor(e){super(),this.currentSequenceNumber=e}}class FO{constructor(e){this.persistence=e,this.zr=new PO,this.jr=null}static Hr(e){return new FO(e)}get Jr(){if(this.jr)return this.jr;throw aI()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),VI.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),VI.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),VI.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return VI.forEach(this.Jr,(n=>{const r=NI.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,SI.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return VI.or([()=>VI.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class UO{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=DR(),r=DR();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new UO(e,t.fromCache,n,r)}}class zO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Df()?8:jI(Pf())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new zO;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(nI()<=dp.DEBUG&&rI("QueryEngine","SDK will not create cache indexes for query:",_R(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),VI.resolve()):(nI()<=dp.DEBUG&&rI("QueryEngine","Query:",_R(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(nI()<=dp.DEBUG&&rI("QueryEngine","The SDK decides to create cache indexes for query:",_R(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fR(t))):VI.resolve())}ji(e,t){if(uR(t))return VI.resolve(null);let n=fR(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=gR(t,null,"F"),n=fR(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=DR(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,gR(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return uR(t)||r.isEqual(SI.min())?VI.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?VI.resolve(null):(nI()<=dp.DEBUG&&rI("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_R(t)),this.es(e,s,t,AI(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new nP(bR(e));return t.forEach(((t,r)=>{yR(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return nI()<=dp.DEBUG&&rI("QueryEngine","Using full collection scan to execute query:",_R(t)),this.zi.getDocumentsMatchingQuery(e,t,MI.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class jO{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new ZI(CI),this.rs=new CR((e=>iR(e)),sR),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function BO(e,t,n,r){return new jO(e,t,n,r)}async function qO(e,t){const n=cI(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=DR();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function WO(e){const t=cI(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function HO(e,t,n){let r=DR(),i=DR();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=kR();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(SI.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):rI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function KO(e,t){const n=cI(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function GO(e,t){const n=cI(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,VI.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new mO(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function QO(e,t,n){const r=cI(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!BI(e))throw e;rI("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function YO(e,t,n){const r=cI(e);let i=SI.min(),s=DR();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=cI(e),i=r.rs.get(n);return void 0!==i?VI.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,fR(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:SI.min(),n?s:DR()))).next((e=>(XO(r,wR(t),e),{documents:e,hs:s})))))}function XO(e,t,n){let r=e.ss.get(t)||SI.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class $O{constructor(){this.activeTargetIds=LR()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JO{constructor(){this.no=new $O,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new $O,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZO{io(e){}shutdown(){}}class eA{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){rI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){rI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tA=null;function nA(){return null===tA?tA=268435456+Math.round(2147483648*Math.random()):tA++,"0x"+tA.toString(16)}const rA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iA{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const sA="WebChannelConnection";class oA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,i){const s=nA(),o=this.vo(e,t.toUriEncodedString());rI("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,o,a,n).then((t=>(rI("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw sI("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}xo(e,t,n,r,i,s){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+eI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=rA[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=nA();return new Promise(((s,o)=>{const a=new jx;a.setWithCredentials(!0),a.listenOnce(Wx.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Hx.NO_ERROR:const t=a.getResponseJson();rI(sA,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Hx.TIMEOUT:rI(sA,"RPC '".concat(e,"' ").concat(i," timed out")),o(new hI(uI.DEADLINE_EXCEEDED,"Request time out"));break;case Hx.HTTP_ERROR:const n=a.getStatus();if(rI(sA,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(uI).indexOf(t)>=0?t:uI.UNKNOWN}(t.status);o(new hI(e,t.message))}else o(new hI(uI.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new hI(uI.UNAVAILABLE,"Connection failed."));break;default:aI()}}finally{rI(sA,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);rI(sA,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Oo(e,t,n){const r=nA(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Yx(),o=Qx(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Bx({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");rI(sA,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new iA({lo:t=>{d?rI(sA,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(rI(sA,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),rI(sA,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,qx.EventType.OPEN,(()=>{d||(rI(sA,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.mo())})),p(u,qx.EventType.CLOSE,(()=>{d||(d=!0,rI(sA,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.po())})),p(u,qx.EventType.ERROR,(t=>{d||(d=!0,sI(sA,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.po(new hI(uI.UNAVAILABLE,"The operation could not be completed")))})),p(u,qx.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];lI(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){rI(sA,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=_N[e];if(void 0!==t)return bN(t)}(t),i=o.message;void 0===n&&(n=uI.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.po(new hI(n,i)),u.close()}else rI(sA,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.yo(i)}})),p(o,Gx.STAT_EVENT,(t=>{t.stat===Kx.PROXY?rI(sA,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Kx.NOPROXY&&rI(sA,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function aA(){return"undefined"!=typeof document?document:null}function lA(e){return new jN(e,!0)}class cA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&rI("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class uA{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new cA(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===uI.RESOURCE_EXHAUSTED?(iI(t.toString()),iI("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===uI.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new hI(uI.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return rI("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(rI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hA extends uA{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:aI()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(lI(void 0===t||"string"==typeof t),oP.fromBase64String(t||"")):(lI(void 0===t||t instanceof Buffer||t instanceof Uint8Array),oP.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?uI.UNKNOWN:bN(e.code);return new hI(t,e.message||"")}(o);n=new AN(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=$N(e,r.document.name),s=KN(r.document.updateTime),o=r.document.createTime?KN(r.document.createTime):SI.min(),a=new NP({mapValue:{fields:r.document.fields}}),l=AP.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new NN(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=$N(e,r.document),s=r.readTime?KN(r.readTime):SI.min(),o=AP.newNoDocument(i,s),a=r.removedTargetIds||[];n=new NN([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=$N(e,r.document),s=r.removedTargetIds||[];n=new NN([],s,i,null)}else{if(!("filter"in t))return aI();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new vN(r,i),o=e.targetId;n=new ON(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return SI.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?SI.min():t.readTime?KN(t.readTime):SI.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=eO(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=oR(r)?{documents:iO(e,r)}:{query:sO(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=WN(e,t.resumeToken);const r=BN(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(SI.min())>0){n.readTime=qN(e,t.snapshotVersion.toTimestamp());const r=BN(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return aI()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=eO(this.serializer),t.removeTarget=e,this.i_(t)}}class dA extends uA{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(lI(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(lI(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?KN(e.updateTime):KN(t);return n.isEqual(SI.min())&&(n=KN(t)),new JR(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=KN(e.commitTime);return this.listener.A_(n,t)}return lI(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=eO(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>rO(this.serializer,e)))};this.i_(t)}}class fA extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new hI(uI.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,QN(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===uI.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hI(uI.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.xo(e,QN(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===uI.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new hI(uI.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class pA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(iI(t),this.y_=!1):rI("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class gA{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{EA(this)&&(rI("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=cI(e);t.M_.add(4),await vA(t),t.N_.set("Unknown"),t.M_.delete(4),await mA(t)}(this))}))})),this.N_=new pA(n,r)}}async function mA(e){if(EA(e))for(const t of e.x_)await t(!0)}async function vA(e){for(const t of e.x_)await t(!1)}function _A(e,t){const n=cI(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),CA(n)?TA(n):qA(n).Xo()&&wA(n,t))}function yA(e,t){const n=cI(e),r=qA(n);n.F_.delete(t),r.Xo()&&bA(n,t),0===n.F_.size&&(r.Xo()?r.n_():EA(n)&&n.N_.set("Unknown"))}function wA(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(SI.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qA(e).P_(t)}function bA(e,t){e.L_.xe(t),qA(e).I_(t)}function TA(e){e.L_=new MN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),qA(e).start(),e.N_.w_()}function CA(e){return EA(e)&&!qA(e).Zo()&&e.F_.size>0}function EA(e){return 0===cI(e).M_.size}function kA(e){e.L_=void 0}async function SA(e){e.N_.set("Online")}async function xA(e){e.F_.forEach(((t,n)=>{wA(e,t)}))}async function IA(e,t){kA(e),CA(e)?(e.N_.D_(t),TA(e)):e.N_.set("Unknown")}async function PA(e,t,n){if(e.N_.set("Online"),t instanceof AN&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){rI("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await RA(e,n)}else if(t instanceof NN?e.L_.Ke(t):t instanceof ON?e.L_.He(t):e.L_.We(t),!n.isEqual(SI.min()))try{const t=await WO(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(oP.EMPTY_BYTE_STRING,r.snapshotVersion)),bA(e,t);const i=new mO(r.target,t,n,r.sequenceNumber);wA(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){rI("RemoteStore","Failed to raise snapshot:",t),await RA(e,t)}}async function RA(e,t,n){if(!BI(t))throw t;e.M_.add(1),await vA(e),e.N_.set("Offline"),n||(n=()=>WO(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{rI("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await mA(e)}))}function NA(e,t){return t().catch((n=>RA(e,n,t)))}async function OA(e){const t=cI(e),n=WA(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;AA(t);)try{const e=await KO(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,DA(t,e)}catch(e){await RA(t,e)}MA(t)&&LA(t)}function AA(e){return EA(e)&&e.v_.length<10}function DA(e,t){e.v_.push(t);const n=WA(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function MA(e){return EA(e)&&!WA(e).Zo()&&e.v_.length>0}function LA(e){WA(e).start()}async function FA(e){WA(e).V_()}async function UA(e){const t=WA(e);for(const n of e.v_)t.d_(n.mutations)}async function zA(e,t,n){const r=e.v_.shift(),i=gN.from(r,t,n);await NA(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await OA(e)}async function VA(e,t){t&&WA(e).E_&&await async function(e,t){if(function(e){return wN(e)&&e!==uI.ABORTED}(t.code)){const n=e.v_.shift();WA(e).t_(),await NA(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await OA(e)}}(e,t),MA(e)&&LA(e)}async function jA(e,t){const n=cI(e);n.asyncQueue.verifyOperationInProgress(),rI("RemoteStore","RemoteStore received new credentials");const r=EA(n);n.M_.add(3),await vA(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await mA(n)}async function BA(e,t){const n=cI(e);t?(n.M_.delete(2),await mA(n)):t||(n.M_.add(2),await vA(n),n.N_.set("Unknown"))}function qA(e){return e.B_||(e.B_=function(e,t,n){const r=cI(e);return r.f_(),new hA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:SA.bind(null,e),To:xA.bind(null,e),Ao:IA.bind(null,e),h_:PA.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),CA(e)?TA(e):e.N_.set("Unknown")):(await e.B_.stop(),kA(e))}))),e.B_}function WA(e){return e.k_||(e.k_=function(e,t,n){const r=cI(e);return r.f_(),new dA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:FA.bind(null,e),Ao:VA.bind(null,e),R_:UA.bind(null,e),A_:zA.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await OA(e)):(await e.k_.stop(),e.v_.length>0&&(rI("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class HA{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dI,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new HA(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new hI(uI.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KA(e,t){if(iI("AsyncQueue","".concat(t,": ").concat(e)),BI(e))return new hI(uI.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class GA{constructor(e){this.comparator=e?(t,n)=>e(t,n)||NI.comparator(t.key,n.key):(e,t)=>NI.comparator(e.key,t.key),this.keyedMap=xR(),this.sortedSet=new ZI(this.comparator)}static emptySet(e){return new GA(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof GA))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new GA;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class QA{constructor(){this.q_=new ZI(NI.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):aI():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class YA{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new YA(e,t,GA.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class XA{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class $A{constructor(){this.queries=new CR((e=>vR(e)),mR),this.onlineState="Unknown",this.z_=new Set}}async function JA(e,t){const n=cI(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new XA,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=KA(e,"Initialization of query '".concat(_R(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&nD(n)}async function ZA(e,t){const n=cI(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eD(e,t){const n=cI(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&nD(n)}function tD(e,t,n){const r=cI(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function nD(e){e.z_.forEach((e=>{e.next()}))}var rD,iD;(iD=rD||(rD={})).J_="default",iD.Cache="cache";class sD{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new YA(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=YA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==rD.Cache}}class oD{constructor(e){this.key=e}}class aD{constructor(e){this.key=e}}class lD{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=DR(),this.mutatedKeys=DR(),this.Ia=bR(e),this.Ta=new GA(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new QA,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=yR(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return aI()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const o=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==s.length||l?{snapshot:new YA(this.query,e.Ta,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new QA,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=DR(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new aD(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new oD(n))})),t}pa(e){this.la=e.hs,this.Pa=DR();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return YA.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class cD{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class uD{constructor(e){this.key=e,this.wa=!1}}class hD{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new CR((e=>vR(e)),mR),this.Da=new Map,this.Ca=new Set,this.va=new ZI(NI.comparator),this.Fa=new Map,this.Ma=new PO,this.xa={},this.Oa=new Map,this.Na=CO.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function dD(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=AD(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await pD(r,t,n,!0),i}async function fD(e,t){const n=AD(e);await pD(n,t,!0,!1)}async function pD(e,t,n,r){const i=await GO(e.localStore,fR(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await gD(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&_A(e.remoteStore,i),a}async function gD(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await YO(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return xD(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const s=await YO(e.localStore,t,!0),o=new lD(t,s.hs),a=o.da(s.documents),l=RN.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);xD(e,n,c.fa);const u=new cD(t,n,o);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function mD(e,t,n){const r=cI(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!mR(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await QO(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yA(r.remoteStore,i.targetId),kD(r,i.targetId)})).catch(zI)):(kD(r,i.targetId),await QO(r.localStore,i.targetId,!0))}async function vD(e,t){const n=cI(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yA(n.remoteStore,r.targetId))}async function _D(e,t){const n=cI(e);try{const e=await function(e,t){const n=cI(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(oP.EMPTY_BYTE_STRING,SI.min()).withLastLimboFreeSnapshotVersion(SI.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=kR(),l=DR();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(HO(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(SI.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return VI.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(lI(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?lI(r.wa):e.removedDocuments.size>0&&(lI(r.wa),r.wa=!1))})),await RD(n,e,t)}catch(e){await zI(e)}}function yD(e,t,n){const r=cI(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=cI(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&nD(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wD(e,t,n){const r=cI(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new ZI(NI.comparator);e=e.insert(s,AP.newNoDocument(s,SI.min()));const n=DR().add(s),i=new PN(SI.min(),new Map,new ZI(CI),e,n);await _D(r,i),r.va=r.va.remove(s),r.Fa.delete(t),PD(r)}else await QO(r.localStore,t,!1).then((()=>kD(r,t,n))).catch(zI)}async function bD(e,t){const n=cI(e),r=t.batch.batchId;try{const e=await function(e,t){const n=cI(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=VI.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);lI(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=DR();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);ED(n,r,null),CD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await RD(n,e)}catch(e){await zI(e)}}async function TD(e,t,n){const r=cI(e);try{const e=await function(e,t){const n=cI(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(lI(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);ED(r,t,n),CD(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await RD(r,e)}catch(n){await zI(n)}}function CD(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function ED(e,t,n){const r=cI(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function kD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||SD(e,t)}))}function SD(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(yA(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),PD(e))}function xD(e,t,n){for(const r of n)r instanceof oD?(e.Ma.addReference(r.key,t),ID(e,r)):r instanceof aD?(rI("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||SD(e,r.key)):aI()}function ID(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(rI("SyncEngine","New document in limbo: "+n),e.Ca.add(r),PD(e))}function PD(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new NI(II.fromString(t)),r=e.Na.next();e.Fa.set(r,new uD(n)),e.va=e.va.insert(n,r),_A(e.remoteStore,new mO(fR(cR(n.path)),r,"TargetPurposeLimboResolution",qI.oe))}}async function RD(e,t,n){const r=cI(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{o.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e&&!e.fromCache;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){i.push(e);const t=UO.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Sa.h_(i),await async function(e,t){const n=cI(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>VI.forEach(t,(t=>VI.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>VI.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!BI(e))throw e;rI("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function ND(e,t){const n=cI(e);if(!n.currentUser.isEqual(t)){rI("SyncEngine","User change. New user:",t.toKey());const e=await qO(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new hI(uI.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await RD(n,e.us)}}function OD(e,t){const n=cI(e),r=n.Fa.get(t);if(r&&r.wa)return DR().add(r.key);{let e=DR();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function AD(e){const t=cI(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_D.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wD.bind(null,t),t.Sa.h_=eD.bind(null,t.eventManager),t.Sa.ka=tD.bind(null,t.eventManager),t}function DD(e){const t=cI(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TD.bind(null,t),t}class MD{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=lA(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return BO(this.persistence,new VO,e.initialUser,this.serializer)}createPersistence(e){return new MO(FO.Hr,this.serializer)}createSharedClientState(e){return new JO}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class LD{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yD(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await BA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $A}createDatastore(e){const t=lA(e.databaseInfo.databaseId),n=function(e){return new oA(e)}(e.databaseInfo);return function(e,t,n,r){return new fA(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new gA(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>yD(this.syncEngine,e,0)),eA.D()?new eA:new ZO)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new hD(e,t,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=cI(e);rI("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await vA(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class FD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):iI("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class UD{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Zx.UNAUTHENTICATED,this.clientId=TI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{rI("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(rI("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new hI(uI.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dI;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Kr){const n=KA(Kr,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function zD(e,t){e.asyncQueue.verifyOperationInProgress(),rI("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await qO(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function VD(e,t){e.asyncQueue.verifyOperationInProgress();const n=await BD(e);rI("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>jA(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>jA(t.remoteStore,n))),e._onlineComponents=t}function jD(e){return"FirebaseError"===e.name?e.code===uI.FAILED_PRECONDITION||e.code===uI.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function BD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){rI("FirestoreClient","Using user provided OfflineComponentProvider");try{await zD(e,e._uninitializedComponentsProvider._offline)}catch(Kr){const n=Kr;if(!jD(n))throw n;sI("Error using user provided cache. Falling back to memory cache: "+n),await zD(e,new MD)}}else rI("FirestoreClient","Using default OfflineComponentProvider"),await zD(e,new MD);return e._offlineComponents}async function qD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(rI("FirestoreClient","Using user provided OnlineComponentProvider"),await VD(e,e._uninitializedComponentsProvider._online)):(rI("FirestoreClient","Using default OnlineComponentProvider"),await VD(e,new LD))),e._onlineComponents}function WD(e){return qD(e).then((e=>e.syncEngine))}async function HD(e){const t=await qD(e),n=t.eventManager;return n.onListen=dD.bind(null,t.syncEngine),n.onUnlisten=mD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=vD.bind(null,t.syncEngine),n}function KD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new dI;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new FD({next:n=>{t.enqueueAndForget((()=>ZA(e,o))),n.fromCache&&"server"===r.source?i.reject(new hI(uI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new sD(n,s,{includeMetadataChanges:!0,ra:!0});return JA(e,o)}(await HD(e),e.asyncQueue,t,n,r))),r.promise}function GD(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const QD=new Map;function YD(e,t,n){if(!n)throw new hI(uI.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function XD(e){if(!NI.isDocumentKey(e))throw new hI(uI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function $D(e){if(NI.isDocumentKey(e))throw new hI(uI.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function JD(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":aI()}function ZD(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new hI(uI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=JD(e);throw new hI(uI.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class eM{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new hI(uI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new hI(uI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new hI(uI.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GD(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new hI(uI.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new hI(uI.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new hI(uI.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tM{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new hI(uI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new hI(uI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eM(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new pI;switch(e.type){case"firstParty":return new _I(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new hI(uI.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QD.get(e);t&&(rI("ComponentProvider","Removing Datastore"),QD.delete(e),t.terminate())}(this),Promise.resolve()}}class nM{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nM(this.firestore,e,this._query)}}class rM{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iM(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rM(this.firestore,e,this._key)}}class iM extends nM{constructor(e,t,n){super(e,t,cR(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rM(this.firestore,null,new NI(e))}withConverter(e){return new iM(this.firestore,e,this._path)}}function sM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=op(e),YD("collection","path",t),e instanceof tM){const n=II.fromString(t,...r);return $D(n),new iM(e,null,n)}{if(!(e instanceof rM||e instanceof iM))throw new hI(uI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(II.fromString(t,...r));return $D(n),new iM(e.firestore,null,n)}}class oM{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new cA(this,"async_queue_retry"),this.hu=()=>{const e=aA();e&&rI("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=aA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=aA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new dI;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(Hr){if(!BI(Hr))throw Hr;rI("AsyncQueue","Operation failed with retryable error: "+Hr)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw iI("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=HA.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&aI()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class aM extends tM{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new oM,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cM(this),this._firestoreClient.terminate()}}function lM(e){return e._firestoreClient||cM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cM(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new pP(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,GD(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new UD(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class uM{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uM(oP.fromBase64String(e))}catch(e){throw new hI(uI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uM(oP.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hM{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new hI(uI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new RI(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dM{constructor(e){this._methodName=e}}class fM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new hI(uI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new hI(uI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return CI(this._lat,e._lat)||CI(this._long,e._long)}}const pM=/^__.*__$/;class gM{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new lN(e,this.data,this.fieldMask,t,this.fieldTransforms):new aN(e,this.data,t,this.fieldTransforms)}}function mM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw aI()}}class vM{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new vM(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return IM(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(mM(this.fu)&&pM.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class _M{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||lA(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vM({fu:e,methodName:t,vu:n,path:RI.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yM(e){const t=e._freezeSettings(),n=lA(e._databaseId);return new _M(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wM(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);EM("Data must be an object, but it was:",o,r);const a=TM(r,o);let l,c;if(s.merge)l=new iP(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=kM(t,r,n);if(!o.contains(i))throw new hI(uI.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));PM(e,i)||e.push(i)}l=new iP(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new gM(new NP(a),l,c)}function bM(e,t){if(CM(e=op(e)))return EM("Unsupported field value:",t,e),TM(e,t);if(e instanceof dM)return function(e,t){if(!mM(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=bM(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=op(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zR(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=kI.fromDate(e);return{timestampValue:qN(t.serializer,n)}}if(e instanceof kI){const n=new kI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qN(t.serializer,n)}}if(e instanceof fM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uM)return{bytesValue:WN(t.serializer,e._byteString)};if(e instanceof rM){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:GN(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(JD(e)))}(e,t)}function TM(e,t){const n={};return JI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$I(e,((e,r)=>{const i=bM(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function CM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kI||e instanceof fM||e instanceof uM||e instanceof rM||e instanceof dM)}function EM(e,t,n){if(!CM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=JD(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function kM(e,t,n){if((t=op(t))instanceof hM)return t._internalPath;if("string"==typeof t)return xM(e,t);throw IM("Field path arguments must be of type string or ",e,!1,void 0,n)}const SM=new RegExp("[~\\*/\\[\\]]");function xM(e,t,n){if(t.search(SM)>=0)throw IM("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new hM(...t.split("."))._internalPath}catch(Gr){throw IM("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function IM(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new hI(uI.INVALID_ARGUMENT,a+e+l)}function PM(e,t){return e.some((e=>e.isEqual(t)))}class RM{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rM(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new NM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class NM extends RM{data(){return super.data()}}function OM(e,t){return"string"==typeof t?xM(e,t):t instanceof hM?t._internalPath:t._delegate._internalPath}function AM(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new hI(uI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DM{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(vP(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cP(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uP(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw aI()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return $I(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new fM(cP(e.latitude),cP(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=dP(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fP(e));default:return null}}convertTimestamp(e){const t=lP(e);return new kI(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=II.fromString(e);lI(gO(n));const r=new gP(n.get(1),n.get(3)),i=new NI(n.popFirst(5));return r.isEqual(t)||iI("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function MM(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class LM{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FM extends RM{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new UM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(OM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class UM extends FM{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class zM{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new LM(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new UM(this._firestore,this._userDataWriter,n.key,n,new LM(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new hI(uI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new UM(e._firestore,e._userDataWriter,n.doc.key,n.doc,new LM(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new UM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new LM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:VM(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function VM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return aI()}}class jM extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new uM(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rM(this.firestore,null,t)}}function BM(e,t){const n=ZD(e.firestore,aM),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=op(e),1===arguments.length&&(t=TI.newId()),YD("doc","path",t),e instanceof tM){const n=II.fromString(t,...r);return XD(n),new rM(e,null,new NI(n))}{if(!(e instanceof rM||e instanceof iM))throw new hI(uI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(II.fromString(t,...r));return XD(n),new rM(e.firestore,e instanceof iM?e.converter:null,new NI(n))}}(e),i=MM(e.converter,t);return qM(n,[wM(yM(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ZR.exists(!1))]).then((()=>r))}function qM(e,t){return function(e,t){const n=new dI;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=DD(e);try{const e=await function(e,t){const n=cI(e),r=kI.now(),i=t.reduce(((e,t)=>e.add(t.key)),DR());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=kR(),l=DR();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=sN(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new lN(e.key,t,OP(t.value.mapValue),ZR.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:IR(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new ZI(CI)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await RD(r,e.changes),await OA(r.remoteStore)}catch(e){const t=KA(e,"Failed to persist write");n.reject(t)}}(await WD(e),t,n))),n.promise}(lM(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){eI=e}(Sg),vg(new ap("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new aM(new mI(e.getProvider("auth-internal")),new wI(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new hI(uI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gP(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Og(Jx,"4.6.3",e),Og(Jx,"4.6.3","esm2017")}();const WM=$g.initializeApp({apiKey:"AIzaSyAwR-2k4Vbu6pFY3r_4qbMmIZSmNHodxB0",authDomain:"art-gallery-rina-34213.firebaseapp.com",projectId:"art-gallery-rina-34213",storageBucket:"art-gallery-rina-34213.firebasestorage.app",messagingSenderId:"830375874397",appId:"1:830375874397:web:d5f482a1bf6855ddd362b4",measurementId:"G-EXQGBNNHJK"}),HM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pg();const t=_g(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=_g(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Kf(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;RE(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Rx,persistence:[zS,TS,ES]}),r=Sf("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Dx)return;const r=null===t||void 0===t?void 0:t.token;Mx!==r&&(Mx=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){op(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){op(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Cf("auth");return s&&Gk(n,"http://".concat(s)),n}(WM),KM=function(e,t){const n="string"==typeof e?e:t||"(default)",r=_g("object"==typeof e?e:Pg(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ef("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ZD(e,tM))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&sI("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Zx.MOCK_USER;else{t=If(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new hI(uI.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Zx(s)}e._authCredentials=new gI(new fI(t,n))}}(r,...e)}return r}(WM),GM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pg(),t=arguments.length>1?arguments[1]:void 0;e=op(e);const n=_g(e,Nv).getImmediate({identifier:t}),r=Ef("storage");return r&&Lv(n,...r),n}(WM),QM=new cS,YM=e=>{let{tags:n,collectionReference:r}=e;const[i,s]=(0,t.useState)([]),o=sM(KM,r);return(0,t.useEffect)((()=>{(async()=>{try{const e=await function(e){e=ZD(e,nM);const t=ZD(e.firestore,aM),n=lM(t),r=new jM(t);return AM(e._query),KD(n,e._query).then((n=>new zM(t,r,e,n)))}(o),t=e.docs.map((e=>({...e.data(),id:e.id}))),r=t.filter((e=>e.tags&&n.every((t=>e.tags.includes(t)))));s(r)}catch(c_){console.error("Error fetching images:",c_)}})()}),[n,i]),(0,of.jsx)("div",{class:"container",children:i.map((e=>(0,of.jsx)("div",{class:"box",children:(0,of.jsx)("img",{src:e.path},e.path)})))})};var XM,$M=new Uint8Array(16);function JM(){if(!XM&&!(XM="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return XM($M)}const ZM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const eL=function(e){return"string"===typeof e&&ZM.test(e)};for(var tL=[],nL=0;nL<256;++nL)tL.push((nL+256).toString(16).substr(1));const rL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(tL[e[t+0]]+tL[e[t+1]]+tL[e[t+2]]+tL[e[t+3]]+"-"+tL[e[t+4]]+tL[e[t+5]]+"-"+tL[e[t+6]]+tL[e[t+7]]+"-"+tL[e[t+8]]+tL[e[t+9]]+"-"+tL[e[t+10]]+tL[e[t+11]]+tL[e[t+12]]+tL[e[t+13]]+tL[e[t+14]]+tL[e[t+15]]).toLowerCase();if(!eL(n))throw TypeError("Stringified UUID is invalid");return n};const iL=function(e,t,n){var r=(e=e||{}).random||(e.rng||JM)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return rL(r)},sL=e=>{let{tags:t,setTags:n}=e;return(0,of.jsxs)("div",{className:"tags-input-container",children:[(0,of.jsxs)("div",{class:"input-container",children:[(0,of.jsx)("input",{required:"",type:"text",class:"input",onKeyDown:e=>{if("Enter"===e.key||","===e.key||" "===e.key){e.preventDefault();const r=e.target.value.trim();r&&!t.includes(r)&&n([...t,r]),e.target.value=""}},placeholder:"Add tags..."}),(0,of.jsx)("span",{class:"highlight"}),(0,of.jsx)("span",{class:"bar"})]}),(0,of.jsx)("div",{className:"tags-container",children:t.map(((e,r)=>(0,of.jsxs)("div",{className:"tag",children:[e,(0,of.jsx)("button",{type:"button",onClick:()=>(e=>{n(t.filter(((t,n)=>n!==e)))})(r),children:"\xd7"})]},r)))})]})},oL=(0,t.createContext)(),aL=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null);return(0,of.jsx)(oL.Provider,{value:[r,i],children:n})},lL="generated",cL="pointerleave",uL="pointermove",hL="touchend",dL="tsParticles - Error";class fL{constructor(e,t,n){if(this._updateFromAngle=(e,t)=>{this.x=Math.cos(e)*t,this.y=Math.sin(e)*t},!zL(e)&&e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}else{if(void 0===e||void 0===t)throw new Error("".concat(dL," Vector3d not initialized correctly"));this.x=e,this.y=t,this.z=null!==n&&void 0!==n?n:0}}static get origin(){return fL.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return fL.create(e.x,e.y,e.z)}static create(e,t,n){return new fL(e,t,n)}add(e){return fL.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return fL.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return fL.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return fL.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;0!=e&&this.multTo(1/e)}rotate(e){return fL.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:0}sub(e){return fL.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class pL extends fL{constructor(e,t){super(e,t,0)}static get origin(){return pL.create(0,0)}static clone(e){return pL.create(e.x,e.y)}static create(e,t){return new pL(e,t)}}let gL=Math.random;new Map;function mL(){return vL(gL(),0,1-1e-16)}function vL(e,t,n){return Math.min(Math.max(e,t),n)}function _L(e){const t=bL(e);let n=wL(e);return t===n&&(n=0),mL()*(t-n)+n}function yL(e){return zL(e)?e:_L(e)}function wL(e){return zL(e)?e:e.min}function bL(e){return zL(e)?e:e.max}function TL(e,t){if(e===t||void 0===t&&zL(e))return e;const n=wL(e),r=bL(e);return void 0!==t?{min:Math.min(n,t),max:Math.max(r,t)}:TL(n,r)}function CL(e,t){return function(e,t){const n=e.x-t.x,r=e.y-t.y;return{dx:n,dy:r,distance:Math.sqrt(n**2+r**2)}}(e,t).distance}function EL(e){var t,n,r,i;return{x:null!==(t=null===(n=e.position)||void 0===n?void 0:n.x)&&void 0!==t?t:mL()*e.size.width,y:null!==(r=null===(i=e.position)||void 0===i?void 0:i.y)&&void 0!==r?r:mL()*e.size.height}}function kL(e){return e?e.endsWith("%")?parseFloat(e)/100:parseFloat(e):1}const SL={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function xL(){return SL}function IL(){return"undefined"===typeof window||!window||"undefined"===typeof window.document||!window.document}function PL(e){if(!IL()&&"undefined"!==typeof matchMedia)return matchMedia(e)}function RL(e,t){return e===t||BL(t)&&t.indexOf(e)>-1}function NL(e,t){return e[void 0!==t&&(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])?t%e.length:function(e){return Math.floor(mL()*e.length)}(e)]}function OL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){if(void 0===i||null===i)continue;if(!jL(i)){e=i;continue}const t=Array.isArray(i);!t||!jL(e)&&e&&Array.isArray(e)?t||!jL(e)&&e&&!Array.isArray(e)||(e={}):e=[];for(const n in i){if("__proto__"===n)continue;const t=i[n],r=e;r[n]=jL(t)&&Array.isArray(t)?t.map((e=>OL(r[n],e))):OL(r[n],t)}}return e}function AL(e,t){return BL(e)?e.map(((e,n)=>t(e,n))):t(e,0)}function DL(e,t,n){return BL(e)?NL(e,t,n):e}function ML(e,t){if(!("percent"===e.mode)){const{mode:t,...n}=e;return n}return"x"in e?{x:e.x/100*t.width,y:e.y/100*t.height}:{width:e.width/100*t.width,height:e.height/100*t.height}}function LL(e,t){return ML(e,t)}function FL(e){return"boolean"===typeof e}function UL(e){return"string"===typeof e}function zL(e){return"number"===typeof e}function VL(e){return"function"===typeof e}function jL(e){return"object"===typeof e&&null!==e}function BL(e){return Array.isArray(e)}const qL="random",WL=new Map;function HL(e){WL.set(e.key,e)}function KL(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function GL(e){for(const[,r]of WL)if(e.startsWith(r.stringPrefix))return r.parseString(e);const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,((e,t,n,r,i)=>t+t+n+n+r+r+(void 0!==i?i+i:""))),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(t);return n?{a:void 0!==n[4]?parseInt(n[4],16)/255:1,b:parseInt(n[3],16),g:parseInt(n[2],16),r:parseInt(n[1],16)}:void 0}function QL(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return;const r=UL(e)?{value:e}:e;if(UL(r.value))return YL(r.value,t,n);if(BL(r.value))return QL({value:NL(r.value,t,n)});for(const[,i]of WL){const e=i.handleRangeColor(r);if(e)return e}}function YL(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return;const r=UL(e)?{value:e}:e;if(UL(r.value))return r.value===qL?ZL():function(e){return GL(e)}(r.value);if(BL(r.value))return YL({value:NL(r.value,t,n)});for(const[,i]of WL){const e=i.handleColor(r);if(e)return e}}function XL(e,t){const n=QL(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);return n?$L(n):void 0}function $L(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o={h:0,l:(i+s)/2,s:0};return i!==s&&(o.s=o.l<.5?(i-s)/(i+s):(i-s)/(2-i-s),o.h=t===i?(n-r)/(i-s):o.h=n===i?2+(r-t)/(i-s):4+(t-n)/(i-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function JL(e){const t={b:0,g:0,r:0},n={h:e.h/360,l:e.l/100,s:e.s/100};if(n.s){const e=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,r=2*n.l-e;t.r=KL(r,e,n.h+1/3),t.g=KL(r,e,n.h),t.b=KL(r,e,n.h-1/3)}else t.r=t.g=t.b=n.l;return t.r=Math.floor(255*t.r),t.g=Math.floor(255*t.g),t.b=Math.floor(255*t.b),t}function ZL(e){const t=null!==e&&void 0!==e?e:0;return{b:Math.floor(_L(TL(t,256))),g:Math.floor(_L(TL(t,256))),r:Math.floor(_L(TL(t,256)))}}function eF(e,t){return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(null!==t&&void 0!==t?t:1,")")}function tF(e,t){return"hsla(".concat(e.h,", ").concat(e.s,"%, ").concat(e.l,"%, ").concat(null!==t&&void 0!==t?t:1,")")}function nF(e){return void 0!==e?{h:e.h.value,s:e.s.value,l:e.l.value}:void 0}function rF(e,t){e.clearRect(0,0,t.width,t.height)}function iF(e,t,n){const r=t[n];var i;void 0!==r&&(e[n]=(null!==(i=e[n])&&void 0!==i?i:1)*r)}class sF{constructor(e){this.container=e,this._applyPostDrawUpdaters=e=>{for(const t of this._postDrawUpdaters)t.afterDraw&&t.afterDraw(e)},this._applyPreDrawUpdaters=(e,t,n,r,i,s)=>{for(const o of this._preDrawUpdaters){if(o.getColorStyles){const{fill:s,stroke:a}=o.getColorStyles(t,e,n,r);s&&(i.fill=s),a&&(i.stroke=a)}if(o.getTransformValues){const e=o.getTransformValues(t);for(const t in e)iF(s,e,t)}o.beforeDraw&&o.beforeDraw(t)}},this._applyResizePlugins=()=>{for(const e of this._resizePlugins)e.resize&&e.resize()},this._getPluginParticleColors=e=>{let t,n;for(const r of this._colorPlugins)if(!t&&r.particleFillColor&&(t=XL(r.particleFillColor(e))),!n&&r.particleStrokeColor&&(n=XL(r.particleStrokeColor(e))),t&&n)break;return[t,n]},this._initCover=()=>{const e=this.container.actualOptions.backgroundMask.cover,t=QL(e.color);if(t){const n={...t,a:e.opacity};this._coverColorStyle=eF(n,n.a)}},this._initStyle=()=>{const e=this.element,t=this.container.actualOptions;if(e){this._fullScreen?(this._originalStyle=OL({},e.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const n in t.style){if(!n||!t.style)continue;const r=t.style[n];r&&e.style.setProperty(n,r,"important")}}},this._initTrail=async()=>{const e=this.container.actualOptions,t=e.particles.move.trail,n=t.fill;if(t.enable)if(n.color){const t=QL(n.color);if(!t)return;const r=e.particles.move.trail;this._trailFill={color:{...t},opacity:1/r.length}}else await new Promise(((e,r)=>{if(!n.image)return;const i=document.createElement("img");i.addEventListener("load",(()=>{this._trailFill={image:i,opacity:1/t.length},e()})),i.addEventListener("error",(e=>{r(e.error)})),i.src=n.image}))},this._paintBase=e=>{this.draw((t=>function(e,t,n){e.fillStyle=null!==n&&void 0!==n?n:"rgba(0,0,0,0)",e.fillRect(0,0,t.width,t.height)}(t,this.size,e)))},this._paintImage=(e,t)=>{this.draw((n=>function(e,t,n,r){n&&(e.globalAlpha=r,e.drawImage(n,0,0,t.width,t.height),e.globalAlpha=1)}(n,this.size,e,t)))},this._repairStyle=()=>{const e=this.element;e&&(this._safeMutationObserver((e=>e.disconnect())),this._initStyle(),this.initBackground(),this._safeMutationObserver((t=>t.observe(e,{attributes:!0}))))},this._resetOriginalStyle=()=>{const e=this.element,t=this._originalStyle;if(!e||!t)return;const n=e.style;n.position=t.position,n.zIndex=t.zIndex,n.top=t.top,n.left=t.left,n.width=t.width,n.height=t.height},this._safeMutationObserver=e=>{this._mutationObserver&&e(this._mutationObserver)},this._setFullScreenStyle=()=>{const e=this.element;if(!e)return;const t="important",n=e.style;n.setProperty("position","fixed",t),n.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),t),n.setProperty("top","0",t),n.setProperty("left","0",t),n.setProperty("width","100%",t),n.setProperty("height","100%",t)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,n=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&n?n.color?this._paintBase(eF(n.color,n.opacity)):n.image&&this._paintImage(n.image,n.opacity):this.draw((e=>{rF(e,this.size)}))}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){var n;if(e.spawning||e.destroyed)return;const r=e.getRadius();if(r<=0)return;const i=e.getFillColor(),s=null!==(n=e.getStrokeColor())&&void 0!==n?n:i;let[o,a]=this._getPluginParticleColors(e);o||(o=i),a||(a=s),(o||a)&&this.draw((n=>{var i,s,l,c;const u=this.container,h=u.actualOptions,d=e.options.zIndex,f=(1-e.zIndexFactor)**d.opacityRate,p=null!==(i=null!==(s=e.bubble.opacity)&&void 0!==s?s:null===(l=e.opacity)||void 0===l?void 0:l.value)&&void 0!==i?i:1,g=p*f,m=(null!==(c=e.strokeOpacity)&&void 0!==c?c:p)*f,v={},_={fill:o?tF(o,g):void 0};_.stroke=a?tF(a,m):_.fill,this._applyPreDrawUpdaters(n,e,r,g,_,v),function(e){var t,n,r,i,s;const{container:o,context:a,particle:l,delta:c,colorStyles:u,backgroundMask:h,composite:d,radius:f,opacity:p,shadow:g,transform:m}=e,v=l.getPosition(),_=l.rotation+(l.pathRotation?l.velocity.angle:0),y=Math.sin(_),w=Math.cos(_),b={a:w*(null!==(t=m.a)&&void 0!==t?t:1),b:y*(null!==(n=m.b)&&void 0!==n?n:1),c:-y*(null!==(r=m.c)&&void 0!==r?r:1),d:w*(null!==(i=m.d)&&void 0!==i?i:1)};a.setTransform(b.a,b.b,b.c,b.d,v.x,v.y),a.beginPath(),h&&(a.globalCompositeOperation=d);const T=l.shadowColor;g.enable&&T&&(a.shadowBlur=g.blur,a.shadowColor=eF(T),a.shadowOffsetX=g.offset.x,a.shadowOffsetY=g.offset.y),u.fill&&(a.fillStyle=u.fill);const C=null!==(s=l.strokeWidth)&&void 0!==s?s:0;a.lineWidth=C,u.stroke&&(a.strokeStyle=u.stroke),function(e,t,n,r,i,s){if(!n.shape)return;const o=e.drawers.get(n.shape);o&&o.draw(t,n,r,i,s,e.retina.pixelRatio)}(o,a,l,f,p,c),C>0&&a.stroke(),l.close&&a.closePath(),l.fill&&a.fill(),function(e,t,n,r,i,s){if(!n.shape)return;const o=e.drawers.get(n.shape);o&&o.afterEffect&&o.afterEffect(t,n,r,i,s,e.retina.pixelRatio)}(o,a,l,f,p,c),a.globalCompositeOperation="source-over",a.setTransform(1,0,0,1,0,0)}({container:u,context:n,particle:e,delta:t,colorStyles:_,backgroundMask:h.backgroundMask.enable,composite:h.backgroundMask.composite,radius:r*(1-e.zIndexFactor)**d.sizeRate,opacity:g,shadow:e.options.shadow,transform:v}),this._applyPostDrawUpdaters(e)}))}drawParticlePlugin(e,t,n){this.draw((r=>function(e,t,n,r){t.drawParticle&&t.drawParticle(e,n,r)}(r,e,t,n)))}drawPlugin(e,t){this.draw((n=>function(e,t,n){t.draw&&t.draw(e,n)}(n,e,t)))}async init(){this._safeMutationObserver((e=>e.disconnect())),this._mutationObserver=function(e){if(!IL()&&"undefined"!==typeof MutationObserver)return new MutationObserver(e)}((e=>{for(const t of e)"attributes"===t.type&&"style"===t.attributeName&&this._repairStyle()})),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(Hr){xL().error(Hr)}this.initBackground(),this._safeMutationObserver((e=>{this.element&&e.observe(this.element,{attributes:!0})})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions.background,t=this.element;if(!t)return;const n=t.style;if(n){if(e.color){const t=QL(e.color);n.backgroundColor=t?eF(t,e.opacity):""}else n.backgroundColor="";n.backgroundImage=e.image||"",n.backgroundPosition=e.position||"",n.backgroundRepeat=e.repeat||"",n.backgroundSize=e.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&lL in e.dataset?"true"===e.dataset[lL]:this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=OL({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver((e=>{this.element&&e.observe(this.element,{attributes:!0})})),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw((t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(rF(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()}))}resize(){if(!this.element)return!1;const e=this.container,t=e.retina.pixelRatio,n=e.canvas.size,r=this.element.offsetWidth*t,i=this.element.offsetHeight*t;if(i===n.height&&r===n.width&&i===this.element.height&&r===this.element.width)return!1;const s={...n};return this.element.width=n.width=this.element.offsetWidth*t,this.element.height=n.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:n.width/s.width,height:n.height/s.height}),!0}stop(){this._safeMutationObserver((e=>e.disconnect())),this._mutationObserver=void 0,this.draw((e=>rF(e,this.size)))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}function oF(e,t,n,r,i){if(r){let r={passive:!0};FL(i)?r.capture=i:void 0!==i&&(r=i),e.addEventListener(t,n,r)}else{const r=i;e.removeEventListener(t,n,r)}}class aF{constructor(e){this.container=e,this._doMouseTouchClick=e=>{const t=this.container,n=t.actualOptions;if(this._canPush){const e=t.interactivity.mouse,r=e.position;if(!r)return;e.clickPosition={...r},e.clickTime=(new Date).getTime();AL(n.interactivity.events.onClick.mode,(e=>this.container.handleClickMode(e)))}"touchend"===e.type&&setTimeout((()=>this._mouseTouchFinish()),500)},this._handleThemeChange=e=>{const t=e,n=this.container,r=n.options,i=r.defaultThemes,s=t.matches?i.dark:i.light,o=r.themes.find((e=>e.name===s));o&&o.default.auto&&n.loadTheme(s)},this._handleVisibilityChange=()=>{const e=this.container,t=e.actualOptions;this._mouseTouchFinish(),t.pauseOnBlur&&(document&&document.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout((async()=>{const e=this.container.canvas;e&&await e.windowResize()}),1e3*this.container.actualOptions.interactivity.events.resize.delay)},this._manageInteractivityListeners=(e,t)=>{const n=this._handlers,r=this.container,i=r.actualOptions,s=r.interactivity.element;if(!s)return;const o=s,a=r.canvas.element;a&&(a.style.pointerEvents=o===a?"initial":"none"),(i.interactivity.events.onHover.enable||i.interactivity.events.onClick.enable)&&(oF(s,uL,n.mouseMove,t),oF(s,"touchstart",n.touchStart,t),oF(s,"touchmove",n.touchMove,t),i.interactivity.events.onClick.enable?(oF(s,hL,n.touchEndClick,t),oF(s,"pointerup",n.mouseUp,t),oF(s,"pointerdown",n.mouseDown,t)):oF(s,hL,n.touchEnd,t),oF(s,e,n.mouseLeave,t),oF(s,"touchcancel",n.touchCancel,t))},this._manageListeners=e=>{const t=this._handlers,n=this.container,r=n.actualOptions.interactivity.detectsOn,i=n.canvas.element;let s=cL;if("window"===r)n.interactivity.element=window,s="pointerout";else if("parent"===r&&i){var o;n.interactivity.element=null!==(o=i.parentElement)&&void 0!==o?o:i.parentNode}else n.interactivity.element=i;this._manageMediaMatch(e),this._manageResize(e),this._manageInteractivityListeners(s,e),document&&oF(document,"visibilitychange",t.visibilityChange,e,!1)},this._manageMediaMatch=e=>{const t=this._handlers,n=PL("(prefers-color-scheme: dark)");n&&(void 0===n.addEventListener?void 0!==n.addListener&&(e?n.addListener(t.oldThemeChange):n.removeListener(t.oldThemeChange)):oF(n,"change",t.themeChange,e))},this._manageResize=e=>{const t=this._handlers,n=this.container;if(!n.actualOptions.interactivity.events.resize)return;if("undefined"===typeof ResizeObserver)return void oF(window,"resize",t.resize,e);const r=n.canvas.element;this._resizeObserver&&!e?(r&&this._resizeObserver.unobserve(r),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&e&&r&&(this._resizeObserver=new ResizeObserver((async e=>{const t=e.find((e=>e.target===r));t&&await this._handleWindowResize()})),this._resizeObserver.observe(r))},this._mouseDown=()=>{const{interactivity:e}=this.container;if(!e)return;const{mouse:t}=e;t.clicking=!0,t.downPosition=t.position},this._mouseTouchClick=e=>{const t=this.container,n=t.actualOptions,{mouse:r}=t.interactivity;r.inside=!0;let i=!1;const s=r.position;if(s&&n.interactivity.events.onClick.enable){for(const[,e]of t.plugins)if(e.clickPositionValid&&(i=e.clickPositionValid(s),i))break;i||this._doMouseTouchClick(e),r.clicking=!1}},this._mouseTouchFinish=()=>{const e=this.container.interactivity;if(!e)return;const t=e.mouse;delete t.position,delete t.clickPosition,delete t.downPosition,e.status=cL,t.inside=!1,t.clicking=!1},this._mouseTouchMove=e=>{const t=this.container,n=t.actualOptions,r=t.interactivity,i=t.canvas.element;if(!r||!r.element)return;let s;if(r.mouse.inside=!0,e.type.startsWith("pointer")){this._canPush=!0;const t=e;if(r.element===window){if(i){const e=i.getBoundingClientRect();s={x:t.clientX-e.left,y:t.clientY-e.top}}}else if("parent"===n.interactivity.detectsOn){const e=t.target,n=t.currentTarget;if(e&&n&&i){const r=e.getBoundingClientRect(),o=n.getBoundingClientRect(),a=i.getBoundingClientRect();s={x:t.offsetX+2*r.left-(o.left+a.left),y:t.offsetY+2*r.top-(o.top+a.top)}}else{var o,a;s={x:null!==(o=t.offsetX)&&void 0!==o?o:t.clientX,y:null!==(a=t.offsetY)&&void 0!==a?a:t.clientY}}}else if(t.target===i){var l,c;s={x:null!==(l=t.offsetX)&&void 0!==l?l:t.clientX,y:null!==(c=t.offsetY)&&void 0!==c?c:t.clientY}}}else if(this._canPush="touchmove"!==e.type,i){var u,h;const t=e,n=t.touches[t.touches.length-1],r=i.getBoundingClientRect();s={x:n.clientX-(null!==(u=r.left)&&void 0!==u?u:0),y:n.clientY-(null!==(h=r.top)&&void 0!==h?h:0)}}const d=t.retina.pixelRatio;s&&(s.x*=d,s.y*=d),r.mouse.position=s,r.status=uL},this._touchEnd=e=>{const t=e,n=Array.from(t.changedTouches);for(const r of n)this._touches.delete(r.identifier);this._mouseTouchFinish()},this._touchEndClick=e=>{const t=e,n=Array.from(t.changedTouches);for(const r of n)this._touches.delete(r.identifier);this._mouseTouchClick(e)},this._touchStart=e=>{const t=e,n=Array.from(t.changedTouches);for(const r of n)this._touches.set(r.identifier,performance.now());this._mouseTouchMove(e)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:e=>this._mouseTouchMove(e),mouseUp:e=>this._mouseTouchClick(e),touchStart:e=>this._touchStart(e),touchMove:e=>this._mouseTouchMove(e),touchEnd:e=>this._touchEnd(e),touchCancel:e=>this._touchEnd(e),touchEndClick:e=>this._touchEndClick(e),visibilityChange:()=>this._handleVisibilityChange(),themeChange:e=>this._handleThemeChange(e),oldThemeChange:e=>this._handleThemeChange(e),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class lF{constructor(){this.value=""}static create(e,t){const n=new lF;return n.load(e),void 0!==t&&(UL(t)||BL(t)?n.load({value:t}):n.load(t)),n}load(e){void 0!==(null===e||void 0===e?void 0:e.value)&&(this.value=e.value)}}class cF{constructor(){this.color=new lF,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=lF.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.position&&(this.position=e.position),void 0!==e.repeat&&(this.repeat=e.repeat),void 0!==e.size&&(this.size=e.size),void 0!==e.opacity&&(this.opacity=e.opacity))}}class uF{constructor(){this.color=new lF,this.color.value="#fff",this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=lF.create(this.color,e.color)),void 0!==e.opacity&&(this.opacity=e.opacity))}}class hF{constructor(){this.composite="destination-out",this.cover=new uF,this.enable=!1}load(e){if(e){if(void 0!==e.composite&&(this.composite=e.composite),void 0!==e.cover){const t=e.cover,n=UL(e.cover)?{color:e.cover}:e.cover;this.cover.load(void 0!==t.color?t:{color:n})}void 0!==e.enable&&(this.enable=e.enable)}}}class dF{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.zIndex&&(this.zIndex=e.zIndex))}}class fF{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode))}}class pF{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return AL(this.selectors,(e=>e.replace("#","")))}set ids(e){this.selectors=AL(e,(e=>"#".concat(e)))}load(e){var t,n;if(!e)return;const r=null!==(t=null!==(n=e.ids)&&void 0!==n?n:e.elementId)&&void 0!==t?t:e.el;void 0!==r&&(this.ids=r),void 0!==e.selectors&&(this.selectors=e.selectors),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.type&&(this.type=e.type)}}class gF{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.force&&(this.force=e.force),void 0!==e.smooth&&(this.smooth=e.smooth))}}class mF{constructor(){this.enable=!1,this.mode=[],this.parallax=new gF}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class vF{constructor(){this.delay=.5,this.enable=!0}load(e){void 0!==e&&(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.enable&&(this.enable=e.enable))}}class _F{constructor(){this.onClick=new fF,this.onDiv=new pF,this.onHover=new mF,this.resize=new vF}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var t,n,r;if(!e)return;this.onClick.load(null!==(t=e.onClick)&&void 0!==t?t:e.onclick);const i=null!==(n=e.onDiv)&&void 0!==n?n:e.ondiv;void 0!==i&&(this.onDiv=AL(i,(e=>{const t=new pF;return t.load(e),t}))),this.onHover.load(null!==(r=e.onHover)&&void 0!==r?r:e.onhover),FL(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class yF{constructor(e,t){this._engine=e,this._container=t}load(e){if(!e)return;if(!this._container)return;const t=this._engine.plugins.interactors.get(this._container);if(t)for(const n of t)n.loadModeOptions&&n.loadModeOptions(this,e)}}class wF{constructor(e,t){this.detectsOn="window",this.events=new _F,this.modes=new yF(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var t;if(!e)return;const n=null!==(t=e.detectsOn)&&void 0!==t?t:e.detect_on;void 0!==n&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class bF{load(e){if(e){var t,n,r;if(e.position)this.position={x:null!==(t=e.position.x)&&void 0!==t?t:50,y:null!==(n=e.position.y)&&void 0!==n?n:50,mode:null!==(r=e.position.mode)&&void 0!==r?r:"percent"};e.options&&(this.options=OL({},e.options))}}}class TF{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.mode&&("screen"===e.mode?this.mode="screen":this.mode="canvas"),void 0!==e.options&&(this.options=OL({},e.options)))}}class CF{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(void 0!==e.auto&&(this.auto=e.auto),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}class EF{constructor(){this.name="",this.default=new CF}load(e){e&&(void 0!==e.name&&(this.name=e.name),this.default.load(e.default),void 0!==e.options&&(this.options=OL({},e.options)))}}class kF{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(void 0!==e.count&&(this.count=TL(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(this.offset=TL(e.offset)),void 0!==e.speed&&(this.speed=TL(e.speed)),void 0!==e.decay&&(this.decay=TL(e.decay)),void 0!==e.delay&&(this.delay=TL(e.delay)),void 0!==e.sync&&(this.sync=e.sync))}}class SF{constructor(){this.h=new kF,this.s=new kF,this.l=new kF}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class xF extends lF{constructor(){super(),this.animation=new SF}static create(e,t){const n=new xF;return n.load(e),void 0!==t&&(UL(t)||BL(t)?n.load({value:t}):n.load(t)),n}load(e){if(super.load(e),!e)return;const t=e.animation;void 0!==t&&(void 0!==t.enable?this.animation.h.load(t):this.animation.load(e.animation))}}class IF{constructor(){this.speed=2}load(e){e&&void 0!==e.speed&&(this.speed=e.speed)}}class PF{constructor(){this.enable=!0,this.retries=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.retries&&(this.retries=e.retries))}}class RF{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(void 0!==e.count&&(this.count=TL(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=TL(e.speed)),void 0!==e.decay&&(this.decay=TL(e.decay)),void 0!==e.delay&&(this.delay=TL(e.delay)),void 0!==e.sync&&(this.sync=e.sync))}}class NF extends RF{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(void 0!==e.minimumValue&&(this.minimumValue=e.minimumValue),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.startValue&&(this.startValue=e.startValue))}}class OF{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.minimumValue&&(this.minimumValue=e.minimumValue))}}class AF{constructor(){this.random=new OF,this.value=0}load(e){e&&(FL(e.random)?this.random.enable=e.random:this.random.load(e.random),void 0!==e.value&&(this.value=TL(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class DF extends AF{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class MF{constructor(){this.horizontal=new DF,this.vertical=new DF}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class LF{constructor(){this.absorb=new IF,this.bounce=new MF,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new PF}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.maxSpeed&&(this.maxSpeed=TL(e.maxSpeed)),void 0!==e.mode&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class FF{constructor(){this.offset=0,this.value=90}load(e){e&&(void 0!==e.offset&&(this.offset=TL(e.offset)),void 0!==e.value&&(this.value=TL(e.value)))}}class UF{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var t,n,r,i;if(!e)return;void 0!==e.distance&&(this.distance=TL(e.distance)),void 0!==e.enable&&(this.enable=e.enable);const s=null!==(t=null===(n=e.rotate)||void 0===n?void 0:n.x)&&void 0!==t?t:e.rotateX;void 0!==s&&(this.rotate.x=s);const o=null!==(r=null===(i=e.rotate)||void 0===i?void 0:i.y)&&void 0!==r?r:e.rotateY;void 0!==o&&(this.rotate.y=o)}}class zF{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.radius&&(this.radius=e.radius))}}class VF{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=TL(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.inverse&&(this.inverse=e.inverse),void 0!==e.maxSpeed&&(this.maxSpeed=TL(e.maxSpeed)))}}class jF{constructor(){this.clamp=!0,this.delay=new AF,this.enable=!1,this.options={}}load(e){e&&(void 0!==e.clamp&&(this.clamp=e.clamp),this.delay.load(e.delay),void 0!==e.enable&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=OL(this.options,e.options)))}}class BF{load(e){e&&(void 0!==e.color&&(this.color=lF.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image))}}class qF{constructor(){this.enable=!1,this.length=10,this.fill=new BF}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0===e.fill&&void 0===e.fillColor||this.fill.load(e.fill||{color:e.fillColor}),void 0!==e.length&&(this.length=e.length))}}class WF{constructor(){this.default="out"}load(e){var t,n,r,i;e&&(void 0!==e.default&&(this.default=e.default),this.bottom=null!==(t=e.bottom)&&void 0!==t?t:e.default,this.left=null!==(n=e.left)&&void 0!==n?n:e.default,this.right=null!==(r=e.right)&&void 0!==r?r:e.default,this.top=null!==(i=e.top)&&void 0!==i?i:e.default)}}class HF{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=TL(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),e.position&&(this.position=OL({},e.position)))}}class KF{constructor(){this.angle=new FF,this.attract=new UF,this.center=new zF,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new VF,this.path=new jF,this.outModes=new WF,this.random=!1,this.size=!1,this.speed=2,this.spin=new HF,this.straight=!1,this.trail=new qF,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){var t,n,r;if(!e)return;this.angle.load(zL(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),void 0!==e.decay&&(this.decay=TL(e.decay)),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.distance&&(this.distance=zL(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),void 0!==e.drift&&(this.drift=TL(e.drift)),void 0!==e.enable&&(this.enable=e.enable),this.gravity.load(e.gravity);const i=null!==(t=null!==(n=e.outModes)&&void 0!==n?n:e.outMode)&&void 0!==t?t:e.out_mode;void 0!==i&&(jL(i)?this.outModes.load(i):this.outModes.load({default:i})),this.path.load(null!==(r=e.path)&&void 0!==r?r:e.noise),void 0!==e.random&&(this.random=e.random),void 0!==e.size&&(this.size=e.size),void 0!==e.speed&&(this.speed=TL(e.speed)),this.spin.load(e.spin),void 0!==e.straight&&(this.straight=e.straight),this.trail.load(e.trail),void 0!==e.vibrate&&(this.vibrate=e.vibrate),void 0!==e.warp&&(this.warp=e.warp)}}class GF extends NF{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){void 0!==(null===e||void 0===e?void 0:e.opacity_min)&&void 0===e.minimumValue&&(e.minimumValue=e.opacity_min),super.load(e),e&&void 0!==e.destroy&&(this.destroy=e.destroy)}}class QF extends AF{constructor(){super(),this.animation=new GF,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(!e)return;super.load(e);const n=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==n&&(this.animation.load(n),this.value=TL(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class YF{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var t,n,r;if(!e)return;void 0!==e.enable&&(this.enable=e.enable);const i=null!==(t=null!==(n=e.width)&&void 0!==n?n:e.area)&&void 0!==t?t:e.value_area;void 0!==i&&(this.width=i);const s=null!==(r=e.height)&&void 0!==r?r:e.factor;void 0!==s&&(this.height=s)}}class XF{constructor(){this.density=new YF,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){var t;if(!e)return;this.density.load(e.density);const n=null!==(t=e.limit)&&void 0!==t?t:e.max;void 0!==n&&(this.limit=n),void 0!==e.value&&(this.value=e.value)}}class $F{constructor(){this.blur=0,this.color=new lF,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=lF.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(void 0!==e.offset.x&&(this.offset.x=e.offset.x),void 0!==e.offset.y&&(this.offset.y=e.offset.y)))}}const JF="character",ZF="char",eU="image",tU="images",nU="polygon",rU="star";class iU{constructor(){this.loadShape=(e,t,n,r)=>{var i;if(!e)return;const s=BL(e),o=s?[]:{},a=s!==BL(this.options[t]),l=s!==BL(this.options[n]);var c;(a&&(this.options[t]=o),l&&r&&(this.options[n]=o),this.options[t]=OL(null!==(i=this.options[t])&&void 0!==i?i:o,e),!this.options[n]||r)&&(this.options[n]=OL(null!==(c=this.options[n])&&void 0!==c?c:o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){var e;return null!==(e=this.options[JF])&&void 0!==e?e:this.options[ZF]}set character(e){this.options[ZF]=this.options[JF]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){var e;return null!==(e=this.options[eU])&&void 0!==e?e:this.options[tU]}set image(e){this.options[tU]=this.options[eU]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){var e;return null!==(e=this.options[nU])&&void 0!==e?e:this.options[rU]}set polygon(e){this.options[rU]=this.options[nU]=e}get stroke(){return[]}set stroke(e){}load(e){var t,n;if(!e)return;const r=null!==(t=e.options)&&void 0!==t?t:e.custom;if(void 0!==r)for(const s in r){const e=r[s];var i;if(e)this.options[s]=OL(null!==(i=this.options[s])&&void 0!==i?i:{},e)}this.loadShape(e.character,JF,ZF,!0),this.loadShape(e.polygon,nU,rU,!1),this.loadShape(null!==(n=e.image)&&void 0!==n?n:e.images,eU,tU,!0),void 0!==e.close&&(this.close=e.close),void 0!==e.fill&&(this.fill=e.fill),void 0!==e.type&&(this.type=e.type)}}class sU extends NF{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){void 0!==(null===e||void 0===e?void 0:e.size_min)&&void 0===e.minimumValue&&(e.minimumValue=e.size_min),super.load(e),e&&void 0!==e.destroy&&(this.destroy=e.destroy)}}class oU extends AF{constructor(){super(),this.animation=new sU,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(super.load(e),!e)return;const n=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==n&&(this.animation.load(n),this.value=TL(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class aU{constructor(){this.width=0}load(e){e&&(void 0!==e.color&&(this.color=xF.create(this.color,e.color)),void 0!==e.width&&(this.width=TL(e.width)),void 0!==e.opacity&&(this.opacity=TL(e.opacity)))}}class lU extends AF{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(void 0!==e.opacityRate&&(this.opacityRate=e.opacityRate),void 0!==e.sizeRate&&(this.sizeRate=e.sizeRate),void 0!==e.velocityRate&&(this.velocityRate=e.velocityRate))}}class cU{constructor(e,t){this._engine=e,this._container=t,this.bounce=new MF,this.collisions=new LF,this.color=new xF,this.color.value="#fff",this.groups={},this.move=new KF,this.number=new XF,this.opacity=new QF,this.reduceDuplicates=!1,this.shadow=new $F,this.shape=new iU,this.size=new oU,this.stroke=new aU,this.zIndex=new lU}load(e){var t,n,r,i,s;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(xF.create(this.color,e.color)),void 0!==e.groups)for(const c in e.groups){const t=e.groups[c];var o;if(void 0!==t)this.groups[c]=OL(null!==(o=this.groups[c])&&void 0!==o?o:{},t)}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),void 0!==e.reduceDuplicates&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const a=null!==(t=null===(n=e.move)||void 0===n?void 0:n.collisions)&&void 0!==t?t:null===(r=e.move)||void 0===r?void 0:r.bounce;void 0!==a&&(this.collisions.enable=a),this.collisions.load(e.collisions),void 0!==e.interactivity&&(this.interactivity=OL({},e.interactivity));const l=null!==(i=e.stroke)&&void 0!==i?i:null===(s=e.shape)||void 0===s?void 0:s.stroke;if(l&&(this.stroke=AL(l,(e=>{const t=new aU;return t.load(e),t}))),this._container){const t=this._engine.plugins.updaters.get(this._container);if(t)for(const r of t)r.loadOptions&&r.loadOptions(this,e);const n=this._engine.plugins.interactors.get(this._container);if(n)for(const r of n)r.loadParticlesOptions&&r.loadParticlesOptions(this,e)}}}function uU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)e.load(i)}function hU(e,t){const n=new cU(e,t);for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return uU(n,...i),n}class dU{constructor(e,t){this._findDefaultTheme=e=>{var t;return null!==(t=this.themes.find((t=>t.default.value&&t.default.mode===e)))&&void 0!==t?t:this.themes.find((e=>e.default.value&&"any"===e.default.mode))},this._importPreset=e=>{this.load(this._engine.plugins.getPreset(e))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new cF,this.backgroundMask=new hF,this.defaultThemes={},this.delay=0,this.fullScreen=new dF,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new wF(e,t),this.manualParticles=[],this.particles=hU(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var t,n,r,i,s;if(!e)return;void 0!==e.preset&&AL(e.preset,(e=>this._importPreset(e))),void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.delay&&(this.delay=TL(e.delay));const o=null!==(t=e.detectRetina)&&void 0!==t?t:e.retina_detect;void 0!==o&&(this.detectRetina=o),void 0!==e.duration&&(this.duration=TL(e.duration));const a=null!==(n=e.fpsLimit)&&void 0!==n?n:e.fps_limit;void 0!==a&&(this.fpsLimit=a),void 0!==e.pauseOnBlur&&(this.pauseOnBlur=e.pauseOnBlur),void 0!==e.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),void 0!==e.zLayers&&(this.zLayers=e.zLayers),this.background.load(e.background);const l=null!==(r=e.fullScreen)&&void 0!==r?r:e.backgroundMode;FL(l)?this.fullScreen.enable=l:this.fullScreen.load(l),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map((e=>{const t=new bF;return t.load(e),t}))),this.particles.load(e.particles),this.style=OL(this.style,e.style),this._engine.plugins.loadOptions(this,e),void 0!==e.smooth&&(this.smooth=e.smooth);const c=this._engine.plugins.interactors.get(this._container);if(c)for(const u of c)u.loadOptions&&u.loadOptions(this,e);if(void 0!==e.responsive)for(const u of e.responsive){const e=new TF;e.load(u),this.responsive.push(e)}if(this.responsive.sort(((e,t)=>e.maxWidth-t.maxWidth)),void 0!==e.themes)for(const u of e.themes){const e=this.themes.find((e=>e.name===u.name));if(e)e.load(u);else{const e=new EF;e.load(u),this.themes.push(e)}}this.defaultThemes.dark=null===(i=this._findDefaultTheme("dark"))||void 0===i?void 0:i.name,this.defaultThemes.light=null===(s=this._findDefaultTheme("light"))||void 0===s?void 0:s.name}setResponsive(e,t,n){this.load(n);const r=this.responsive.find((n=>"screen"===n.mode&&screen?n.maxWidth>screen.availWidth:n.maxWidth*t>e));return this.load(null===r||void 0===r?void 0:r.options),null===r||void 0===r?void 0:r.maxWidth}setTheme(e){if(e){const t=this.themes.find((t=>t.name===e));t&&this.load(t.options)}else{const e=PL("(prefers-color-scheme: dark)"),t=e&&e.matches,n=this._findDefaultTheme(t?"dark":"light");n&&this.load(n.options)}}}class fU{constructor(e,t){this.container=t,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&await t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e)}e.init()}}async particlesInteract(e,t){for(const n of this._externalInteractors)n.clear(e,t);for(const n of this._particleInteractors)n.isEnabled(e)&&await n.interact(e,t)}async reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}const pU=e=>{if(!RL(e.outMode,e.checkModes))return;const t=2*e.radius;e.coord>e.maxCoord-t?e.setCb(-e.radius):e.coord<t&&e.setCb(e.radius)};class gU{constructor(e,t,n,r,i,s){var o=this;this.container=n,this._calcPosition=function(e,t,n){var r,i,s,a;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(const[,g]of e.plugins){const e=void 0!==g.particlePosition?g.particlePosition(t,o):void 0;if(e)return fL.create(e.x,e.y,n)}const c=EL({size:e.canvas.size,position:t}),u=fL.create(c.x,c.y,n),h=o.getRadius(),d=o.options.move.outModes,f=t=>{pU({outMode:t,checkModes:["bounce","bounce-horizontal"],coord:u.x,maxCoord:e.canvas.size.width,setCb:e=>u.x+=e,radius:h})},p=t=>{pU({outMode:t,checkModes:["bounce","bounce-vertical"],coord:u.y,maxCoord:e.canvas.size.height,setCb:e=>u.y+=e,radius:h})};return f(null!==(r=d.left)&&void 0!==r?r:d.default),f(null!==(i=d.right)&&void 0!==i?i:d.default),p(null!==(s=d.top)&&void 0!==s?s:d.default),p(null!==(a=d.bottom)&&void 0!==a?a:d.default),o._checkOverlap(u,l)?o._calcPosition(e,void 0,n,l+1):u},this._calculateVelocity=()=>{const e=function(e){const t=pL.origin;return t.length=1,t.angle=e,t}(this.direction).copy(),t=this.options.move;if("inside"===t.direction||"outside"===t.direction)return e;const n=Math.PI/180*yL(t.angle.value),r=Math.PI/180*yL(t.angle.offset),i={left:r-n/2,right:r+n/2};return t.straight||(e.angle+=_L(TL(i.left,i.right))),t.random&&"number"===typeof t.speed&&(e.length*=mL()),e},this._checkOverlap=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o.options.collisions,r=o.getRadius();if(!n.enable)return!1;const i=n.overlap;if(i.enable)return!1;const s=i.retries;if(s>=0&&t>s)throw new Error("".concat(dL," particle is overlapping and can't be placed"));return!!o.container.particles.find((t=>CL(e,t.position)<r+t.getRadius()))},this._getRollColor=e=>{var t;if(!e||!this.roll||!this.backColor&&!this.roll.alter)return e;const n=this.roll.horizontal&&this.roll.vertical?2:1,r=this.roll.horizontal?Math.PI/2:0;return Math.floor(((null!==(t=this.roll.angle)&&void 0!==t?t:0)+r)/(Math.PI/n))%2?this.backColor?this.backColor:this.roll.alter?function(e,t,n){return{h:e.h,s:e.s,l:e.l+("darken"===t?-1:1)*n}}(e,this.roll.alter.type,this.roll.alter.value):e:e},this._initPosition=e=>{var t,n;const r=this.container,i=yL(this.options.zIndex.value);this.position=this._calcPosition(r,e,vL(i,0,r.zLayers)),this.initialPosition=this.position.copy();const s=r.canvas.size;switch(this.moveCenter={...LL(this.options.move.center,s),radius:null!==(t=this.options.move.center.radius)&&void 0!==t?t:0,mode:null!==(n=this.options.move.center.mode)&&void 0!==n?n:"percent"},this.direction=function(e,t,n){if(zL(e))return e*Math.PI/180;switch(e){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-t.y,n.x-t.x);case"outside":return Math.atan2(t.y-n.y,t.x-n.x);default:return mL()*Math.PI*2}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside"}this.offset=pL.origin},this._loadShapeData=(e,t)=>{const n=e.options[this.shape];if(n)return OL({close:e.close,fill:e.fill},DL(n,this.id,t))},this._engine=e,this.init(t,r,i,s)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,n=this.pathGenerator;for(const[,r]of t.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of t.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);n&&n.reset(this)}draw(e){const t=this.container;for(const[,n]of t.plugins)t.canvas.drawParticlePlugin(n,this,e);t.canvas.drawParticle(this,e)}getFillColor(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:nF(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return null!==(e=this.bubble.radius)&&void 0!==e?e:this.size.value}getStrokeColor(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:nF(this.strokeColor))}init(e,t,n,r){var i,s,o;const a=this.container,l=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const c=a.retina.pixelRatio,u=a.actualOptions,h=hU(this._engine,a,u.particles),d=h.shape.type,{reduceDuplicates:f}=h;this.shape=DL(d,this.id,f);const p=h.shape;if(n&&n.shape&&n.shape.type){const e=DL(n.shape.type,this.id,f);e&&(this.shape=e,p.load(n.shape))}this.shapeData=this._loadShapeData(p,f),h.load(n);const g=this.shapeData;g&&h.load(g.particles);const m=new wF(l,a);m.load(a.actualOptions.interactivity),m.load(h.interactivity),this.interactivity=m,this.fill=null!==(i=null===g||void 0===g?void 0:g.fill)&&void 0!==i?i:h.shape.fill,this.close=null!==(s=null===g||void 0===g?void 0:g.close)&&void 0!==s?s:h.shape.close,this.options=h;const v=this.options.move.path;this.pathDelay=1e3*function(e){const t=e.random,{enable:n,minimumValue:r}=FL(t)?{enable:t,minimumValue:0}:t;return yL(n?TL(e.value,r):e.value)}(v.delay),v.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(v.generator),this.pathGenerator&&a.addPath(v.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=function(e,t){const n=e.value,r=e.animation,i={delayTime:1e3*yL(r.delay),enable:r.enable,value:yL(e.value)*t,max:bL(n)*t,min:wL(n)*t,loops:0,maxLoops:yL(r.count),time:0};if(r.enable){switch(i.decay=1-yL(r.decay),r.mode){case"increase":i.status="increasing";break;case"decrease":i.status="decreasing";break;case"random":i.status=mL()>=.5?"increasing":"decreasing"}const e="auto"===r.mode;switch(r.startValue){case"min":i.value=i.min,e&&(i.status="increasing");break;case"max":i.value=i.max,e&&(i.status="decreasing");break;default:i.value=_L(i),e&&(i.status=mL()>=.5?"increasing":"decreasing")}}return i.initialValue=i.value,i}(this.options.size,c),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-yL(this.options.move.decay);const _=a.particles;_.needsSort=_.needsSort||_.lastZIndex<this.position.z,_.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let y=a.drawers.get(this.shape);y||(y=this._engine.plugins.getShapeDrawer(this.shape),y&&a.drawers.set(this.shape,y)),y&&y.loadShape&&y.loadShape(this);const w=null===(o=y)||void 0===o?void 0:o.getSidesCount;w&&(this.sides=w(this)),this.spawning=!1,this.shadowColor=QL(this.options.shadow.color);for(const b of a.particles.updaters)b.init(this);for(const b of a.particles.movers)b.init&&b.init(this);y&&y.particleInit&&y.particleInit(a,this);for(const[,b]of a.plugins)b.particleCreated&&b.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,n=this.position;return n.x>=-e&&n.y>=-e&&n.y<=t.height+e&&n.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class mU{constructor(e,t){this.position=e,this.particle=t}}class vU{constructor(e,t){this.position={x:e,y:t}}}class _U extends vU{constructor(e,t,n,r){super(e,t),this.size={height:r,width:n}}contains(e){const t=this.size.width,n=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+n}intersects(e){e instanceof yU&&e.intersects(this);const t=this.size.width,n=this.size.height,r=this.position,i=e.position,s=e instanceof _U?e.size:{width:0,height:0},o=s.width,a=s.height;return i.x<r.x+t&&i.x+o>r.x&&i.y<r.y+n&&i.y+a>r.y}}class yU extends vU{constructor(e,t,n){super(e,t),this.radius=n}contains(e){return CL(e,this.position)<=this.radius}intersects(e){const t=this.position,n=e.position,r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),s=this.radius;if(e instanceof yU){return s+e.radius>Math.sqrt(r**2+i**2)}if(e instanceof _U){const{width:t,height:n}=e.size;return Math.pow(r-t,2)+Math.pow(i-n,2)<=s**2||r<=s+t&&i<=s+n||r<=t||i<=n}return!1}}class wU{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:e,y:t}=this.rectangle.position,{width:n,height:r}=this.rectangle.size,{capacity:i}=this;for(let s=0;s<4;s++)this._subs.push(new wU(new _U(e+n/2*(s%2),t+r/2*(Math.round(s/2)-s%2),n/2,r/2),i));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return!!this.rectangle.contains(e.position)&&(this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some((t=>t.insert(e)))))}query(e,t,n){const r=n||[];if(!e.intersects(this.rectangle))return[];for(const i of this._points)!e.contains(i.position)&&CL(e.position,i.position)>i.particle.getRadius()&&(!t||t(i.particle))||r.push(i.particle);if(this._divided)for(const i of this._subs)i.query(e,t,r);return r}queryCircle(e,t,n){return this.query(new yU(e.x,e.y,t),n)}queryRectangle(e,t,n){return this.query(new _U(e.x,e.y,t.width,t.height),n)}}const bU=e=>new _U(-e.width/4,-e.height/4,3*e.width/2,3*e.height/2);class TU{constructor(e,t){this._applyDensity=(e,t,n)=>{var r;if(null===(r=e.number.density)||void 0===r||!r.enable)return;const i=e.number,s=this._initDensityFactor(i.density),o=i.value,a=i.limit>0?i.limit:o,l=Math.min(o,a)*s+t,c=Math.min(this.count,this.filter((e=>e.group===n)).length);this.limit=i.limit*s,c<l?this.push(Math.abs(l-c),void 0,e,n):c>l&&this.removeQuantity(c-l,n)},this._initDensityFactor=e=>{const t=this._container;if(!t.canvas.element||!e.enable)return 1;const n=t.canvas.element,r=t.retina.pixelRatio;return n.width*n.height/(e.factor*r**2*e.area)},this._pushParticle=(e,t,n,r)=>{try{let i=this.pool.pop();i?i.init(this._nextId,e,t,n):i=new gU(this._engine,this._nextId,this._container,e,t,n);let s=!0;if(r&&(s=r(i)),!s)return;return this._array.push(i),this._zArray.push(i),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:i}}),i}catch(Hr){return void xL().warning("".concat(dL," adding particle: ").concat(Hr))}},this._removeParticle=(e,t,n)=>{const r=this._array[e];if(!r||r.group!==t)return!1;r.destroy(n);const i=this._zArray.indexOf(r);return this._array.splice(e,1),this._zArray.splice(i,1),this.pool.push(r),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:r}}),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new fU(e,t);const n=t.canvas.size;this.quadTree=new wU(bU(n),4),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,t=e.actualOptions;for(const n of t.manualParticles)this.addParticle(n.position?LL(n.position,e.canvas.size):void 0,n.options)}addParticle(e,t,n,r){const i=this._container.actualOptions.particles.number.limit;if(i>0){const e=this.count+1-i;e>0&&this.removeQuantity(e)}return this._pushParticle(e,t,n,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const t=this._container;t.canvas.clear(),await this.update(e);for(const[,n]of t.plugins)t.canvas.drawPlugin(n,e);for(const n of this._zArray)n.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){const e=this._container,t=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let n=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,i]of e.plugins)if(void 0!==i.particlesInitialization&&(n=i.particlesInitialization()),n)break;this._interactionManager.init();for(const[,i]of e.pathGenerators)i.init(e);if(this.addManualParticles(),!n){for(const e in t.particles.groups){const n=t.particles.groups[e];for(let i=this.count,s=0;s<(null===(r=n.number)||void 0===r?void 0:r.value)&&i<t.particles.number.value;i++,s++){var r;this.addParticle(void 0,n,e)}}for(let e=this.count;e<t.particles.number.value;e++)this.addParticle()}}push(e,t,n,r){this.pushing=!0;for(let i=0;i<e;i++)this.addParticle(null===t||void 0===t?void 0:t.position,n,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,t,n){this.removeAt(this._array.indexOf(e),void 0,t,n)}removeAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(e<0||e>this.count)return;let i=0;for(let s=e;i<t&&s<this.count;s++)this._removeParticle(s--,n,r)&&i++}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups;for(const n in t)this._applyDensity(t[n],0,n);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const t=this._container,n=new Set;this.quadTree=new wU(bU(t.canvas.size),4);for(const[,r]of t.pathGenerators)r.update();for(const[,r]of t.plugins)r.update&&r.update(e);for(const r of this._array){const i=t.canvas.resizeFactor;i&&!r.ignoresResizeRatio&&(r.position.x*=i.width,r.position.y*=i.height,r.initialPosition.x*=i.width,r.initialPosition.y*=i.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,t]of this._container.plugins){if(r.destroyed)break;t.particleUpdate&&t.particleUpdate(r,e)}for(const t of this.movers)t.isEnabled(r)&&t.move(r,e);r.destroyed?n.add(r):this.quadTree.insert(new mU(r.getPosition(),r))}if(n.size){const e=e=>!n.has(e);this._array=this.filter(e),this._zArray=this._zArray.filter(e),this.pool.push(...n)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const t of this.updaters)t.update(r,e);r.destroyed||r.spawning||await this._interactionManager.particlesInteract(r,e)}if(delete t.canvas.resizeFactor,this.needsSort){const e=this._zArray;e.sort(((e,t)=>t.position.z-e.position.z||e.id-t.id)),this.lastZIndex=e[e.length-1].position.z,this.needsSort=!1}}}class CU{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||IL()?1:window.devicePixelRatio,this.reduceFactor=1;const n=this.pixelRatio;if(e.canvas.element){const t=e.canvas.element;e.canvas.size.width=t.offsetWidth*n,e.canvas.size.height=t.offsetHeight*n}const r=t.particles,i=r.move;this.attractDistance=yL(i.attract.distance)*n,this.maxSpeed=yL(i.gravity.maxSpeed)*n,this.sizeAnimationSpeed=yL(r.size.animation.speed)*n}initParticle(e){const t=e.options,n=this.pixelRatio,r=t.move,i=r.distance,s=e.retina;s.attractDistance=yL(r.attract.distance)*n,s.moveDrift=yL(r.drift)*n,s.moveSpeed=yL(r.speed)*n,s.sizeAnimationSpeed=yL(t.size.animation.speed)*n;const o=s.maxDistance;o.horizontal=void 0!==i.horizontal?i.horizontal*n:void 0,o.vertical=void 0!==i.vertical?i.vertical*n:void 0,s.maxSpeed=yL(r.gravity.maxSpeed)*n}}function EU(e){return e&&!e.destroyed}function kU(e,t){const n=new dU(e,t);for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return uU(n,...i),n}const SU={generate:e=>e.velocity,init:()=>{},update:()=>{},reset:()=>{}};class xU{constructor(e,t,n){this.id=t,this._intersectionManager=e=>{if(EU(this)&&this.actualOptions.pauseOnOutsideViewport)for(const t of e)t.target===this.interactivity.element&&(t.isIntersecting?this.play:this.pause)()},this._nextFrame=async e=>{try{var t;if(!this.smooth&&void 0!==this.lastFrameTime&&e<this.lastFrameTime+1e3/this.fpsLimit)return void this.draw(!1);null!==(t=this.lastFrameTime)&&void 0!==t||(this.lastFrameTime=e);const n=function(e){return{value:e,factor:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?60/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:60):60*e/1e3}}(e-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(n.value),this.lastFrameTime=e,n.value>1e3)return void this.draw(!1);if(await this.particles.draw(n),!this.alive())return void this.destroy();this.getAnimationStatus()&&this.draw(!1)}catch(Hr){xL().error("".concat(dL," in animation loop"),Hr)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=n,this._initialSourceOptions=n,this.retina=new CU(this),this.canvas=new sF(this),this.particles=new TU(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=kU(this._engine,this),this.actualOptions=kU(this._engine,this),this._eventListeners=new aF(this),"undefined"!==typeof IntersectionObserver&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver((e=>this._intersectionManager(e)))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!EU(this))return;const t=this.interactivity.element;if(!t)return;const n=(t,n,r)=>{if(!EU(this))return;const i=this.retina.pixelRatio,s={x:n.x*i,y:n.y*i},o=this.particles.quadTree.queryCircle(s,r*i);e(t,o)};let r=!1,i=!1;t.addEventListener("click",(e=>{if(!EU(this))return;const t=e,r={x:t.offsetX||t.clientX,y:t.offsetY||t.clientY};n(e,r,1)})),t.addEventListener("touchstart",(()=>{EU(this)&&(r=!0,i=!1)})),t.addEventListener("touchmove",(()=>{EU(this)&&(i=!0)})),t.addEventListener("touchend",(e=>{if(EU(this)){if(r&&!i){const t=e;let r=t.touches[t.touches.length-1];if(!r&&(r=t.changedTouches[t.changedTouches.length-1],!r))return;const i=this.canvas.element,s=i?i.getBoundingClientRect():void 0,o={x:r.clientX-(s?s.left:0),y:r.clientY-(s?s.top:0)};n(e,o,Math.max(r.radiusX,r.radiusY))}r=!1,i=!1}})),t.addEventListener("touchcancel",(()=>{EU(this)&&(r=!1,i=!1)}))}addLifeTime(e){this._lifeTime+=e}addPath(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!EU(this)||!n&&this.pathGenerators.has(e))&&(this.pathGenerators.set(e,null!==t&&void 0!==t?t:SU),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!EU(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,n]of this.drawers)n.destroy&&n.destroy(this);for(const n of this.drawers.keys())this.drawers.delete(n);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex((e=>e===this));t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!EU(this))return;let t=e;this._drawAnimationFrame=requestAnimationFrame((async e=>{t&&(this.lastFrameTime=void 0,t=!1),await this._nextFrame(e)}))}async export(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const[,n]of this.plugins){if(!n.export)continue;const r=await n.export(e,t);if(r.supported)return r.blob}xL().error("".concat(dL," - Export plugin with type ").concat(e," not found"))}getAnimationStatus(){return!this._paused&&!this.pageHidden&&EU(this)}handleClickMode(e){if(EU(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}async init(){if(!EU(this))return;const e=this._engine.plugins.getSupportedShapes();for(const n of e){const e=this._engine.plugins.getShapeDrawer(n);e&&this.drawers.set(n,e)}this._options=kU(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=kU(this._engine,this,this._options);const t=this._engine.plugins.getAvailablePlugins(this);for(const[n,r]of t)this.plugins.set(n,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=1e3*yL(this.actualOptions.duration),this._delay=1e3*yL(this.actualOptions.delay),this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,n]of this.drawers)n.init&&await n.init(this);for(const[,n]of this.plugins)n.init&&await n.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,n]of this.plugins)n.particlesSetup&&n.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){EU(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(EU(this)&&(void 0!==this._drawAnimationFrame&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!EU(this))return;const t=this._paused||e;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),t)for(const[,e]of this.plugins)e.play&&e.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}else this._firstStart=!1}async refresh(){if(EU(this))return this.stop(),this.start()}async reset(){if(EU(this))return this._initialSourceOptions=void 0,this._options=kU(this._engine,this),this.actualOptions=kU(this._engine,this,this._options),this.refresh()}setNoise(e,t,n){EU(this)&&this.setPath(e,t,n)}setPath(e,t,n){if(!e||!EU(this))return;const r={...SU};if(VL(e))r.generate=e,t&&(r.init=t),n&&(r.update=n);else{const t=r;r.generate=e.generate||t.generate,r.init=e.init||t.init,r.update=e.update||t.update}this.addPath("default",r,!0)}async start(){EU(this)&&!this.started&&(await this.init(),this.started=!0,await new Promise((e=>{this._delayTimeout=setTimeout((async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,e]of this.plugins)e.start&&await e.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()}),this._delay)})))}stop(){if(EU(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth!==e&&(this.responsiveMaxWidth=e,!0)}}class IU{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let n=this._listeners.get(e);n||(n=[],this._listeners.set(e,n)),n.push(t)}dispatchEvent(e,t){const n=this._listeners.get(e);n&&n.forEach((e=>e(t)))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const n=this._listeners.get(e);if(!n)return;const r=n.length,i=n.indexOf(t);i<0||(1===r?this._listeners.delete(e):n.splice(i,1))}}function PU(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.get(e);return i&&!r||(i=[...n.values()].map((t=>t(e))),t.set(e,i)),i}class RU{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){!this.getPathGenerator(e)&&this.pathGenerators.set(e,t)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,t){(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){AL(e,(e=>{!this.getShapeDrawer(e)&&this.drawers.set(e,t)}))}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const n of this.plugins)n.needsPlugin(e.actualOptions)&&t.set(n.id,n.getPlugin(e));return t}getInteractors(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return PU(e,this.interactors,this._initializers.interactors,t)}getMovers(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return PU(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find((t=>t.id===e))}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return PU(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const n of this.plugins)n.loadOptions(e,t)}loadParticlesOptions(e,t){const n=this.updaters.get(e);if(n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];for(const e of n)e.loadOptions&&e.loadOptions(t,...i)}}}class NU{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new IU,this._initialized=!1,this.plugins=new RU(this)}get configs(){const e={};for(const[t,n]of this._configs)e[t]=n;return e}get version(){return"2.12.0"}addConfig(e,t){var n;UL(e)?t&&(t.name=e,this._configs.set(e,t)):this._configs.set(null!==(n=e.name)&&void 0!==n?n:"default",e)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.plugins.addInteractor(e,t),await this.refresh(n)}async addMover(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.plugins.addParticleMover(e,t),await this.refresh(n)}async addParticleUpdater(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.plugins.addParticleUpdater(e,t),await this.refresh(n)}async addPathGenerator(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.plugins.addPathGenerator(e,t),await this.refresh(n)}async addPlugin(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.plugins.addPlugin(e),await this.refresh(t)}async addPreset(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.plugins.addPreset(e,t,n),await this.refresh(r)}async addShape(e,t,n,r,i){let s,o,a,l,c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];FL(n)?(c=n,o=void 0):o=n,FL(r)?(c=r,a=void 0):a=r,FL(i)?(c=i,l=void 0):l=i,s=VL(t)?{afterEffect:a,destroy:l,draw:t,init:o}:t,this.plugins.addShapeDrawer(e,s),await this.refresh(c)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),n=t[e];if(n&&!n.destroyed)return n;t.splice(e,1)}init(){this._initialized||(this._initialized=!0)}async load(e,t){return this.loadFromArray(e,t)}async loadFromArray(e,t,n){let r;return!function(e){return!(!(t=e).id&&!t.element&&!t.url&&!t.options);var t}(e)?(r={},UL(e)?r.id=e:r.options=e,zL(t)?r.index=t:r.options=null!==t&&void 0!==t?t:r.options,r.index=null!==n&&void 0!==n?n:r.index):r=e,this._loadParams(r)}async loadJSON(e,t,n){let r,i;return zL(t)||void 0===t?r=e:(i=e,r=t),this._loadParams({id:i,url:r,index:n})}async refresh(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.dom().forEach((e=>e.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}async set(e,t,n,r){const i={index:r};return UL(e)?i.id=e:i.element=e,t instanceof HTMLElement?i.element=t:i.options=t,zL(n)?i.index=n:i.options=null!==n&&void 0!==n?n:i.options,this._loadParams(i)}async setJSON(e,t,n,r){const i={};return e instanceof HTMLElement?(i.element=e,i.url=t,i.index=n):(i.id=e,i.element=t,i.url=n,i.index=r),this._loadParams(i)}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error("".concat(dL," can only set click handlers after calling tsParticles.load()"));for(const n of t)n.addClickHandler(e)}async _loadParams(e){var t,n;const r=null!==(t=e.id)&&void 0!==t?t:"tsparticles".concat(Math.floor(1e4*mL())),{index:i,url:s}=e,o=s?await async function(e){const t=DL(e.url,e.index);if(!t)return e.fallback;const n=await fetch(t);return n.ok?n.json():(xL().error("".concat(dL," ").concat(n.status," while retrieving config file")),e.fallback)}({fallback:e.options,url:s,index:i}):e.options;let a=null!==(n=e.element)&&void 0!==n?n:document.getElementById(r);a||(a=document.createElement("div"),a.id=r,document.body.append(a));const l=DL(o,i),c=this.dom(),u=c.findIndex((e=>e.id===r));if(u>=0){const e=this.domItem(u);e&&!e.destroyed&&(e.destroy(),c.splice(u,1))}let h;if("canvas"===a.tagName.toLowerCase())h=a,h.dataset[lL]="false";else{const e=a.getElementsByTagName("canvas");e.length?(h=e[0],h.dataset[lL]="false"):(h=document.createElement("canvas"),h.dataset[lL]="true",a.appendChild(h))}h.style.width||(h.style.width="100%"),h.style.height||(h.style.height="100%");const d=new xU(this,r,l);return u>=0?c.splice(u,0,d):c.push(d),d.canvas.loadCanvas(h),await d.start(),d}}class OU{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){var t;const n=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==n.h&&void 0!==n.s&&void 0!==n.l)return JL(n)}handleRangeColor(e){var t;const n=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==n.h&&void 0!==n.l)return JL({h:yL(n.h),l:yL(n.l),s:yL(n.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return t?function(e){const t=JL(e);return{a:e.a,b:t.b,g:t.g,r:t.r}}({a:t.length>4?kL(t[5]):1,h:parseInt(t[1],10),l:parseInt(t[3],10),s:parseInt(t[2],10)}):void 0}}class AU{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){var t;const n=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==n.r)return n}handleRangeColor(e){var t;const n=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==n.r)return{r:yL(n.r),g:yL(n.g),b:yL(n.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return t?{a:t.length>4?kL(t[5]):1,b:parseInt(t[3],10),g:parseInt(t[2],10),r:parseInt(t[1],10)}:void 0}}const DU=function(){const e=new AU,t=new OU;HL(e),HL(t);const n=new NU;return n.init(),n}();IL()||(window.tsParticles=DU);const MU=e=>"object"===typeof e&&null!==e;function LU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!1;if(!MU(e)||!MU(t))return e===t;const r=Object.keys(e).filter((e=>!n(e))),i=Object.keys(t).filter((e=>!n(e)));if(r.length!==i.length)return!1;for(const s of r){const r=e[s],i=t[s];if(MU(r)&&MU(i)){if(r===t&&i===e)continue;if(!LU(r,i,n))return!1}else if(Array.isArray(r)&&Array.isArray(i)){if(!FU(r,i,n))return!1}else if(r!==i)return!1}return!0}function FU(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],s=t[r];if(Array.isArray(i)&&Array.isArray(s)){if(!FU(i,s,n))return!1}else if(MU(i)&&MU(s)){if(!LU(i,s,n))return!1}else if(i!==s)return!1}return!0}const UU="tsparticles";class zU extends t.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){var t,n;const r=null!==(t=e.options)&&void 0!==t?t:e.params,i=null!==(n=this.props.options)&&void 0!==n?n:this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!LU(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!LU(r,i,(e=>e.startsWith("_")))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then((()=>{super.forceUpdate()}))}componentDidMount(){(async()=>{this.props.init&&await this.props.init(DU),this.setState({init:!0},(async()=>{await this.loadParticles()}))})()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:r,canvasClassName:i,id:s}=this.props;return t.createElement("div",{className:r,id:s},t.createElement("canvas",{className:i,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){var e,t,n;if(!this.state.init)return;const r=null!==(e=null!==(t=this.props.id)&&void 0!==t?t:zU.defaultProps.id)&&void 0!==e?e:UU,i=await DU.load({url:this.props.url,id:r,options:null!==(n=this.props.options)&&void 0!==n?n:this.props.params});this.props.container&&(this.props.container.current=i),this.setState({library:i}),this.props.loaded&&await this.props.loaded(i)}}zU.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:UU};const VU=e=>{let{loaderText:t}=e;return(0,of.jsx)("div",{id:"loader-overlay",className:"loader-overlay",children:(0,of.jsx)("div",{class:"loader-container",children:(0,of.jsx)("div",{className:"loader",children:t})})})},jU=e=>{let{storeCollectionReference:n,dbCollectionReference:r}=e;const[i,s]=(0,t.useContext)(oL),[o,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(null),p=()=>{c(!l),console.log(l)};return(0,of.jsxs)("div",{children:[i?(0,of.jsxs)("button",{onClick:p,children:[(0,of.jsxs)("svg",{"aria-hidden":"true",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,of.jsx)("path",{"stroke-width":"2",stroke:"#fffffff",d:"M13.5 3H12H8C6.34315 3 5 4.34315 5 6V18C5 19.6569 6.34315 21 8 21H11M13.5 3L19 8.625M13.5 3V7.625C13.5 8.17728 13.9477 8.625 14.5 8.625H19M19 8.625V11.8125","stroke-linejoin":"round","stroke-linecap":"round"}),(0,of.jsx)("path",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"2",stroke:"#fffffff",d:"M17 15V18M17 21V18M17 18H14M17 18H20"})]}),"ADD IMAGE"]}):(0,of.jsx)("div",{}),l&&(0,of.jsxs)("div",{className:"modal",children:[(0,of.jsx)("div",{onClick:p,className:"overlay"}),(0,of.jsxs)("div",{className:"modal-content",children:[(0,of.jsx)("span",{class:"title",children:"Upload a File"}),(0,of.jsx)("p",{class:"message",children:"Select a file to upload from your computer or device."}),(0,of.jsx)("div",{class:"actions",children:(0,of.jsxs)("label",{htmlFor:"file",class:"upload-btn",children:["Choose File",(0,of.jsx)("input",{hidden:!0,type:"file",id:"file",onChange:e=>f(e.target.files[0])})]})}),(0,of.jsx)("div",{class:"result",children:(0,of.jsx)("div",{className:"file-uploaded",children:(0,of.jsx)("p",{children:d?d.name:"No file selected"})})}),(0,of.jsx)(sL,{tags:o,setTags:a}),(0,of.jsx)("button",{class:"upload-button",onClick:async()=>{if(null===d)return;h(!0);const e=Mv(GM,"".concat(n,"/").concat(d.name+iL()));await function(e,t,n){return vv(e=op(e),t,n)}(e,d),console.log(e);const t=await Dv(e);console.log("File available at:",t),await BM(sM(KM,r),{tags:o,path:t,timestamp:new Date}),console.log("Image URL saved to Firestore!"),h(!1),p(),f(null),a([])},children:"Upload"}),(0,of.jsx)("button",{className:"close-modal",onClick:async()=>{f(null),p(),a([])},children:"X"}),u&&(0,of.jsx)(VU,{loaderText:"Loading..."})]})]})]})},BU=e=>{let{tableName:n,isAdminPanel:r,handleUpload:i,handleDelete:s}=e;const[o,a]=(0,t.useState)([]);return(0,of.jsxs)("div",{children:[(0,of.jsxs)("div",{class:"tag-line-container",children:[(0,of.jsx)("div",{class:"tag-line-width",children:(0,of.jsx)(sL,{tags:o,setTags:a})}),(0,of.jsx)(jU,{storeCollectionReference:"paintings",dbCollectionReference:"paintings"})]}),(0,of.jsx)(YM,{tags:o,collectionReference:"paintings"})]})},qU=e=>{let{tableName:n,isAdminPanel:r,handleUpload:i,handleDelete:s}=e;const[o,a]=(0,t.useState)([]);return(0,of.jsxs)("div",{children:[(0,of.jsxs)("div",{class:"tag-line-container",children:[(0,of.jsx)("div",{class:"tag-line-width",children:(0,of.jsx)(sL,{tags:o,setTags:a})}),(0,of.jsx)(jU,{storeCollectionReference:"references",dbCollectionReference:"references"})]}),(0,of.jsx)(YM,{tags:o,collectionReference:"references"})]})},WU=n.p+"static/media/bat.7576252e3cc0132b11bb.PNG",HU=e=>{let{onClick:t,svgPath:n,buttonText:r}=e;return(0,of.jsxs)("button",{onClick:t,class:"Btn",children:[(0,of.jsx)("div",{class:"sign",children:(0,of.jsx)("svg",{viewBox:"0 0 512 512",children:(0,of.jsx)("path",{d:n})})}),(0,of.jsx)("div",{class:"text",children:r})]})},KU=()=>(0,of.jsx)("div",{children:(0,of.jsxs)("div",{className:"about",children:[(0,of.jsx)("div",{className:"about-img-body",children:(0,of.jsx)("img",{src:WU,alt:"",class:"about-img"})}),(0,of.jsxs)("div",{className:"about-info",children:[(0,of.jsx)("h1",{className:"about-title",children:"\u041f\u0440\u043e \u043c\u0435\u043d\u0435"}),(0,of.jsx)("h2",{className:"about-subtitle",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e"}),(0,of.jsx)("p",{className:"about-text",children:"\u0425\u0443\u0434\u043e\u0436\u043d\u0438\u0446\u044f, \u0440\u043e\u0431\u043e\u0442\u0438 \u044f\u043a\u043e\u0457 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0456 \u043d\u0430 \u0446\u044c\u043e\u043c\u0443 \u0441\u0430\u0439\u0442\u0456, \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u0443\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0436\u0438\u0432\u043e\u043f\u0438\u0441\u0456 \u043e\u043b\u0456\u0454\u044e \u0442\u0430 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u043c\u0443 \u043c\u0438\u0441\u0442\u0435\u0446\u0442\u0432\u0456. \u0422\u0443\u0442 \u0432\u0438 \u0437\u043d\u0430\u0439\u0434\u0435\u0442\u0435 \u044f\u043a \u0457\u0457 \u0431\u0456\u043b\u044c\u0448 \u0440\u0430\u043d\u043d\u0456 \u0440\u043e\u0431\u043e\u0442\u0438, \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u0456 \u0430\u043a\u0432\u0430\u0440\u0435\u043b\u043b\u044e \u0442\u0430 \u0430\u043a\u0440\u0438\u043b\u043e\u043c, \u0442\u0430\u043a \u0456 \u043f\u0456\u0437\u043d\u0456\u0448\u0456 \u0442\u0432\u043e\u0440\u0438. \u0412\u043e\u043d\u0430 \u043f\u043e\u0441\u0442\u0456\u0439\u043d\u043e \u0435\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0443\u0454 \u0437 \u0440\u0456\u0437\u043d\u0438\u043c\u0438 \u0442\u0435\u0445\u043d\u0456\u043a\u0430\u043c\u0438 \u0442\u0430 \u0441\u0442\u0438\u043b\u044f\u043c\u0438. \u041f\u0456\u0441\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f \u0445\u0443\u0434\u043e\u0436\u043d\u044c\u043e\u0457 \u0448\u043a\u043e\u043b\u0438 \u0432\u043e\u043d\u0430 \u043f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u043b\u0430 \u0441\u0432\u043e\u0454 \u0441\u0430\u043c\u043e\u0441\u0442\u0456\u0439\u043d\u0435 \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f, \u043f\u0440\u043e\u0439\u0448\u043e\u0432\u0448\u0438 \u0431\u0435\u0437\u043b\u0456\u0447 \u043e\u043d\u043b\u0430\u0439\u043d-\u043a\u0443\u0440\u0441\u0456\u0432 \u0456 \u043f\u0440\u0430\u043a\u0442\u0438\u043a. \u0422\u0435\u043f\u0435\u0440, \u043d\u0430\u043a\u043e\u043f\u0438\u0447\u0438\u0432\u0448\u0438 \u0431\u0430\u0433\u0430\u0442\u0438\u0439 \u0434\u043e\u0441\u0432\u0456\u0434 \u0456 \u0437\u043d\u0430\u043d\u043d\u044f, \u0445\u0443\u0434\u043e\u0436\u043d\u0438\u0446\u044f \u0433\u043e\u0442\u043e\u0432\u0430 \u043f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044f \u0441\u0432\u043e\u0454\u044e \u0442\u0432\u043e\u0440\u0447\u0456\u0441\u0442\u044e \u0437 \u0443\u0441\u0456\u043c \u0441\u0432\u0456\u0442\u043e\u043c."}),(0,of.jsx)("p",{className:"about-text",children:"\u0412\u043e\u043d\u0430 \u0442\u0430\u043a\u043e\u0436 \u0437\u0430\u0445\u043e\u043f\u043b\u044e\u0454\u0442\u044c\u0441\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0454\u044e \u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0432\u043b\u0430\u0441\u043d\u0456 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u0457 \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0441\u0432\u043e\u0457\u0445 \u043a\u0430\u0440\u0442\u0438\u043d. \u041e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u043a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0440\u0435\u0444\u0435\u0440\u0435\u043d\u0441\u0456\u0432 \u0432 \u0457\u0457 \u0430\u0440\u0441\u0435\u043d\u0430\u043b\u0456 \u043f\u043e\u0441\u0442\u0456\u0439\u043d\u043e \u0437\u0440\u043e\u0441\u0442\u0430\u0454, \u0432\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0430 \u0443 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u0456 \u043c\u0456\u0441\u0446\u044f \u0434\u043b\u044f \u0457\u0445 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u043d\u043d\u044f \u0442\u0430 \u0441\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f. \u0422\u0430\u043a \u0456 \u0431\u0443\u0432 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0439 \u0446\u0435\u0439 \u0441\u0430\u0439\u0442."})]})]})});function GU(){const e=xd();return(0,t.useEffect)((()=>{const e=new nf({duration:1.5,smooth:!0});return requestAnimationFrame((function t(n){e.raf(n),requestAnimationFrame(t)})),e.on("scroll",Fo.update),Fo.refresh(),()=>{e.destroy()}}),[e]),(0,of.jsx)("div",{children:(0,of.jsx)("div",{children:(0,of.jsx)(Hd,{children:(0,of.jsxs)(qd,{path:"/",children:[(0,of.jsx)(qd,{index:!0,element:(0,of.jsx)(lf,{})}),(0,of.jsx)(qd,{path:"artworks",element:(0,of.jsx)(BU,{tableName:"artworks"})}),(0,of.jsx)(qd,{path:"reference",element:(0,of.jsx)(qU,{tableName:"references"})}),(0,of.jsx)(qd,{path:"about",element:(0,of.jsx)(KU,{})})]})})})})}Ph.registerPlugin(Fo);var QU=n(950),YU=n.t(QU,2);function XU(){return XU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XU.apply(this,arguments)}function $U(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const JU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(Hr){}new Map;const ZU=r.startTransition;YU.flushSync,r.useId;function ez(e){let{basename:n,children:r,future:i,window:s}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),Hh((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Bh("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:qh(t)}),null,a)));let l=o.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=t.useCallback((e=>{h&&ZU?ZU((()=>u(e))):u(e)}),[u,h]);return t.useLayoutEffect((()=>l.listen(d)),[l,d]),t.createElement(Wd,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const tz="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,nz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rz=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:d}=e,f=$U(e,JU),{basename:p}=t.useContext(Td),g=!1;if("string"===typeof u&&nz.test(u)&&(r=u,tz))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=ad(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(Hr){}let m=function(e,n){let{relative:r}=void 0===n?{}:n;Sd()||zh(!1);let{basename:i,navigator:s}=t.useContext(Td),{hash:o,pathname:a,search:l}=Rd(e,{relative:r}),c=a;return"/"!==i&&(c="/"===a?i:dd([i,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),v=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=Pd(),u=xd(),h=Rd(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:qh(u)===qh(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,s,r,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,unstable_viewTransition:d});return t.createElement("a",XU({},f,{href:r||m,onClick:g||o?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var iz,sz;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iz||(iz={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(sz||(sz={}));const oz=()=>{const[e,n]=(0,t.useContext)(oL);(0,t.useEffect)((()=>{const e=function(e,t,n,r){return op(e).onAuthStateChanged(t,n,r)}(HM,n);return()=>e()}),[]);return(0,of.jsx)("div",{children:e?(0,of.jsxs)("div",{class:"logged-in-panel-container",children:[(0,of.jsx)("div",{class:"logout-button-wrapper",children:(0,of.jsx)(HU,{onClick:()=>{(function(e){return op(e).signOut()})(HM).then((()=>{console.log("User signed out")})).catch((e=>{console.error("Error signing out:",e)}))},svgPath:"M294.1 406.1L171.3 283.3c-7.2-7.2-11.3-17.1-11.3-27.3s4.1-20.1 11.3-27.3L294.1 105.9c6.4-6.4 15-9.9 24-9.9c18.7 0 33.9 15.2 33.9 33.9l0 62.1L480 192c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-128 0 0 62.1c0 18.7-15.2 33.9-33.9 33.9c-9 0-17.6-3.6-24-9.9zM160 96l-64 0c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96l0-256c0-53 43-96 96-96l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z",buttonText:"Logout"})}),(0,of.jsxs)("div",{class:"logout-text-wrapper",children:[(0,of.jsx)("p",{children:"Welcome!"}),(0,of.jsx)("p",{children:e.displayName})]})]}):(0,of.jsx)(HU,{onClick:async()=>{try{await async function(e,t,n){if(bg(e.app))return Promise.reject(NE(e,"operation-not-supported-in-this-environment"));const r=zk(e);DE(e,t,oS);const i=qS(r,n);return new XS(r,"signInViaPopup",t,i).executeNotNull()}(HM,QM)}catch(e){console.error(e)}},svgPath:"M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z",buttonText:"Login"})})};function az(){const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null);return(0,t.useEffect)((()=>{HM.onAuthStateChanged((e=>{i(e||null),console.log(e)}))}),[]),(0,of.jsxs)("nav",{children:[(0,of.jsx)("li",{children:(0,of.jsx)(rz,{to:"/",children:(0,of.jsxs)("div",{className:"logo",children:["Art",(0,of.jsx)("span",{children:"Works"})]})})}),(0,of.jsxs)("ul",{className:e?"active":"",children:[(0,of.jsx)("div",{class:"button-wrapper",children:(0,of.jsx)(oz,{})}),(0,of.jsx)("li",{children:(0,of.jsx)(rz,{to:"/",children:"\u0413\u041e\u041b\u041e\u0412\u041d\u0410"})}),(0,of.jsx)("li",{children:(0,of.jsx)(rz,{to:"/artworks",children:"\u0413\u0410\u041b\u0415\u0420\u0415\u042f"})}),(0,of.jsx)("li",{children:(0,of.jsx)(rz,{to:"/reference",children:"\u0420\u0415\u0424\u0415\u0420\u0415\u041d\u0421\u0418"})}),(0,of.jsx)("li",{children:(0,of.jsx)(rz,{to:"/about",children:"\u041f\u0420\u041e \u041c\u0415\u041d\u0415"})})]}),(0,of.jsx)("div",{className:"menu-logout",children:(0,of.jsxs)("div",{className:e?"menuTrigger open":"menuTrigger",onClick:()=>{n(!e)},children:[(0,of.jsx)("span",{}),(0,of.jsx)("span",{}),(0,of.jsx)("span",{}),(0,of.jsx)("span",{})]})})]})}Wr.registerPlugin(Fo,Mh);const lz=function(){return(0,of.jsx)(of.Fragment,{children:(0,of.jsxs)(aL,{children:[(0,of.jsx)(az,{}),(0,of.jsx)(GU,{})]})})},cz=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))},uz=i.createRoot(document.getElementById("root"));window.addEventListener("error",(e=>{if("ResizeObserver loop limit exceeded"===e.message||"ResizeObserver loop completed with undelivered notifications."===e.message){const e=document.getElementById("webpack-dev-server-client-overlay-div"),t=document.getElementById("webpack-dev-server-client-overlay");t&&t.setAttribute("style","display: none"),e&&e.setAttribute("style","display: none")}})),uz.render((0,of.jsx)(t.StrictMode,{children:(0,of.jsx)(ez,{children:(0,of.jsx)(lz,{})})})),cz()})()})();
//# sourceMappingURL=main.1d72f872.js.map